(window.webpackJsonp=window.webpackJsonp||[]).push([[18,5],{1000:function(e,t,n){var r=n(806),o=n(860).f,i=Function.prototype,a=i.toString,c=/^\s*function ([^ (]*)/;!r||"name"in i||o(i,"name",{configurable:!0,get:function(){try{return a.call(this).match(c)[1]}catch(e){return""}}})},1001:function(e,t,n){var r;window,e.exports=(r=n(884),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=267)}({266:function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(3),a=i.Util,c=i.G.Canvas,s=function(){function e(e){a.mix(this,r({type:"minimap",container:null,isMinimap:!0,backgroundCSS:{height:"100%",position:"absolute",margin:"auto",left:0,right:0,"z-index":0},minimapContainerCSS:{background:"#fff",position:"relative",overflow:"hidden"},viewportCSS:{height:"100%",position:"absolute",margin:"auto",left:0,right:0,"z-index":1},controlLayerCSS:{width:"100%",height:"100%",cursor:"move",position:"absolute","z-index":2},viewportWindowStyle:{stroke:"#91D5FF"},viewportBackStyle:{fill:"#EBEEF2",fillOpacity:.65},getGraph:function(){}},e)),this._initContainer(),this._initMiniMap(),this._bindEvent(),this._assignDebounceRender()}var t=e.prototype;return t._assignDebounceRender=function(){var e=this;this.debounceRender=a.debounce(function(){e.renderBackground(),e.renderViewPort()},32)},t.bindGraph=function(e){var t=this;e.on("afterchange",function(){t.debounceRender()}),e.on("afterlayout",function(){t.debounceRender()}),e.on("afterviewportchange",function(){t.renderViewPort()}),e.on("afterfilter",function(){t.debounceRender()})},t.renderBackground=function(e){e||(e=this.getGraph());var t=this.miniMapCanvas,n=this.width,r=this.height,o=[];e.saveImage({graph:e,width:n,height:r,canvas:t,beforeTransform:function(t){var n=t[0];e.getNodes().forEach(function(e){var t=e.getBBox(),r=e.getModel(),i=t.width;if(i*n<2){var c=e.getGraphicGroup(),s=a.clone(c.getMatrix());c.transform([["t",-r.x,-r.y],["s",2/(i*n),2/(i*n)],["t",r.x,r.y]]),o.push({item:e,originMatrix:s})}})},afterTransform:function(){o.forEach(function(e){var t=e.item,n=e.originMatrix;t.getGraphicGroup().setMatrix(n)})}}),this.miniMapMatrix=t.matrix},t._bindEvent=function(){var e,t,n,r,o,i=this,c=this.controlLayer,s=!1;function u(){s=!1,t=void 0,r=void 0,e=void 0,n=void 0,o=void 0}c.on("mousedown",function(c){i.miniMapMatrix&&(o=i.getGraph(),s=!0,e=a.clone(o.getMatrix()),t=i.miniMapMatrix[0],n=e[0],r={clientX:c.clientX,clientY:c.clientY})}),c.on("mouseup",function(){u()}),c.on("mouseleave",function(){u()}),c.on("mousemove",function(i){if(s&&o){var c=r.clientX-i.clientX,u=r.clientY-i.clientY,l=a.clone(e);a.mat3.translate(l,l,[n*c/t,n*u/t]),o.updateMatrix(l)}})},t._initMiniMap=function(){var e=this.background,t=this.viewPort,n=this.width,o=this.height,i=this.viewportWindowStyle,a=this.viewportBackStyle,s=new c({containerDOM:e,width:n,height:o}),u=new c({containerDOM:t,width:n,height:o}),l=u.addShape("rect",{attrs:r({x:0,y:0,width:n,height:o},i)}),f=u.addShape("path",{attrs:r({path:"M0,0 L1,1"},a)});e.css({width:n+"px",height:o+"px"}),t.css({position:"absolute"}),this.miniMapCanvas=s,this.viewportCanvas=u,this.viewportWindow=l,this.viewportBack=f},t._initContainer=function(){var e=this.container,t=this.width,n=this.height;e=a.initDOMContainer(e,"minimap"),t||(t=a.getWidth(e),this.width=t),n||(n=a.getHeight(e),this.height=n);var r=this.minimapContainerCSS;r.width=t+"px",r.height=n+"px";var o=this.backgroundCSS,i=this.viewportCSS,c=this.controlLayerCSS,s=a.createDOM('<div class="g6-editor-minimap-container"></div>',r),u=a.createDOM('<div class="g6-editor-minimap-background"></div>',o),l=a.createDOM('<div class="g6-editor-minimap-viewport">',i),f=a.createDOM('<div class="g6-editor-minimap-control-layer">',c);e.appendChild(s),s.appendChild(f),s.appendChild(l),s.appendChild(u),this.minimapContainer=s,this.background=u,this.viewPort=l,this.controlLayer=f},t.renderViewPort=function(e){if(e||(e=this.getGraph()),0!==e.getItems().length){var t=this.viewportWindow,n=this.viewportCanvas,r=this.viewportBack,o=this.miniMapMatrix,i=e.getWidth(),c=e.getHeight(),s=this.width,u=this.height,l=e.getMatrix();if(o){var f=a.invertMatrix({x:0,y:0},l),h=a.invertMatrix({x:i,y:c},l),p=a.applyMatrix(f,o),d=a.applyMatrix(h,o),g=d.x-p.x,v=d.y-p.y;r.attr({path:[["M",0,0],["L",s,0],["L",s,u],["L",0,u],["L",0,0],["M",p.x,p.y],["L",p.x,d.y],["L",d.x,d.y],["L",d.x,p.y],["L",p.x,p.y]]}),t.attr({x:p.x,y:p.y,width:g,height:v}),n.draw()}}},t.destroy=function(){this.minimapContainer.destroy()},e}();e.exports=s},267:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(3),i=n(266),a=function(){function e(e){this.options=e}var t=e.prototype;return t.init=function(){var e=this.graph,t=new i(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}({getGraph:function(){return e}},this.options));t.bindGraph(e),this.minimap=t},t.destroy=function(){this.minimap.destroy()},e}();o.Plugins["tool.minimap"]=a,o.Components.Minimap=i,e.exports=a},3:function(e,t){e.exports=r}}))},1003:function(e,t,n){e.exports={container:"src-pages-formManagement-index-module__container--3tW0P",splitLine:"src-pages-formManagement-index-module__splitLine--3YJ5k",folderContainer:"src-pages-formManagement-index-module__folderContainer--QTnq-",buttonContainer:"src-pages-formManagement-index-module__buttonContainer--1Izqz",folderTree:"src-pages-formManagement-index-module__folderTree--1d1J_",formContainer:"src-pages-formManagement-index-module__formContainer--2E41i",filterBox:"src-pages-formManagement-index-module__filterBox--3Ll83",filterItem:"src-pages-formManagement-index-module__filterItem--2HREF",table:"src-pages-formManagement-index-module__table--1WDgV",workFlowContainer:"src-pages-formManagement-index-module__workFlowContainer--2DUB1",left:"src-pages-formManagement-index-module__left--17pGX",right:"src-pages-formManagement-index-module__right--1HjLB",workPlace:"src-pages-formManagement-index-module__workPlace--2jRRC",buttons:"src-pages-formManagement-index-module__buttons--2GZ0j",item:"src-pages-formManagement-index-module__item--qYz39",body:"src-pages-formManagement-index-module__body--1HHqD"}},1004:function(e,t,n){e.exports={drawerModal:"src-pages-formManagement-previewWorkFlow-index-module__drawerModal--yFT7X",content:"src-pages-formManagement-previewWorkFlow-index-module__content--2UPCM",row:"src-pages-formManagement-previewWorkFlow-index-module__row--X-Lj3",label:"src-pages-formManagement-previewWorkFlow-index-module__label--2bYNd",footer:"src-pages-formManagement-previewWorkFlow-index-module__footer--2Pfzs",flowContainer:"src-pages-formManagement-previewWorkFlow-index-module__flowContainer--3vOCP"}},1069:function(e,t,n){"use strict";n(939);var r=n(951),o=(n(154),n(25)),i=n(30),a=n(31),c=n(33),s=n(32),u=n(34),l=n(0),f=n.n(l),h=n(897),p=n(63),d=n(1004),g=n.n(d),v=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o))))._onAfterChange=function(e){if(e.item&&"edge"===e.item.type&&"add"===e.action){var t=n.props.propsAPI;setTimeout(function(){t.executeCommand("undo")})}},n}return Object(u.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){return f.a.createElement(h.a,{className:g.a.flowContainer,data:this.props.flowData,onClick:this.props._onClick,onAfterChange:this._onAfterChange,graph:{edgeDefaultShape:"flow-polyline"}})}}]),t}(l.Component),m=Object(h.e)(v),y=(n(124),n(42)),b=(n(740),n(743)),x=(n(709),n(639)),w=(n(295),n(125)),O=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(s.a)(t).call(this,e))).state={nodeName:"",userType:"1",selectItems:[],selectKeys:[],auditType:"1",nodeDetails:[]},n}return Object(u.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.nodeDetails.find(function(t){return t.id===e.props.currentNode.model.id})||{};console.log(t),"{}"===JSON.stringify(t)?this.setState({nodeDetails:this.props.nodeDetails,selectItems:[],selectKeys:[],nodeName:this.props.currentNode.model.label,userType:"1",auditType:"1",nodeId:this.props.currentNode.model.id}):this.setState({nodeDetails:this.props.nodeDetails,selectItems:t.selectUsers||[],selectKeys:Array.isArray(t.selectUsers)?t.selectUsers.map(function(e){return e.participantId}):[],nodeName:t.nodeName,userType:t.userType,auditType:t.auditType,nodeId:this.props.currentNode.model.id})}},{key:"render",value:function(){var e=this;return console.log(this.state.auditType),f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:g.a.content},f.a.createElement("div",{className:g.a.row},f.a.createElement("div",{className:g.a.label},f.a.createElement("i",null,"*"),"\u8282\u70b9\u540d\u79f0\uff1a"),f.a.createElement(w.a,{placeholder:"\u8bf7\u8f93\u5165\u8282\u70b9\u540d\u79f0",style:{width:"240px"},value:this.state.nodeName,disabled:!0})),f.a.createElement("div",{className:g.a.row},f.a.createElement("div",{className:g.a.label},"\u8bbe\u7f6e\u5ba1\u6279\u4eba\uff1a"),f.a.createElement(x.a.Group,{value:this.state.userType,style:{lineHeight:"32px"},disabled:!0},f.a.createElement(x.a,{value:"1"},"\u6307\u5b9a\u4eba\u5458"),f.a.createElement(x.a,{value:"2"},"\u89d2\u8272"))),f.a.createElement("div",{className:g.a.row},this.state.selectItems.map(function(e){return f.a.createElement(b.a,{key:e.participantId,color:"blue"},e.participantName)})),f.a.createElement("div",{style:{background:"#E8EBEE",height:1,margin:"16px 0"}}),f.a.createElement("div",{className:g.a.row},f.a.createElement("p",null,"\u591a\u4eba\u5ba1\u6838\u65f6\u91c7\u7528\u7684\u5ba1\u6838\u65b9\u5f0f"),f.a.createElement(x.a.Group,{value:this.state.auditType,disabled:!0},f.a.createElement(x.a,{value:"2"},"\u4f1a\u7b7e\uff08\u987b\u6240\u6709\u5ba1\u6838\u4eba\u540c\u610f\uff09"),f.a.createElement("br",null),f.a.createElement("br",null),f.a.createElement(x.a,{value:"1"},"\u6216\u7b7e\uff08\u4e00\u540d\u5ba1\u6838\u4eba\u540c\u610f\u6216\u62d2\u7edd\u5373\u53ef\uff09")))),f.a.createElement("div",{className:g.a.footer},f.a.createElement(y.a,{onClick:function(){e.props.onCloseDrawer()}},"\u5173 \u95ed")))}}]),t}(l.Component);n.d(t,"a",function(){return S});var S=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(s.a)(t).call(this,e))).getFlowDataById=function(e){e&&Object(p.a)("/ybt/wf/process/queryProcessById?processId=".concat(e)).then(function(e){if(e.success){var t=JSON.parse(e.obj);n.setState({flowData:{nodes:t.nodeList,edges:t.edgeList},nodeDetails:t.nodeDetails})}else o.a.error("\u83b7\u53d6\u6570\u636e\u51fa\u9519")})},n._onClick=function(e){if(!e.item)return!1;var t=e.item.getModel();-1!==["n001","n002","n003","n004","e001","e002"].indexOf(t.judgeId)?console.log("\u5185\u7f6e\u8282\u70b9\u4e0d\u53ef\u64cd\u4f5c---\u70b9\u51fb"):"node"===e.item.type&&n.setState({showDrawer:!0,currentNode:e.item})},n.onCloseDrawer=function(){n.setState({showDrawer:!1})},n.state={showDrawer:!1,flowData:{nodes:[],edges:[]},nodeDetails:[],currentNode:{}},n}return Object(u.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){this.props.processId&&this.getFlowDataById(this.props.processId)}},{key:"componentDidUpdate",value:function(e){e.processId!==this.props.processId&&this.getFlowDataById(this.props.processId)}},{key:"render",value:function(){return f.a.createElement(h.d,{style:{padding:"20px",height:"100%"}},f.a.createElement(m,{flowData:this.state.flowData,_onClick:this._onClick}),f.a.createElement(r.a,{className:g.a.drawerModal,title:"\u8282\u70b9\u5c5e\u6027",width:380,placement:"right",closable:!1,onClose:this.onCloseDrawer,visible:this.state.showDrawer,destroyOnClose:!0},f.a.createElement(O,{nodeDetails:this.state.nodeDetails,onCloseDrawer:this.onCloseDrawer,currentNode:this.state.currentNode})))}}]),t}(l.Component)},1262:function(e,t,n){"use strict";n.r(t);n(710);var r=n(711),o=(n(124),n(42)),i=(n(709),n(639)),a=(n(154),n(25)),c=n(30),s=n(31),u=n(33),l=n(32),f=n(34),h=n(0),p=n.n(h),d=n(1003),g=n.n(d),v=n(949),m=n(63),y=(n(296),n(206)),b=(n(295),n(125)),x=(n(874),n(875)),w=(n(624),n(616)),O=n(80),S=w.a.Option,E=x.a.TreeNode,_=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={newFlowName:"",newFlowType:"3",selectedDoc:"",treeData:[]},n.buildFlowOk=function(){return n.state.newFlowName?n.state.newFlowType?n.state.selectedDoc?(window.localStorage.setItem("flowInfo",JSON.stringify({type:n.state.newFlowType,flowName:n.state.newFlowName,folderId:n.state.selectedDoc})),window.localStorage.setItem("flowInfo",JSON.stringify({type:n.state.newFlowType,flowName:n.state.newFlowName,folderId:n.state.selectedDoc})),void n.props.history.push("/workFlowDesign?url=formManagement&id=".concat(n.props.ids))):(a.a.warn("\u8bf7\u9009\u62e9\u6240\u5c5e\u6587\u4ef6\u5939"),!1):(a.a.warn("\u8bf7\u9009\u62e9\u65b0\u5efa\u6d41\u7a0b\u7c7b\u578b"),!1):(a.a.warn("\u8bf7\u8f93\u5165\u65b0\u5efa\u6d41\u7a0b\u540d\u79f0"),!1)},n.hideBuildFlow=function(){n.props.closeFlow()},n.getTreeData=function(){Object(m.a)("/ybt/wf/process/queryFolderTree").then(function(e){e.success?n.setState({treeData:e.obj||[]}):a.a.error(e.obj)})},n.renderTreeNodes=function(e){return e.map(function(e){return e.children?p.a.createElement(E,{title:e.title,key:e.id+"key",value:e.id},n.renderTreeNodes(e.children)):p.a.createElement(E,{key:e.id+"key",title:e.title,value:e.id})})},n.newFlowNameChange=function(e){n.setState({newFlowName:e.target.value})},n.newFlowTypeChange=function(e){n.setState({newFlowType:e})},n.selectedDocChange=function(e){n.setState({selectedDoc:e})},n}return Object(f.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getTreeData()}},{key:"render",value:function(){return p.a.createElement(y.a,{title:"\u65b0\u5efa\u6d41\u7a0b",visible:this.props.visible,onOk:this.buildFlowOk,onCancel:this.hideBuildFlow,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},p.a.createElement("div",{style:{marginBottom:"10px"}},p.a.createElement("span",{style:{width:"100px",float:"left",lineHeight:"32px"}},"\u6d41\u7a0b\u540d\u79f0\uff1a"),p.a.createElement(b.a,{style:{width:"300px"},value:this.state.newFlowName,onChange:this.newFlowNameChange,placeholder:"\u8bf7\u8f93\u5165\u65b0\u5efa\u6d41\u7a0b\u540d\u79f0..."})),p.a.createElement("div",{style:{marginBottom:"10px"}},p.a.createElement("span",{style:{width:"100px",float:"left",lineHeight:"32px"}},"\u6d41\u7a0b\u7c7b\u578b\uff1a"),p.a.createElement(w.a,{value:this.state.newFlowType,style:{width:300},onChange:this.newFlowTypeChange},p.a.createElement(S,{value:"3"},"\u586b\u62a5\u5185\u5bb9"))),p.a.createElement("div",{style:{marginBottom:"10px"}},p.a.createElement("span",{style:{width:"100px",float:"left",lineHeight:"32px"}},"\u6240\u5c5e\u6587\u4ef6\u5939\uff1a"),p.a.createElement(x.a,{style:{width:"300px"},value:this.state.selectedDoc,dropdownStyle:{maxHeight:400,overflow:"auto"},placeholder:"\u8bf7\u9009\u62e9\u6240\u5c5e\u6587\u4ef6\u5939",treeDefaultExpandAll:!0,onChange:this.selectedDocChange},this.renderTreeNodes(this.state.treeData))))}}]),t}(h.Component),P=Object(O.g)(_),C=n(1069);n.d(t,"default",function(){return M});var M=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={fillProcessId:null,list:[],param:null,visible:!1},n.getData=function(){var e=n.state.param;Object(m.a)("/ybt/form/info",{formId:e.id}).then(function(e){e.success&&n.setState({fillProcessId:e.obj.fillProcessId||""})})},n.getFlows=function(){Object(m.b)("/ybt/wf/process/queryFolderProcessList?pageNum=1&pageSize=0",{processType:3,status:1}).then(function(e){e.success&&n.setState({list:e.obj.rows||[]})})},n.onChange=function(e){n.setState({fillProcessId:e.target.value})},n.toPre=function(){n.props.history.push("/formManagement/createForm?id=".concat(n.state.param.id))},n.toNext=function(){if(n.state.fillProcessId){var e=n.state.list.find(function(e){return e.processId===n.state.fillProcessId}).processName,t={formId:n.state.param.id,fillProcessName:e,fillProcessId:n.state.fillProcessId};Object(m.b)("/ybt/form/save",t).then(function(e){if(e.success){var t=n.state.param;Object(m.a)("/ybt/form/info",{formId:t.id}).then(function(e){e.success&&(e.obj.columnProperties?n.props.history.push("/formManagement/uploadTemplate?id=".concat(n.state.param.id)):a.a.warning("\u8bf7\u5148\u8bbe\u8ba1\u8868\u5355"))})}else a.a.error(e.obj)})}else a.a.warning("\u8bf7\u9009\u62e9\u5de5\u4f5c\u6d41\u7a0b")},n.toDesign=function(){var e=window.location.href.split("setWorkFlow")[0]+"designForm?id="+n.state.param.id;window.open(e)},n.toCancle=function(){n.props.history.push("/formManagement")},n.addWorkFlow=function(){n.setState({visible:!0})},n.closeFlow=function(){n.setState({visible:!1})},n}return Object(f.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getFlows();var t=Object(v.a)();t.id&&this.setState({param:t},function(){e.getData()})}},{key:"render",value:function(){var e={display:"block",height:"30px",lineHeight:"30px"};return p.a.createElement("div",{style:{padding:"20px"}},this.state.visible&&p.a.createElement(P,{ids:this.state.param.id,visible:this.state.visible,closeFlow:this.closeFlow}),p.a.createElement(r.a,{title:"\u9009\u62e9\u5de5\u4f5c\u6d41\u7a0b-".concat(window.sessionStorage.getItem("formManageName")),style:{width:"100%",boxShadow:"0px 0px 2px 2px #f1f1f1"},bodyStyle:{padding:"0px"}},p.a.createElement("div",{className:g.a.workFlowContainer},p.a.createElement("div",{className:g.a.left},p.a.createElement("p",null,"\u8bf7\u4ece\u4ee5\u4e0b\u5de5\u4f5c\u6d41\u7a0b\u4e2d\u9009\u62e9\uff1a"),this.state.list&&this.state.list[0]?p.a.createElement(i.a.Group,{onChange:this.onChange,value:this.state.fillProcessId},this.state.list.map(function(t){return p.a.createElement(i.a,{key:t.processId,style:e,value:t.processId},t.processName)})):null,p.a.createElement(o.a,{style:{marginTop:20},type:"primary",icon:"plus",onClick:this.addWorkFlow},"\u65b0\u589e\u5de5\u4f5c\u6d41\u7a0b")),p.a.createElement("div",{className:g.a.right},p.a.createElement("div",{className:g.a.workPlace},p.a.createElement(C.a,{processId:this.state.fillProcessId})),p.a.createElement("div",{className:g.a.buttons},p.a.createElement(o.a,{type:"primary",style:{marginRight:10},ghost:!0,onClick:this.toPre},"\u4e0a\u4e00\u6b65"),p.a.createElement(o.a,{type:"primary",style:{marginRight:10},onClick:this.toNext},"\u4e0b\u4e00\u6b65"),p.a.createElement(o.a,{type:"primary",style:{marginRight:10},onClick:this.toDesign},"\u8bbe\u8ba1\u8868\u5355"),p.a.createElement(o.a,{onClick:this.toCancle},"\u53d6\u6d88"))))))}}]),t}(h.Component)},610:function(e,t,n){var r=n(617);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},616:function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r=n(0),o=n(1),i=n(713),a=n(3),c=n.n(a),s=n(24),u=n(86),l=n(14),f=n(7),h=n(49);function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},w=Object(h.a)("default","large","small"),O=(Object(h.a)("default","multiple","tags","combobox","SECRET_COMBOBOX_MODE_DO_NOT_USE"),{prefixCls:o.string,className:o.string,size:o.oneOf(w),notFoundContent:o.any,showSearch:o.bool,optionLabelProp:o.string,transitionName:o.string,choiceTransitionName:o.string,id:o.string}),S=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=m(this,y(t).call(this,e))).saveSelect=function(e){n.rcSelect=e},n.renderSelect=function(e){var t,o=e.getPopupContainer,a=e.getPrefixCls,u=e.renderEmpty,l=n.props,h=l.prefixCls,p=l.className,v=void 0===p?"":p,m=l.size,y=l.mode,b=l.getPopupContainer,w=l.removeIcon,O=l.clearIcon,S=l.menuItemSelectedIcon,E=l.showArrow,_=x(l,["prefixCls","className","size","mode","getPopupContainer","removeIcon","clearIcon","menuItemSelectedIcon","showArrow"]),P=Object(s.a)(_,["inputIcon"]),C=a("select",h),M=c()((g(t={},"".concat(C,"-lg"),"large"===m),g(t,"".concat(C,"-sm"),"small"===m),g(t,"".concat(C,"-show-arrow"),E),t),v),k=n.props.optionLabelProp;n.isCombobox()&&(k=k||"value");var A={multiple:"multiple"===y,tags:"tags"===y,combobox:n.isCombobox()},j=w&&(r.isValidElement(w)?r.cloneElement(w,{className:c()(w.props.className,"".concat(C,"-remove-icon"))}):w)||r.createElement(f.a,{type:"close",className:"".concat(C,"-remove-icon")}),T=O&&(r.isValidElement(O)?r.cloneElement(O,{className:c()(O.props.className,"".concat(C,"-clear-icon"))}):O)||r.createElement(f.a,{type:"close-circle",theme:"filled",className:"".concat(C,"-clear-icon")}),N=S&&(r.isValidElement(S)?r.cloneElement(S,{className:c()(S.props.className,"".concat(C,"-selected-icon"))}):S)||r.createElement(f.a,{type:"check",className:"".concat(C,"-selected-icon")});return r.createElement(i.c,d({inputIcon:n.renderSuffixIcon(C),removeIcon:j,clearIcon:T,menuItemSelectedIcon:N,showArrow:E},P,A,{prefixCls:C,className:M,optionLabelProp:k||"children",notFoundContent:n.getNotFoundContent(u),getPopupContainer:b||o,ref:n.saveSelect}))},Object(l.a)("combobox"!==e.mode,"Select","The combobox mode is deprecated, it will be removed in next major version, please use AutoComplete instead"),n}var n,o,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,r["Component"]),n=t,(o=[{key:"getNotFoundContent",value:function(e){var t=this.props.notFoundContent;return void 0!==t?t:this.isCombobox()?null:e("Select")}},{key:"focus",value:function(){this.rcSelect.focus()}},{key:"blur",value:function(){this.rcSelect.blur()}},{key:"isCombobox",value:function(){var e=this.props.mode;return"combobox"===e||e===t.SECRET_COMBOBOX_MODE_DO_NOT_USE}},{key:"renderSuffixIcon",value:function(e){var t=this.props,n=t.loading,o=t.suffixIcon;return o?r.isValidElement(o)?r.cloneElement(o,{className:c()(o.props.className,"".concat(e,"-arrow-icon"))}):o:n?r.createElement(f.a,{type:"loading"}):r.createElement(f.a,{type:"down",className:"".concat(e,"-arrow-icon")})}},{key:"render",value:function(){return r.createElement(u.a,null,this.renderSelect)}}])&&v(n.prototype,o),a&&v(n,a),t}();S.Option=i.b,S.OptGroup=i.a,S.SECRET_COMBOBOX_MODE_DO_NOT_USE="SECRET_COMBOBOX_MODE_DO_NOT_USE",S.defaultProps={showSearch:!1,transitionName:"slide-up",choiceTransitionName:"zoom"},S.propTypes=O},617:function(e,t,n){var r=n(629),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=o},618:function(e,t,n){var r=n(610),o=n(609);e.exports=function(e,t,n){(void 0===n||o(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},619:function(e,t,n){var r=n(735)(Object.getPrototypeOf,Object);e.exports=r},620:function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}},621:function(e,t,n){var r=n(736),o=n(672),i=n(612);e.exports=function(e){return i(e)?r(e,!0):o(e)}},623:function(e,t,n){"use strict";n(56),n(708)},624:function(e,t,n){"use strict";n(56),n(716),n(623)},625:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},626:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},628:function(e,t,n){var r=n(610),o=n(609),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},630:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},631:function(e,t,n){var r=n(972),o=n(921);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?o(e):t}},632:function(e,t,n){var r=n(973);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},648:function(e,t,n){var r=n(657),o=n(674)(function(e,t,n){r(e,t,n)});e.exports=o},649:function(e,t,n){var r=n(676),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,c=o(i.length-t,0),s=Array(c);++a<c;)s[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=n(s),r(e,this,u)}}},650:function(e,t,n){var r=n(677),o=n(679)(r);e.exports=o},652:function(e,t,n){"use strict";n(56),n(638)},653:function(e,t,n){"use strict";n(56),n(638)},654:function(e,t,n){"use strict";var r=n(872);t.a=r.a},655:function(e,t,n){"use strict";var r=n(873);t.a=r.a},656:function(e,t,n){"use strict";n.d(t,"p",function(){return d}),n.d(t,"b",function(){return g}),n.d(t,"a",function(){return v}),n.d(t,"o",function(){return m}),n.d(t,"l",function(){return y}),n.d(t,"k",function(){return x}),n.d(t,"m",function(){return S}),n.d(t,"j",function(){return E}),n.d(t,"c",function(){return _}),n.d(t,"d",function(){return P}),n.d(t,"g",function(){return k}),n.d(t,"h",function(){return A}),n.d(t,"n",function(){return j}),n.d(t,"e",function(){return T}),n.d(t,"f",function(){return N}),n.d(t,"i",function(){return I});var r=n(0),o=n.n(r),i=n(205),a=n(294),c=n.n(a),s=n(707);function u(e){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var f=.25,h=2,p=!1;function d(){p||(p=!0,c()(!1,"Tree only accept TreeNode as children."))}function g(e,t){var n=e.slice(),r=n.indexOf(t);return r>=0&&n.splice(r,1),n}function v(e,t){var n=e.slice();return-1===n.indexOf(t)&&n.push(t),n}function m(e){return e.split("-")}function y(e,t){return"".concat(e,"-").concat(t)}function b(e){return e&&e.type&&e.type.isTreeNode}function x(e){return Object(i.a)(e).filter(b)}function w(e){var t=e.props||{},n=t.disabled,r=t.disableCheckbox,o=t.checkable;return!(!n&&!r)||!1===o}function O(e,t){!function n(o,i,a){var c=o?o.props.children:e,s=o?y(a.pos,i):0,u=x(c);if(o){var l={node:o,index:i,pos:s,key:o.key||s,parentPos:a.node?a.pos:null};t(l)}r.Children.forEach(u,function(e,t){n(e,t,{node:o,pos:s})})}(null)}function S(e,t){var n=Object(i.a)(e).map(t);return 1===n.length?n[0]:n}function E(e,t){var n=t.props,r=n.eventKey,o=n.pos,i=[];return O(e,function(e){var t=e.key;i.push(t)}),i.push(r||o),i}function _(e,t){var n=e.clientY,r=t.selectHandle.getBoundingClientRect(),o=r.top,i=r.bottom,a=r.height,c=Math.max(a*f,h);return n<=o+c?-1:n>=i-c?1:0}function P(e,t){if(e)return t.multiple?e.slice():e.length?[e[0]]:e}function C(e){return e?e.map(function(e){return String(e)}):e}var M=function(e){return e};function k(e,t){if(!e)return[];var n=(t||{}).processProps,r=void 0===n?M:n;return(Array.isArray(e)?e:[e]).map(function(e){var n=e.children,i=l(e,["children"]),a=k(n,t);return o.a.createElement(s.a,Object.assign({},r(i)),a)})}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.initWrapper,r=t.processEntity,o=t.onProcessFinished,i={},a={},c={posEntities:i,keyEntities:a};return n&&(c=n(c)||c),O(e,function(e){var t=e.node,n=e.index,o=e.pos,s=e.key,u=e.parentPos,l={node:t,index:n,key:s,pos:o};i[o]=l,a[s]=l,l.parent=i[u],l.parent&&(l.parent.children=l.parent.children||[],l.parent.children.push(l)),r&&r(l,c)}),o&&o(c),c}function j(e){if(!e)return null;var t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else{if("object"!==u(e))return c()(!1,"`checkedKeys` is not an array or an object"),null;t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0}}return t.checkedKeys=C(t.checkedKeys),t.halfCheckedKeys=C(t.halfCheckedKeys),t}function T(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o={},i={};function a(e){var r=n[e];if(r){var a=r.children,s=r.parent,u=r.node;o[e]=t,w(u)||((a||[]).filter(function(e){return!w(e.node)}).forEach(function(e){!function e(r){if(o[r]!==t){var i=n[r];if(i){var a=i.children;w(i.node)||(o[r]=t,(a||[]).forEach(function(t){e(t.key)}))}}}(e.key)}),s&&function e(r){if(o[r]!==t){var a=n[r];if(a){var c=a.children,s=a.parent;if(!w(a.node)){var u=!0,l=!1;(c||[]).filter(function(e){return!w(e.node)}).forEach(function(e){var t=e.key,n=o[t],r=i[t];(n||r)&&(l=!0),n||(u=!1)}),o[r]=!!t&&u,i[r]=l,s&&e(s.key)}}}}(s.key))}else c()(!1,"'".concat(e,"' does not exist in the tree."))}(r.checkedKeys||[]).forEach(function(e){o[e]=!0}),(r.halfCheckedKeys||[]).forEach(function(e){i[e]=!0}),(e||[]).forEach(function(e){a(e)});var s=[],u=[];return Object.keys(o).forEach(function(e){o[e]&&s.push(e)}),Object.keys(i).forEach(function(e){!o[e]&&i[e]&&u.push(e)}),{checkedKeys:s,halfCheckedKeys:u}}function N(e,t){var n={};return(e||[]).forEach(function(e){!function e(r){if(!n[r]){var o=t[r];if(o){n[r]=!0;var i=o.parent,a=o.node;a.props&&a.props.disabled||i&&e(i.key)}}}(e)}),Object.keys(n)}function I(e){return Object.keys(e).reduce(function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)||(t[n]=e[n]),t},{})}},657:function(e,t,n){var r=n(691),o=n(618),i=n(658),a=n(660),c=n(607),s=n(621),u=n(620);e.exports=function e(t,n,l,f,h){t!==n&&i(n,function(i,s){if(h||(h=new r),c(i))a(t,n,s,l,e,f,h);else{var p=f?f(u(t,s),i,s+"",t,n,h):void 0;void 0===p&&(p=i),o(t,s,p)}},s)}},658:function(e,t,n){var r=n(659)();e.exports=r},659:function(e,t){e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),c=a.length;c--;){var s=a[e?c:++o];if(!1===n(i[s],s,i))break}return t}}},660:function(e,t,n){var r=n(618),o=n(661),i=n(662),a=n(664),c=n(665),s=n(667),u=n(614),l=n(668),f=n(731),h=n(750),p=n(607),d=n(669),g=n(732),v=n(620),m=n(670);e.exports=function(e,t,n,y,b,x,w){var O=v(e,n),S=v(t,n),E=w.get(S);if(E)r(e,n,E);else{var _=x?x(O,S,n+"",e,t,w):void 0,P=void 0===_;if(P){var C=u(S),M=!C&&f(S),k=!C&&!M&&g(S);_=S,C||M||k?u(O)?_=O:l(O)?_=a(O):M?(P=!1,_=o(S,!0)):k?(P=!1,_=i(S,!0)):_=[]:d(S)||s(S)?(_=O,s(O)?_=m(O):p(O)&&!h(O)||(_=c(S))):P=!1}P&&(w.set(S,_),b(_,S,y,x,w),w.delete(S)),r(e,n,_)}}},661:function(e,t,n){(function(e){var r=n(615),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,c=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=c?c(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(298)(e))},662:function(e,t,n){var r=n(663);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},663:function(e,t,n){var r=n(734);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},664:function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},665:function(e,t,n){var r=n(666),o=n(619),i=n(640);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},666:function(e,t,n){var r=n(607),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},668:function(e,t,n){var r=n(612),o=n(622);e.exports=function(e){return o(e)&&r(e)}},669:function(e,t,n){var r=n(682),o=n(619),i=n(622),a="[object Object]",c=Function.prototype,s=Object.prototype,u=c.toString,l=s.hasOwnProperty,f=u.call(Object);e.exports=function(e){if(!i(e)||r(e)!=a)return!1;var t=o(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==f}},670:function(e,t,n){var r=n(671),o=n(621);e.exports=function(e){return r(e,o(e))}},671:function(e,t,n){var r=n(628),o=n(610);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var c=-1,s=t.length;++c<s;){var u=t[c],l=i?i(n[u],e[u],u,n,e):void 0;void 0===l&&(l=e[u]),a?o(n,u,l):r(n,u,l)}return n}},672:function(e,t,n){var r=n(607),o=n(640),i=n(673),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var c in e)("constructor"!=c||!t&&a.call(e,c))&&n.push(c);return n}},673:function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},674:function(e,t,n){var r=n(675),o=n(680);e.exports=function(e){return r(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,c=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,c&&o(n[0],n[1],c)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t})}},675:function(e,t,n){var r=n(641),o=n(649),i=n(650);e.exports=function(e,t){return i(o(e,t,r),e+"")}},676:function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},677:function(e,t,n){var r=n(678),o=n(617),i=n(641),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},678:function(e,t){e.exports=function(e){return function(){return e}}},679:function(e,t){var n=800,r=16,o=Date.now;e.exports=function(e){var t=0,i=0;return function(){var a=o(),c=r-(a-i);if(i=a,c>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},680:function(e,t,n){var r=n(609),o=n(612),i=n(637),a=n(607);e.exports=function(e,t,n){if(!a(n))return!1;var c=typeof t;return!!("number"==c?o(n)&&i(t,n.length):"string"==c&&t in n)&&r(n[t],e)}},686:function(e,t,n){var r=n(704),o=n(667),i=n(614),a=n(637),c=n(801),s=n(645);e.exports=function(e,t,n){for(var u=-1,l=(t=r(t,e)).length,f=!1;++u<l;){var h=s(t[u]);if(!(f=null!=e&&n(e,h)))break;e=e[h]}return f||++u!=l?f:!!(l=null==e?0:e.length)&&c(l)&&a(h,l)&&(i(e)||o(e))}},687:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n(115))},707:function(e,t,n){"use strict";var r=n(0),o=n(1),i=n.n(o),a=n(3),c=n.n(a),s=n(215),u=n(205),l=n(15),f=n(747),h=n(656);function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O="open",S="close",E=function(e){function t(){var e,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,o=b(t).apply(this,arguments),(e=!o||"object"!==p(o)&&"function"!==typeof o?x(n):o).state={dragNodeHighlight:!1},e.onSelectorClick=function(t){(0,e.props.context.onNodeClick)(t,x(e)),e.isSelectable()?e.onSelect(t):e.onCheck(t)},e.onSelectorDoubleClick=function(t){(0,e.props.context.onNodeDoubleClick)(t,x(e))},e.onSelect=function(t){if(!e.isDisabled()){var n=e.props.context.onNodeSelect;t.preventDefault(),n(t,x(e))}},e.onCheck=function(t){if(!e.isDisabled()){var n=e.props,r=n.disableCheckbox,o=n.checked,i=e.props.context.onNodeCheck;if(e.isCheckable()&&!r){t.preventDefault();var a=!o;i(t,x(e),a)}}},e.onMouseEnter=function(t){(0,e.props.context.onNodeMouseEnter)(t,x(e))},e.onMouseLeave=function(t){(0,e.props.context.onNodeMouseLeave)(t,x(e))},e.onContextMenu=function(t){(0,e.props.context.onNodeContextMenu)(t,x(e))},e.onDragStart=function(t){var n=e.props.context.onNodeDragStart;t.stopPropagation(),e.setState({dragNodeHighlight:!0}),n(t,x(e));try{t.dataTransfer.setData("text/plain","")}catch(r){}},e.onDragEnter=function(t){var n=e.props.context.onNodeDragEnter;t.preventDefault(),t.stopPropagation(),n(t,x(e))},e.onDragOver=function(t){var n=e.props.context.onNodeDragOver;t.preventDefault(),t.stopPropagation(),n(t,x(e))},e.onDragLeave=function(t){var n=e.props.context.onNodeDragLeave;t.stopPropagation(),n(t,x(e))},e.onDragEnd=function(t){var n=e.props.context.onNodeDragEnd;t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,x(e))},e.onDrop=function(t){var n=e.props.context.onNodeDrop;t.preventDefault(),t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,x(e))},e.onExpand=function(t){(0,e.props.context.onNodeExpand)(t,x(e))},e.setSelectHandle=function(t){e.selectHandle=t},e.getNodeChildren=function(){var t=e.props.children,n=Object(u.a)(t).filter(function(e){return e}),r=Object(h.k)(n);return n.length!==r.length&&Object(h.p)(),r},e.getNodeState=function(){var t=e.props.expanded;return e.isLeaf()?null:t?O:S},e.isLeaf=function(){var t=e.props,n=t.isLeaf,r=t.loaded,o=e.props.context.loadData,i=0!==e.getNodeChildren().length;return!1!==n&&(n||!o&&!i||o&&r&&!i)},e.isDisabled=function(){var t=e.props.disabled,n=e.props.context.disabled;return!1!==t&&!(!n&&!t)},e.isCheckable=function(){var t=e.props.checkable,n=e.props.context.checkable;return!(!n||!1===t)&&n},e.syncLoadData=function(t){var n=t.expanded,r=t.loading,o=t.loaded,i=e.props.context,a=i.loadData,c=i.onNodeLoad;r||a&&n&&!e.isLeaf()&&(0!==e.getNodeChildren().length||o||c(x(e)))},e.renderSwitcher=function(){var t=e.props,n=t.expanded,o=t.switcherIcon,i=e.props.context,a=i.prefixCls,s=i.switcherIcon,u=o||s;if(e.isLeaf())return r.createElement("span",{className:c()("".concat(a,"-switcher"),"".concat(a,"-switcher-noop"))},"function"===typeof u?u(v({},e.props,{isLeaf:!0})):u);var l=c()("".concat(a,"-switcher"),"".concat(a,"-switcher_").concat(n?O:S));return r.createElement("span",{onClick:e.onExpand,className:l},"function"===typeof u?u(v({},e.props,{isLeaf:!1})):u)},e.renderCheckbox=function(){var t=e.props,n=t.checked,o=t.halfChecked,i=t.disableCheckbox,a=e.props.context.prefixCls,s=e.isDisabled(),u=e.isCheckable();if(!u)return null;var l="boolean"!==typeof u?u:null;return r.createElement("span",{className:c()("".concat(a,"-checkbox"),n&&"".concat(a,"-checkbox-checked"),!n&&o&&"".concat(a,"-checkbox-indeterminate"),(s||i)&&"".concat(a,"-checkbox-disabled")),onClick:e.onCheck},l)},e.renderIcon=function(){var t=e.props.loading,n=e.props.context.prefixCls;return r.createElement("span",{className:c()("".concat(n,"-iconEle"),"".concat(n,"-icon__").concat(e.getNodeState()||"docu"),t&&"".concat(n,"-icon_loading"))})},e.renderSelector=function(){var t,n=e.state.dragNodeHighlight,o=e.props,i=o.title,a=o.selected,s=o.icon,u=o.loading,l=e.props.context,f=l.prefixCls,h=l.showIcon,p=l.icon,d=l.draggable,g=l.loadData,v=e.isDisabled(),m="".concat(f,"-node-content-wrapper");if(h){var y=s||p;t=y?r.createElement("span",{className:c()("".concat(f,"-iconEle"),"".concat(f,"-icon__customize"))},"function"===typeof y?y(e.props):y):e.renderIcon()}else g&&u&&(t=e.renderIcon());var b=r.createElement("span",{className:"".concat(f,"-title")},i);return r.createElement("span",{ref:e.setSelectHandle,title:"string"===typeof i?i:"",className:c()("".concat(m),"".concat(m,"-").concat(e.getNodeState()||"normal"),!v&&(a||n)&&"".concat(f,"-node-selected"),!v&&d&&"draggable"),draggable:!v&&d||void 0,"aria-grabbed":!v&&d||void 0,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick,onDragStart:d?e.onDragStart:void 0},t,b)},e.renderChildren=function(){var t=e.props,n=t.expanded,o=t.pos,i=e.props.context,a=i.prefixCls,u=i.motion,l=i.renderTreeNode,f=e.getNodeChildren();return 0===f.length?null:r.createElement(s.b,Object.assign({visible:n},u),function(e){var t=e.style,i=e.className;return r.createElement("ul",{className:c()(i,"".concat(a,"-child-tree"),n&&"".concat(a,"-child-tree-open")),style:t,"data-expanded":n,role:"group"},Object(h.m)(f,function(e,t){return l(e,t,o)}))})},e}var n,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=this.props,t=e.eventKey,n=e.context.registerTreeNode;this.syncLoadData(this.props),n(t,this)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.eventKey;(0,e.context.registerTreeNode)(t,null)}},{key:"isSelectable",value:function(){var e=this.props.selectable,t=this.props.context.selectable;return"boolean"===typeof e?e:t}},{key:"render",value:function(){var e,t=this.props.loading,n=this.props,o=n.className,i=n.style,a=n.dragOver,s=n.dragOverGapTop,u=n.dragOverGapBottom,l=n.isLeaf,f=n.expanded,p=n.selected,g=n.checked,v=n.halfChecked,y=d(n,["className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","expanded","selected","checked","halfChecked"]),b=this.props.context,x=b.prefixCls,w=b.filterTreeNode,O=b.draggable,S=this.isDisabled(),E=Object(h.i)(y);return r.createElement("li",Object.assign({className:c()(o,(e={},m(e,"".concat(x,"-treenode-disabled"),S),m(e,"".concat(x,"-treenode-switcher-").concat(f?"open":"close"),!l),m(e,"".concat(x,"-treenode-checkbox-checked"),g),m(e,"".concat(x,"-treenode-checkbox-indeterminate"),v),m(e,"".concat(x,"-treenode-selected"),p),m(e,"".concat(x,"-treenode-loading"),t),m(e,"drag-over",!S&&a),m(e,"drag-over-gap-top",!S&&s),m(e,"drag-over-gap-bottom",!S&&u),m(e,"filter-node",w&&w(this)),e)),style:i,role:"treeitem",onDragEnter:O?this.onDragEnter:void 0,onDragOver:O?this.onDragOver:void 0,onDragLeave:O?this.onDragLeave:void 0,onDrop:O?this.onDrop:void 0,onDragEnd:O?this.onDragEnd:void 0},E),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector(),this.renderChildren())}}])&&y(n.prototype,o),i&&y(n,i),t}();E.propTypes={eventKey:i.a.string,prefixCls:i.a.string,className:i.a.string,style:i.a.object,onSelect:i.a.func,expanded:i.a.bool,selected:i.a.bool,checked:i.a.bool,loaded:i.a.bool,loading:i.a.bool,halfChecked:i.a.bool,children:i.a.node,title:i.a.node,pos:i.a.string,dragOver:i.a.bool,dragOverGapTop:i.a.bool,dragOverGapBottom:i.a.bool,isLeaf:i.a.bool,checkable:i.a.bool,selectable:i.a.bool,disabled:i.a.bool,disableCheckbox:i.a.bool,icon:i.a.oneOfType([i.a.node,i.a.func]),switcherIcon:i.a.oneOfType([i.a.node,i.a.func])},Object(l.polyfill)(E);var _=function(e){return r.createElement(f.a.Consumer,null,function(t){return r.createElement(E,Object.assign({},e,{context:t}))})};_.defaultProps={title:"---"},_.isTreeNode=1,t.a=_},708:function(e,t,n){},710:function(e,t,n){"use strict";n(56),n(719),n(733),n(652),n(653)},711:function(e,t,n){"use strict";var r=n(0),o=n(3),i=n.n(o),a=n(24),c=n(86);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},l=function(e){return r.createElement(c.a,null,function(t){var n,o,a,c=t.getPrefixCls,l=e.prefixCls,f=e.className,h=e.hoverable,p=void 0===h||h,d=u(e,["prefixCls","className","hoverable"]),g=c("card",l),v=i()("".concat(g,"-grid"),f,(n={},o="".concat(g,"-grid-hoverable"),a=p,o in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a,n));return r.createElement("div",s({},d,{className:v}))})};function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},p=function(e){return r.createElement(c.a,null,function(t){var n=t.getPrefixCls,o=e.prefixCls,a=e.className,c=e.avatar,s=e.title,u=e.description,l=h(e,["prefixCls","className","avatar","title","description"]),p=n("card",o),d=i()("".concat(p,"-meta"),a),g=c?r.createElement("div",{className:"".concat(p,"-meta-avatar")},c):null,v=s?r.createElement("div",{className:"".concat(p,"-meta-title")},s):null,m=u?r.createElement("div",{className:"".concat(p,"-meta-description")},u):null,y=v||m?r.createElement("div",{className:"".concat(p,"-meta-detail")},v,m):null;return r.createElement("div",f({},l,{className:d}),g,y)})},d=n(739),g=n(654),v=n(655),m=n(14);function y(e){return(y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return!t||"object"!==y(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return P});var _=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};var P=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=O(this,S(t).apply(this,arguments))).onTabChange=function(t){e.props.onTabChange&&e.props.onTabChange(t)},e.renderCard=function(t){var n,o,c,s=t.getPrefixCls,u=e.props,l=u.prefixCls,f=u.className,h=u.extra,p=u.headStyle,m=void 0===p?{}:p,y=u.bodyStyle,w=void 0===y?{}:y,O=u.title,S=u.loading,E=u.bordered,P=void 0===E||E,C=u.size,M=void 0===C?"default":C,k=u.type,A=u.cover,j=u.actions,T=u.tabList,N=u.children,I=u.activeTabKey,D=u.defaultActiveTabKey,L=u.tabBarExtraContent,B=_(u,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent"]),R=s("card",l),F=i()(R,f,(x(n={},"".concat(R,"-loading"),S),x(n,"".concat(R,"-bordered"),P),x(n,"".concat(R,"-hoverable"),e.getCompatibleHoverable()),x(n,"".concat(R,"-contain-grid"),e.isContainGrid()),x(n,"".concat(R,"-contain-tabs"),T&&T.length),x(n,"".concat(R,"-").concat(M),"default"!==M),x(n,"".concat(R,"-type-").concat(k),!!k),n)),Y=0===w.padding||"0px"===w.padding?{padding:24}:void 0,X=r.createElement("div",{className:"".concat(R,"-loading-content"),style:Y},r.createElement(g.a,{gutter:8},r.createElement(v.a,{span:22},r.createElement("div",{className:"".concat(R,"-loading-block")}))),r.createElement(g.a,{gutter:8},r.createElement(v.a,{span:8},r.createElement("div",{className:"".concat(R,"-loading-block")})),r.createElement(v.a,{span:15},r.createElement("div",{className:"".concat(R,"-loading-block")}))),r.createElement(g.a,{gutter:8},r.createElement(v.a,{span:6},r.createElement("div",{className:"".concat(R,"-loading-block")})),r.createElement(v.a,{span:18},r.createElement("div",{className:"".concat(R,"-loading-block")}))),r.createElement(g.a,{gutter:8},r.createElement(v.a,{span:13},r.createElement("div",{className:"".concat(R,"-loading-block")})),r.createElement(v.a,{span:9},r.createElement("div",{className:"".concat(R,"-loading-block")}))),r.createElement(g.a,{gutter:8},r.createElement(v.a,{span:4},r.createElement("div",{className:"".concat(R,"-loading-block")})),r.createElement(v.a,{span:3},r.createElement("div",{className:"".concat(R,"-loading-block")})),r.createElement(v.a,{span:16},r.createElement("div",{className:"".concat(R,"-loading-block")})))),G=void 0!==I,V=(x(o={},G?"activeKey":"defaultActiveKey",G?I:D),x(o,"tabBarExtraContent",L),o),H=T&&T.length?r.createElement(d.a,b({},V,{className:"".concat(R,"-head-tabs"),size:"large",onChange:e.onTabChange}),T.map(function(e){return r.createElement(d.a.TabPane,{tab:e.tab,disabled:e.disabled,key:e.key})})):null;(O||h||H)&&(c=r.createElement("div",{className:"".concat(R,"-head"),style:m},r.createElement("div",{className:"".concat(R,"-head-wrapper")},O&&r.createElement("div",{className:"".concat(R,"-head-title")},O),h&&r.createElement("div",{className:"".concat(R,"-extra")},h)),H));var K=A?r.createElement("div",{className:"".concat(R,"-cover")},A):null,U=r.createElement("div",{className:"".concat(R,"-body"),style:w},S?X:N),z=j&&j.length?r.createElement("ul",{className:"".concat(R,"-actions")},function(e){return e.map(function(t,n){return r.createElement("li",{style:{width:"".concat(100/e.length,"%")},key:"action-".concat(n)},r.createElement("span",null,t))})}(j)):null,W=Object(a.a)(B,["onTabChange","noHovering","hoverable"]);return r.createElement("div",b({},W,{className:F}),c,K,U,z)},e}var n,o,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){"noHovering"in this.props&&(Object(m.a)(!this.props.noHovering,"Card","`noHovering` is deprecated, you can remove it safely or use `hoverable` instead."),Object(m.a)(!!this.props.noHovering,"Card","`noHovering={false}` is deprecated, use `hoverable` instead."))}},{key:"getCompatibleHoverable",value:function(){var e=this.props,t=e.noHovering,n=e.hoverable;return"noHovering"in this.props?!t||n:!!n}},{key:"isContainGrid",value:function(){var e;return r.Children.forEach(this.props.children,function(t){t&&t.type&&t.type===l&&(e=!0)}),e}},{key:"render",value:function(){return r.createElement(c.a,null,this.renderCard)}}])&&w(n.prototype,o),s&&w(n,s),t}();P.Grid=l,P.Meta=p},712:function(e,t,n){e.exports={default:n(722),__esModule:!0}},713:function(e,t,n){"use strict";var r=n(0),o=n.n(r);function i(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,a(t).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["Component"]),t}();s.isSelectOptGroup=!0;var u=n(1);function l(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,f(t).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,r["Component"]),t}();function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],o=t[1],i=t[2],a=t.slice(3),c=u.oneOfType([u.string,u.number]),s=u.shape({key:c.isRequired,label:u.node});return r.labelInValue?u.oneOfType([u.arrayOf(s),s]).apply(void 0,[r,o,i].concat(d(a)))?new Error("Invalid prop `".concat(o,"` supplied to `").concat(i,"`, ")+"when you set `labelInValue` to `true`, `".concat(o,"` should in ")+"shape of `{ key: string | number, label?: ReactNode }`."):null:("multiple"===r.mode||"tags"===r.mode||r.multiple||r.tags)&&""===r[o]?new Error("Invalid prop `".concat(o,"` of type `string` supplied to `").concat(i,"`, ")+"expected `array` when `multiple` or `tags` is `true`."):u.oneOfType([u.arrayOf(c),c]).apply(void 0,[r,o,i].concat(d(a)))}p.propTypes={value:u.oneOfType([u.string,u.number])},p.isSelectOption=!0;var v={id:u.string,defaultActiveFirstOption:u.bool,multiple:u.bool,filterOption:u.any,children:u.any,showSearch:u.bool,disabled:u.bool,allowClear:u.bool,showArrow:u.bool,tags:u.bool,prefixCls:u.string,className:u.string,transitionName:u.string,optionLabelProp:u.string,optionFilterProp:u.string,animation:u.string,choiceTransitionName:u.string,open:u.bool,defaultOpen:u.bool,onChange:u.func,onBlur:u.func,onFocus:u.func,onSelect:u.func,onSearch:u.func,onPopupScroll:u.func,onMouseEnter:u.func,onMouseLeave:u.func,onInputKeyDown:u.func,placeholder:u.any,onDeselect:u.func,labelInValue:u.bool,loading:u.bool,value:g,defaultValue:g,dropdownStyle:u.object,maxTagTextLength:u.number,maxTagCount:u.number,maxTagPlaceholder:u.oneOfType([u.node,u.func]),tokenSeparators:u.arrayOf(u.string),getInputElement:u.func,showAction:u.arrayOf(u.string),clearIcon:u.node,inputIcon:u.node,removeIcon:u.node,menuItemSelectedIcon:u.oneOfType([u.func,u.node]),dropdownRender:u.func},m=n(3),y=n.n(m),b=n(207),x=n.n(b),w=n(64),O=n(69),S=n(205),E=n(28),_=n(4),P=n(15),C=n(294),M=n.n(C),k=n(83),A=n.n(k),j=n(102),T=n(209),N=n.n(T);function I(e){return"string"===typeof e?e:""}function D(e){if(!e)return null;var t=e.props;if("value"in t)return t.value;if(e.key)return e.key;if(e.type&&e.type.isSelectOptGroup&&t.label)return t.label;throw new Error("Need at least a key or a value or a label (only for OptGroup) for ".concat(e))}function L(e,t){return"value"===t?D(e):e.props[t]}function B(e){return e.combobox}function R(e){return e.multiple||e.tags}function F(e){return R(e)||B(e)}function Y(e){return!F(e)}function X(e){var t=e;return void 0===e?t=[]:Array.isArray(e)||(t=[e]),t}function G(e){return"".concat(typeof e,"-").concat(e)}function V(e){e.preventDefault()}function H(e,t){var n=-1;if(e)for(var r=0;r<e.length;r++)if(e[r]===t){n=r;break}return n}function K(e,t){var n;if(e=X(e))for(var r=0;r<e.length;r++)if(e[r].key===t){n=e[r].label;break}return n}var U={userSelect:"none",WebkitUserSelect:"none"},z={unselectable:"on"};function W(e,t){return!t.props.disabled&&X(L(t,this.props.optionFilterProp)).join("").toLowerCase().indexOf(e.toLowerCase())>-1}function q(e,t){return function(n){e[t]=n}}function Z(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:7&n|8).toString(16)})}function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ne=function(e){function t(e){var n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,a=J(t).call(this,e),(n=!a||"object"!==typeof a&&"function"!==typeof a?ee(i):a).rafInstance=null,n.lastVisible=!1,n.scrollActiveItemToView=function(){var e=Object(_.findDOMNode)(n.firstActiveItem),t=n.props,r=t.visible,o=t.firstActiveValue,i=n.props.value;if(e&&r){var a={onlyScrollIfNeeded:!0};i&&0!==i.length||!o||(a.alignWithTop=!0),n.rafInstance=A()(function(){N()(e,Object(_.findDOMNode)(n.menuRef),a)})}},n.renderMenu=function(){var e=n.props,t=e.menuItems,i=e.menuItemSelectedIcon,a=e.defaultActiveFirstOption,c=e.prefixCls,s=e.multiple,u=e.onMenuSelect,l=e.inputValue,f=e.backfillValue,h=e.onMenuDeselect,p=e.visible,d=n.props.firstActiveValue;if(t&&t.length){var g={};s?(g.onDeselect=h,g.onSelect=u):g.onClick=u;var v=n.props.value,m=function e(t,n){if(null===n||void 0===n)return[];var r=[];return o.a.Children.forEach(t,function(t){if(t.type.isMenuItemGroup)r=r.concat(e(t.props.children,n));else{var o=D(t),i=t.key;-1!==H(n,o)&&i&&r.push(i)}}),r}(t,v),y={},b=a,x=t;if(m.length||d){p&&!n.lastVisible?y.activeKey=m[0]||d:p||(m[0]&&(b=!1),y.activeKey=void 0);var w=!1,E=function(e){var t=e.key;return!w&&-1!==m.indexOf(t)||!w&&!m.length&&-1!==d.indexOf(e.key)?(w=!0,r.cloneElement(e,{ref:function(e){n.firstActiveItem=e}})):e};x=t.map(function(e){if(e.type.isMenuItemGroup){var t=Object(S.a)(e.props.children).map(E);return r.cloneElement(e,{},t)}return E(e)})}else n.firstActiveItem=null;var _=v&&v[v.length-1];return l===n.lastInputValue||_&&_===f||(y.activeKey=""),r.createElement(O.e,Q({ref:n.saveMenuRef,style:n.props.dropdownMenuStyle,defaultActiveFirst:b,role:"listbox",itemIcon:s?i:null},y,{multiple:s},g,{selectedKeys:m,prefixCls:"".concat(c,"-menu")}),x)}return null},n.lastInputValue=e.inputValue,n.saveMenuRef=q(ee(n),"menuRef"),n}var n,i,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(t,r["Component"]),n=t,(i=[{key:"componentDidMount",value:function(){this.scrollActiveItemToView(),this.lastVisible=this.props.visible}},{key:"shouldComponentUpdate",value:function(e){return e.visible||(this.lastVisible=!1),this.props.visible&&!e.visible||e.visible||e.inputValue!==this.props.inputValue}},{key:"componentDidUpdate",value:function(e){var t=this.props;!e.visible&&t.visible&&this.scrollActiveItemToView(),this.lastVisible=t.visible,this.lastInputValue=t.inputValue}},{key:"componentWillUnmount",value:function(){this.rafInstance&&A.a.cancel(this.rafInstance)}},{key:"render",value:function(){var e=this.renderMenu();return e?r.createElement("div",{style:{overflow:"auto",transform:"translateZ(0)"},id:this.props.ariaId,onFocus:this.props.onPopupFocus,onMouseDown:V,onScroll:this.props.onPopupScroll},e):null}}])&&$(n.prototype,i),a&&$(n,a),t}();function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}ne.displayName="DropdownMenu",ne.propTypes={ariaId:u.string,defaultActiveFirstOption:u.bool,value:u.any,dropdownMenuStyle:u.object,multiple:u.bool,onPopupFocus:u.func,onPopupScroll:u.func,onMenuDeSelect:u.func,onMenuSelect:u.func,prefixCls:u.string,menuItems:u.any,inputValue:u.string,visible:u.bool,firstActiveValue:u.string,menuItemSelectedIcon:u.oneOfType([u.func,u.node])};var ue=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};j.a.displayName="Trigger";var le={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:0,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}},fe=function(e){function t(e){var n,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,i=ae(t).call(this,e),(n=!i||"object"!==typeof i&&"function"!==typeof i?ce(o):i).dropdownMenuRef=null,n.rafInstance=null,n.setDropdownWidth=function(){n.cancelRafInstance(),n.rafInstance=A()(function(){var e=_.findDOMNode(ce(n)).offsetWidth;e!==n.state.dropdownWidth&&n.setState({dropdownWidth:e})})},n.cancelRafInstance=function(){n.rafInstance&&A.a.cancel(n.rafInstance)},n.getInnerMenu=function(){return n.dropdownMenuRef&&n.dropdownMenuRef.menuRef},n.getPopupDOMNode=function(){return n.triggerRef.getPopupDomNode()},n.getDropdownElement=function(e){var t=n.props,o=t.dropdownRender,i=t.ariaId,a=r.createElement(ne,oe({ref:n.saveDropdownMenuRef},e,{ariaId:i,prefixCls:n.getDropdownPrefixCls(),onMenuSelect:t.onMenuSelect,onMenuDeselect:t.onMenuDeselect,onPopupScroll:t.onPopupScroll,value:t.value,backfillValue:t.backfillValue,firstActiveValue:t.firstActiveValue,defaultActiveFirstOption:t.defaultActiveFirstOption,dropdownMenuStyle:t.dropdownMenuStyle,menuItemSelectedIcon:t.menuItemSelectedIcon}));return o?o(a,t):null},n.getDropdownTransitionName=function(){var e=n.props,t=e.transitionName;return!t&&e.animation&&(t="".concat(n.getDropdownPrefixCls(),"-").concat(e.animation)),t},n.getDropdownPrefixCls=function(){return"".concat(n.props.prefixCls,"-dropdown")},n.saveDropdownMenuRef=q(ce(n),"dropdownMenuRef"),n.saveTriggerRef=q(ce(n),"triggerRef"),n.state={dropdownWidth:0},n}var n,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){this.setDropdownWidth()}},{key:"componentDidUpdate",value:function(){this.setDropdownWidth()}},{key:"componentWillUnmount",value:function(){this.cancelRafInstance()}},{key:"render",value:function(){var e,t,n=this.props,o=n.onPopupFocus,i=n.empty,a=ue(n,["onPopupFocus","empty"]),c=a.multiple,s=a.visible,u=a.inputValue,l=a.dropdownAlign,f=a.disabled,h=a.showSearch,p=a.dropdownClassName,d=a.dropdownStyle,g=a.dropdownMatchSelectWidth,v=this.getDropdownPrefixCls(),m=(re(e={},p,!!p),re(e,"".concat(v,"--").concat(c?"multiple":"single"),1),re(e,"".concat(v,"--empty"),i),e),b=this.getDropdownElement({menuItems:a.options,onPopupFocus:o,multiple:c,inputValue:u,visible:s});t=f?[]:Y(a)&&!h?["click"]:["blur"];var x=oe({},d),w=g?"width":"minWidth";return this.state.dropdownWidth&&(x[w]="".concat(this.state.dropdownWidth,"px")),r.createElement(j.a,oe({},a,{showAction:f?[]:this.props.showAction,hideAction:t,ref:this.saveTriggerRef,popupPlacement:"bottomLeft",builtinPlacements:le,prefixCls:v,popupTransitionName:this.getDropdownTransitionName(),onPopupVisibleChange:a.onDropdownVisibleChange,popup:b,popupAlign:l,popupVisible:s,getPopupContainer:a.getPopupContainer,popupClassName:y()(m),popupStyle:x}),a.children)}}])&&ie(n.prototype,o),i&&ie(n,i),t}();function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}fe.defaultProps={dropdownRender:function(e){return e}},fe.propTypes={onPopupFocus:u.func,onPopupScroll:u.func,dropdownMatchSelectWidth:u.bool,dropdownAlign:u.object,visible:u.bool,disabled:u.bool,showSearch:u.bool,dropdownClassName:u.string,multiple:u.bool,inputValue:u.string,filterOption:u.any,options:u.any,prefixCls:u.string,popupClassName:u.string,children:u.any,showAction:u.arrayOf(u.string),menuItemSelectedIcon:u.oneOfType([u.func,u.node]),dropdownRender:u.func,ariaId:u.string},fe.displayName="SelectTrigger";var ye="RC_SELECT_EMPTY_VALUE_KEY",be=function(){return null};function xe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var o=0;o<t.length;o++)t[o]&&"function"===typeof t[o]&&t[o].apply(xe,n)}}var we=function(e){function t(e){var n,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,i=ge(t).call(this,e),(n=!i||"object"!==typeof i&&"function"!==typeof i?ve(o):i).inputRef=null,n.inputMirrorRef=null,n.topCtrlRef=null,n.selectTriggerRef=null,n.rootRef=null,n.selectionRef=null,n.dropdownContainer=null,n.blurTimer=null,n.focusTimer=null,n.comboboxTimer=null,n._focused=!1,n._mouseDown=!1,n._options=[],n._empty=!1,n.onInputChange=function(e){var t=n.props.tokenSeparators,r=e.target.value;if(R(n.props)&&t.length&&function(e,t){for(var n=0;n<t.length;++n)if(e.lastIndexOf(t[n])>0)return!0;return!1}(r,t)){var o=n.getValueByInput(r);return void 0!==o&&n.fireChange(o),n.setOpenState(!1,{needFocus:!0}),void n.setInputValue("",!1)}n.setInputValue(r),n.setState({open:!0}),B(n.props)&&n.fireChange([r])},n.onDropdownVisibleChange=function(e){e&&!n._focused&&(n.clearBlurTime(),n.timeoutFocus(),n._focused=!0,n.updateFocusClassName()),n.setOpenState(e)},n.onKeyDown=function(e){var t=n.state.open;if(!n.props.disabled){var r=e.keyCode;t&&!n.getInputDOMNode()?n.onInputKeyDown(e):r===E.a.ENTER||r===E.a.DOWN?(t||n.setOpenState(!0),e.preventDefault()):r===E.a.SPACE&&(t||(n.setOpenState(!0),e.preventDefault()))}},n.onInputKeyDown=function(e){var t=n.props,r=t.disabled,o=t.combobox,i=t.defaultActiveFirstOption;if(!r){var a=n.state,c=n.getRealOpenState(a),s=e.keyCode;if(!R(n.props)||e.target.value||s!==E.a.BACKSPACE){if(s===E.a.DOWN){if(!a.open)return n.openIfHasChildren(),e.preventDefault(),void e.stopPropagation()}else if(s===E.a.ENTER&&a.open)!c&&o||e.preventDefault(),c&&o&&!1===i&&(n.comboboxTimer=setTimeout(function(){n.setOpenState(!1)}));else if(s===E.a.ESC)return void(a.open&&(n.setOpenState(!1),e.preventDefault(),e.stopPropagation()));if(c&&n.selectTriggerRef){var u=n.selectTriggerRef.getInnerMenu();u&&u.onKeyDown(e,n.handleBackfill)&&(e.preventDefault(),e.stopPropagation())}}else{e.preventDefault();var l=a.value;l.length&&n.removeSelected(l[l.length-1])}}},n.onMenuSelect=function(e){var t=e.item;if(t){var r=n.state.value,o=n.props,i=D(t),a=r[r.length-1],c=!1;if(R(o)?-1!==H(r,i)?c=!0:r=r.concat([i]):B(o)||void 0===a||a!==i||i===n.state.backfillValue?(r=[i],n.setOpenState(!1,{needFocus:!0,fireSearch:!1})):(n.setOpenState(!1,{needFocus:!0,fireSearch:!1}),c=!0),c||n.fireChange(r),n.fireSelect(i),!c){var s=B(o)?L(t,o.optionLabelProp):"";o.autoClearSearchValue&&n.setInputValue(s,!1)}}},n.onMenuDeselect=function(e){var t=e.item,r=e.domEvent;"keydown"!==r.type||r.keyCode!==E.a.ENTER?("click"===r.type&&n.removeSelected(D(t)),n.props.autoClearSearchValue&&n.setInputValue("")):n.removeSelected(D(t))},n.onArrowClick=function(e){e.stopPropagation(),e.preventDefault(),n.props.disabled||n.setOpenState(!n.state.open,{needFocus:!n.state.open})},n.onPlaceholderClick=function(){n.getInputDOMNode&&n.getInputDOMNode()&&n.getInputDOMNode().focus()},n.onOuterFocus=function(e){if(n.props.disabled)e.preventDefault();else{n.clearBlurTime();var t=n.getInputDOMNode();t&&e.target===n.rootRef||(F(n.props)||e.target!==t)&&(n._focused||(n._focused=!0,n.updateFocusClassName(),R(n.props)&&n._mouseDown||n.timeoutFocus()))}},n.onPopupFocus=function(){n.maybeFocus(!0,!0)},n.onOuterBlur=function(e){n.props.disabled?e.preventDefault():n.blurTimer=window.setTimeout(function(){n._focused=!1,n.updateFocusClassName();var e=n.props,t=n.state.value,r=n.state.inputValue;if(Y(e)&&e.showSearch&&r&&e.defaultActiveFirstOption){var o=n._options||[];if(o.length){var i=function e(t){for(var n=0;n<t.length;n++){var r=t[n];if(r.type.isMenuItemGroup){var o=e(r.props.children);if(o)return o}else if(!r.props.disabled)return r}return null}(o);i&&(t=[D(i)],n.fireChange(t))}}else if(R(e)&&r){n._mouseDown?n.setInputValue(""):(n.state.inputValue="",n.getInputDOMNode&&n.getInputDOMNode()&&(n.getInputDOMNode().value=""));var a=n.getValueByInput(r);void 0!==a&&(t=a,n.fireChange(t))}if(R(e)&&n._mouseDown)return n.maybeFocus(!0,!0),void(n._mouseDown=!1);n.setOpenState(!1),e.onBlur&&e.onBlur(n.getVLForOnChange(t))},10)},n.onClearSelection=function(e){var t=n.props,r=n.state;if(!t.disabled){var o=r.inputValue,i=r.value;e.stopPropagation(),(o||i.length)&&(i.length&&n.fireChange([]),n.setOpenState(!1,{needFocus:!0}),o&&n.setInputValue(""))}},n.onChoiceAnimationLeave=function(){n.forcePopupAlign()},n.getOptionInfoBySingleValue=function(e,t){var o;if((t=t||n.state.optionsInfo)[G(e)]&&(o=t[G(e)]),o)return o;var i=e;if(n.props.labelInValue){var a=K(n.props.value,e),c=K(n.props.defaultValue,e);void 0!==a?i=a:void 0!==c&&(i=c)}return{option:r.createElement(p,{value:e,key:e},e),value:e,label:i}},n.getOptionBySingleValue=function(e){return n.getOptionInfoBySingleValue(e).option},n.getOptionsBySingleValue=function(e){return e.map(function(e){return n.getOptionBySingleValue(e)})},n.getValueByLabel=function(e){if(void 0===e)return null;var t=null;return Object.keys(n.state.optionsInfo).forEach(function(r){var o=n.state.optionsInfo[r];if(!o.disabled){var i=X(o.label);i&&i.join("")===e&&(t=o.value)}}),t},n.getVLBySingleValue=function(e){return n.props.labelInValue?{key:e,label:n.getLabelBySingleValue(e)}:e},n.getVLForOnChange=function(e){var t=e;return void 0!==t?(t=n.props.labelInValue?t.map(function(e){return{key:e,label:n.getLabelBySingleValue(e)}}):t.map(function(e){return e}),R(n.props)?t:t[0]):t},n.getLabelBySingleValue=function(e,t){return n.getOptionInfoBySingleValue(e,t).label},n.getDropdownContainer=function(){return n.dropdownContainer||(n.dropdownContainer=document.createElement("div"),document.body.appendChild(n.dropdownContainer)),n.dropdownContainer},n.getPlaceholderElement=function(){var e=n.props,t=n.state,o=!1;t.inputValue&&(o=!0);var i=t.value;i.length&&(o=!0),B(e)&&1===i.length&&t.value&&!t.value[0]&&(o=!1);var a=e.placeholder;return a?r.createElement("div",pe({onMouseDown:V,style:pe({display:o?"none":"block"},U)},z,{onClick:n.onPlaceholderClick,className:"".concat(e.prefixCls,"-selection__placeholder")}),a):null},n.getInputElement=function(){var e=n.props,t=r.createElement("input",{id:e.id,autoComplete:"off"}),o=e.getInputElement?e.getInputElement():t,i=y()(o.props.className,he({},"".concat(e.prefixCls,"-search__field"),!0));return r.createElement("div",{className:"".concat(e.prefixCls,"-search__field__wrap")},r.cloneElement(o,{ref:n.saveInputRef,onChange:n.onInputChange,onKeyDown:xe(n.onInputKeyDown,o.props.onKeyDown,n.props.onInputKeyDown),value:n.state.inputValue,disabled:e.disabled,className:i}),r.createElement("span",{ref:n.saveInputMirrorRef,className:"".concat(e.prefixCls,"-search__field__mirror")},n.state.inputValue,"\xa0"))},n.getInputDOMNode=function(){return n.topCtrlRef?n.topCtrlRef.querySelector("input,textarea,div[contentEditable]"):n.inputRef},n.getInputMirrorDOMNode=function(){return n.inputMirrorRef},n.getPopupDOMNode=function(){if(n.selectTriggerRef)return n.selectTriggerRef.getPopupDOMNode()},n.getPopupMenuComponent=function(){if(n.selectTriggerRef)return n.selectTriggerRef.getInnerMenu()},n.setOpenState=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.needFocus,o=t.fireSearch,i=n.props;if(n.state.open!==e){n.props.onDropdownVisibleChange&&n.props.onDropdownVisibleChange(e);var a={open:e,backfillValue:""};!e&&Y(i)&&i.showSearch&&n.setInputValue("",o),e||n.maybeFocus(e,!!r),n.setState(pe({open:e},a),function(){e&&n.maybeFocus(e,!!r)})}else n.maybeFocus(e,!!r)},n.setInputValue=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=n.props.onSearch;e!==n.state.inputValue&&n.setState(function(n){return t&&e!==n.inputValue&&r&&r(e),{inputValue:e}},n.forcePopupAlign)},n.getValueByInput=function(e){var t=n.props,r=t.multiple,o=t.tokenSeparators,i=n.state.value,a=!1;return function(e,t){var n=new RegExp("[".concat(t.join(),"]"));return e.split(n).filter(function(e){return e})}(e,o).forEach(function(e){var t=[e];if(r){var o=n.getValueByLabel(e);o&&-1===H(i,o)&&(i=i.concat(o),a=!0,n.fireSelect(o))}else-1===H(i,e)&&(i=i.concat(t),a=!0,n.fireSelect(e))}),a?i:void 0},n.getRealOpenState=function(e){var t=n.props.open;if("boolean"===typeof t)return t;var r=(e||n.state).open,o=n._options||[];return!F(n.props)&&n.props.showSearch||r&&!o.length&&(r=!1),r},n.markMouseDown=function(){n._mouseDown=!0},n.markMouseLeave=function(){n._mouseDown=!1},n.handleBackfill=function(e){if(n.props.backfill&&(Y(n.props)||B(n.props))){var t=D(e);B(n.props)&&n.setInputValue(t,!1),n.setState({value:[t],backfillValue:t})}},n.filterOption=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:W,o=n.state.value,i=o[o.length-1];if(!e||i&&i===n.state.backfillValue)return!0;var a=n.props.filterOption;return"filterOption"in n.props?!0===a&&(a=r.bind(ve(n))):a=r.bind(ve(n)),!a||("function"===typeof a?a.call(ve(n),e,t):!t.props.disabled)},n.timeoutFocus=function(){var e=n.props.onFocus;n.focusTimer&&n.clearFocusTime(),n.focusTimer=window.setTimeout(function(){e&&e()},10)},n.clearFocusTime=function(){n.focusTimer&&(clearTimeout(n.focusTimer),n.focusTimer=null)},n.clearBlurTime=function(){n.blurTimer&&(clearTimeout(n.blurTimer),n.blurTimer=null)},n.clearComboboxTime=function(){n.comboboxTimer&&(clearTimeout(n.comboboxTimer),n.comboboxTimer=null)},n.updateFocusClassName=function(){var e=n.rootRef,t=n.props;n._focused?x()(e).add("".concat(t.prefixCls,"-focused")):x()(e).remove("".concat(t.prefixCls,"-focused"))},n.maybeFocus=function(e,t){if(t||e){var r=n.getInputDOMNode(),o=document.activeElement;r&&(e||F(n.props))?o!==r&&(r.focus(),n._focused=!0):o!==n.selectionRef&&n.selectionRef&&(n.selectionRef.focus(),n._focused=!0)}},n.removeSelected=function(e,t){var r=n.props;if(!r.disabled&&!n.isChildDisabled(e)){t&&t.stopPropagation&&t.stopPropagation();var o=n.state.value.filter(function(t){return t!==e});if(R(r)){var i=e;r.labelInValue&&(i={key:e,label:n.getLabelBySingleValue(e)}),r.onDeselect&&r.onDeselect(i,n.getOptionBySingleValue(e))}n.fireChange(o)}},n.openIfHasChildren=function(){var e=n.props;(r.Children.count(e.children)||Y(e))&&n.setOpenState(!0)},n.fireSelect=function(e){n.props.onSelect&&n.props.onSelect(n.getVLBySingleValue(e),n.getOptionBySingleValue(e))},n.fireChange=function(e){var t=n.props;"value"in t||n.setState({value:e},n.forcePopupAlign);var r=n.getVLForOnChange(e),o=n.getOptionsBySingleValue(e);t.onChange&&t.onChange(r,R(n.props)?o:o[0])},n.isChildDisabled=function(e){return Object(S.a)(n.props.children).some(function(t){return D(t)===e&&t.props&&t.props.disabled})},n.forcePopupAlign=function(){n.state.open&&n.selectTriggerRef&&n.selectTriggerRef.triggerRef&&n.selectTriggerRef.triggerRef.forcePopupAlign()},n.renderFilterOptions=function(){var e=n.state.inputValue,t=n.props,o=t.children,i=t.tags,a=t.notFoundContent,c=[],s=[],u=!1,l=n.renderFilterOptionsFromChildren(o,s,c);if(i){var f=n.state.value;(f=f.filter(function(t){return-1===s.indexOf(t)&&(!e||String(t).indexOf(String(e))>-1)})).sort(function(e,t){return e.length-t.length}),f.forEach(function(e){var t=e,n=r.createElement(O.b,{style:U,role:"option",attribute:z,value:t,key:t},t);l.push(n),c.push(n)}),e&&c.every(function(t){return D(t)!==e})&&l.unshift(r.createElement(O.b,{style:U,role:"option",attribute:z,value:e,key:e},e))}return!l.length&&a&&(u=!0,l=[r.createElement(O.b,{style:U,attribute:z,disabled:!0,role:"option",value:"NOT_FOUND",key:"NOT_FOUND"},a)]),{empty:u,options:l}},n.renderFilterOptionsFromChildren=function(e,t,o){var i=[],a=n.props,c=n.state.inputValue,s=a.tags;return r.Children.forEach(e,function(e){if(e){var a=e.type;if(a.isSelectOptGroup){var u=e.props.label,l=e.key;if(l||"string"!==typeof u?!u&&l&&(u=l):l=u,c&&n.filterOption(c,e)){var f=Object(S.a)(e.props.children).map(function(e){var t=D(e)||e.key;return r.createElement(O.b,pe({key:t,value:t},e.props))});i.push(r.createElement(O.c,{key:l,title:u},f))}else{var h=n.renderFilterOptionsFromChildren(e.props.children,t,o);h.length&&i.push(r.createElement(O.c,{key:l,title:u},h))}}else{M()(a.isSelectOption,"the children of `Select` should be `Select.Option` or `Select.OptGroup`, "+"instead of `".concat(a.name||a.displayName||e.type,"`."));var p=D(e);if(function(e,t){if(!Y(t)&&!function(e){return e.multiple}(t)&&"string"!==typeof e)throw new Error("Invalid `value` of type `".concat(typeof e,"` supplied to Option, ")+"expected `string` when `tags/combobox` is `true`.")}(p,n.props),n.filterOption(c,e)){var d=r.createElement(O.b,pe({style:U,attribute:z,value:p,key:p,role:"option"},e.props));i.push(d),o.push(d)}s&&t.push(p)}}}),i},n.renderTopControlNode=function(){var e=n.state,t=e.open,o=e.inputValue,i=n.state.value,a=n.props,c=a.choiceTransitionName,s=a.prefixCls,u=a.maxTagTextLength,l=a.maxTagCount,f=a.showSearch,h=a.removeIcon,p=a.maxTagPlaceholder,d="".concat(s,"-selection__rendered"),g=null;if(Y(a)){var v=null;if(i.length){var m=!1,y=1;f&&t?(m=!o)&&(y=.4):m=!0;var b=i[0],x=n.getOptionInfoBySingleValue(b),O=x.label,S=x.title;v=r.createElement("div",{key:"value",className:"".concat(s,"-selection-selected-value"),title:I(S||O),style:{display:m?"block":"none",opacity:y}},O)}g=f?[v,r.createElement("div",{className:"".concat(s,"-search ").concat(s,"-search--inline"),key:"input",style:{display:t?"block":"none"}},n.getInputElement())]:[v]}else{var E,_=[],P=i;if(void 0!==l&&i.length>l){P=P.slice(0,l);var C=n.getVLForOnChange(i.slice(l,i.length)),M="+ ".concat(i.length-l," ...");p&&(M="function"===typeof p?p(C):p),E=r.createElement("li",pe({style:U},z,{role:"presentation",onMouseDown:V,className:"".concat(s,"-selection__choice ").concat(s,"-selection__choice__disabled"),key:"maxTagPlaceholder",title:I(M)}),r.createElement("div",{className:"".concat(s,"-selection__choice__content")},M))}R(a)&&(_=P.map(function(e){var t=n.getOptionInfoBySingleValue(e),o=t.label,i=t.title||o;u&&"string"===typeof o&&o.length>u&&(o="".concat(o.slice(0,u),"..."));var a=n.isChildDisabled(e),c=a?"".concat(s,"-selection__choice ").concat(s,"-selection__choice__disabled"):"".concat(s,"-selection__choice");return r.createElement("li",pe({style:U},z,{onMouseDown:V,className:c,role:"presentation",key:e||ye,title:I(i)}),r.createElement("div",{className:"".concat(s,"-selection__choice__content")},o),a?null:r.createElement("span",{onClick:function(t){n.removeSelected(e,t)},className:"".concat(s,"-selection__choice__remove")},h||r.createElement("i",{className:"".concat(s,"-selection__choice__remove-icon")},"\xd7")))})),E&&_.push(E),_.push(r.createElement("li",{className:"".concat(s,"-search ").concat(s,"-search--inline"),key:"__input"},n.getInputElement())),g=R(a)&&c?r.createElement(w.a,{onLeave:n.onChoiceAnimationLeave,component:"ul",transitionName:c},_):r.createElement("ul",null,_)}return r.createElement("div",{className:d,ref:n.saveTopCtrlRef},n.getPlaceholderElement(),g)};var a=t.getOptionsInfoFromProps(e);if(e.tags&&"function"!==typeof e.filterOption){var c=Object.keys(a).some(function(e){return a[e].disabled});M()(!c,"Please avoid setting option to disabled in tags mode since user can always type text as tag.")}return n.state={value:t.getValueFromProps(e,!0),inputValue:e.combobox?t.getInputValueForCombobox(e,a,!0):"",open:e.defaultOpen,optionsInfo:a,backfillValue:"",skipBuildOptionsInfo:!0,ariaId:""},n.saveInputRef=q(ve(n),"inputRef"),n.saveInputMirrorRef=q(ve(n),"inputMirrorRef"),n.saveTopCtrlRef=q(ve(n),"topCtrlRef"),n.saveSelectTriggerRef=q(ve(n),"selectTriggerRef"),n.saveRootRef=q(ve(n),"rootRef"),n.saveSelectionRef=q(ve(n),"selectionRef"),n}var n,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){(this.props.autoFocus||this.state.open)&&this.focus(),this.setState({ariaId:Z()})}},{key:"componentDidUpdate",value:function(){if(R(this.props)){var e=this.getInputDOMNode(),t=this.getInputMirrorDOMNode();e&&e.value&&t?(e.style.width="",e.style.width="".concat(t.clientWidth,"px")):e&&(e.style.width="")}this.forcePopupAlign()}},{key:"componentWillUnmount",value:function(){this.clearFocusTime(),this.clearBlurTime(),this.clearComboboxTime(),this.dropdownContainer&&(_.unmountComponentAtNode(this.dropdownContainer),document.body.removeChild(this.dropdownContainer),this.dropdownContainer=null)}},{key:"focus",value:function(){Y(this.props)&&this.selectionRef?this.selectionRef.focus():this.getInputDOMNode()&&this.getInputDOMNode().focus()}},{key:"blur",value:function(){Y(this.props)&&this.selectionRef?this.selectionRef.blur():this.getInputDOMNode()&&this.getInputDOMNode().blur()}},{key:"renderArrow",value:function(e){var t=this.props,n=t.showArrow,o=void 0===n?!e:n,i=t.loading,a=t.inputIcon,c=t.prefixCls;if(!o&&!i)return null;var s=i?r.createElement("i",{className:"".concat(c,"-arrow-loading")}):r.createElement("i",{className:"".concat(c,"-arrow-icon")});return r.createElement("span",pe({key:"arrow",className:"".concat(c,"-arrow"),style:U},z,{onClick:this.onArrowClick}),a||s)}},{key:"renderClear",value:function(){var e=this.props,t=e.prefixCls,n=e.allowClear,o=e.clearIcon,i=this.state.inputValue,a=this.state.value,c=r.createElement("span",pe({key:"clear",className:"".concat(t,"-selection__clear"),onMouseDown:V,style:U},z,{onClick:this.onClearSelection}),o||r.createElement("i",{className:"".concat(t,"-selection__clear-icon")},"\xd7"));return n?B(this.props)?i?c:null:i||a.length?c:null:null}},{key:"render",value:function(){var e,t=this.props,n=R(t),o=t.showArrow,i=void 0===o||o,a=this.state,c=t.className,s=t.disabled,u=t.prefixCls,l=t.loading,f=this.renderTopControlNode(),h=this.state,p=h.open,d=h.ariaId;if(p){var g=this.renderFilterOptions();this._empty=g.empty,this._options=g.options}var v=this.getRealOpenState(),m=this._empty,b=this._options||[],x={};Object.keys(t).forEach(function(e){!Object.prototype.hasOwnProperty.call(t,e)||"data-"!==e.substr(0,5)&&"aria-"!==e.substr(0,5)&&"role"!==e||(x[e]=t[e])});var w=pe({},x);F(t)||(w=pe({},w,{onKeyDown:this.onKeyDown,tabIndex:t.disabled?-1:t.tabIndex}));var O=(he(e={},c,!!c),he(e,u,1),he(e,"".concat(u,"-open"),p),he(e,"".concat(u,"-focused"),p||!!this._focused),he(e,"".concat(u,"-combobox"),B(t)),he(e,"".concat(u,"-disabled"),s),he(e,"".concat(u,"-enabled"),!s),he(e,"".concat(u,"-allow-clear"),!!t.allowClear),he(e,"".concat(u,"-no-arrow"),!i),he(e,"".concat(u,"-loading"),!!l),e);return r.createElement(fe,{onPopupFocus:this.onPopupFocus,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,dropdownAlign:t.dropdownAlign,dropdownClassName:t.dropdownClassName,dropdownMatchSelectWidth:t.dropdownMatchSelectWidth,defaultActiveFirstOption:t.defaultActiveFirstOption,dropdownMenuStyle:t.dropdownMenuStyle,transitionName:t.transitionName,animation:t.animation,prefixCls:t.prefixCls,dropdownStyle:t.dropdownStyle,combobox:t.combobox,showSearch:t.showSearch,options:b,empty:m,multiple:n,disabled:s,visible:v,inputValue:a.inputValue,value:a.value,backfillValue:a.backfillValue,firstActiveValue:t.firstActiveValue,onDropdownVisibleChange:this.onDropdownVisibleChange,getPopupContainer:t.getPopupContainer,onMenuSelect:this.onMenuSelect,onMenuDeselect:this.onMenuDeselect,onPopupScroll:t.onPopupScroll,showAction:t.showAction,ref:this.saveSelectTriggerRef,menuItemSelectedIcon:t.menuItemSelectedIcon,dropdownRender:t.dropdownRender,ariaId:d},r.createElement("div",{id:t.id,style:t.style,ref:this.saveRootRef,onBlur:this.onOuterBlur,onFocus:this.onOuterFocus,className:y()(O),onMouseDown:this.markMouseDown,onMouseUp:this.markMouseLeave,onMouseOut:this.markMouseLeave},r.createElement("div",pe({ref:this.saveSelectionRef,key:"selection",className:"".concat(u,"-selection\n            ").concat(u,"-selection--").concat(n?"multiple":"single"),role:"combobox","aria-autocomplete":"list","aria-haspopup":"true","aria-controls":d,"aria-expanded":v},w),f,this.renderClear(),this.renderArrow(!!n))))}}])&&de(n.prototype,o),i&&de(n,i),t}();we.propTypes=v,we.defaultProps={prefixCls:"rc-select",defaultOpen:!1,labelInValue:!1,defaultActiveFirstOption:!0,showSearch:!0,allowClear:!1,placeholder:"",onChange:be,onFocus:be,onBlur:be,onSelect:be,onSearch:be,onDeselect:be,onInputKeyDown:be,dropdownMatchSelectWidth:!0,dropdownStyle:{},dropdownMenuStyle:{},optionFilterProp:"value",optionLabelProp:"value",notFoundContent:"Not Found",backfill:!1,showAction:["click"],tokenSeparators:[],autoClearSearchValue:!0,tabIndex:0,dropdownRender:function(e){return e}},we.getDerivedStateFromProps=function(e,t){var n=t.skipBuildOptionsInfo?t.optionsInfo:we.getOptionsInfoFromProps(e,t),r={optionsInfo:n,skipBuildOptionsInfo:!1};if("open"in e&&(r.open=e.open),"value"in e){var o=we.getValueFromProps(e);r.value=o,e.combobox&&(r.inputValue=we.getInputValueForCombobox(e,n))}return r},we.getOptionsFromChildren=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return r.Children.forEach(e,function(e){e&&(e.type.isSelectOptGroup?we.getOptionsFromChildren(e.props.children,t):t.push(e))}),t},we.getInputValueForCombobox=function(e,t,n){var r=[];if("value"in e&&!n&&(r=X(e.value)),"defaultValue"in e&&n&&(r=X(e.defaultValue)),!r.length)return"";var o=r=r[0];return e.labelInValue?o=r.label:t[G(r)]&&(o=t[G(r)].label),void 0===o&&(o=""),o},we.getLabelFromOption=function(e,t){return L(t,e.optionLabelProp)},we.getOptionsInfoFromProps=function(e,t){var n=we.getOptionsFromChildren(e.children),r={};if(n.forEach(function(t){var n=D(t);r[G(n)]={option:t,value:n,label:we.getLabelFromOption(e,t),title:t.props.title,disabled:t.props.disabled}}),t){var o=t.optionsInfo,i=t.value;i&&i.forEach(function(e){var t=G(e);r[t]||void 0===o[t]||(r[t]=o[t])})}return r},we.getValueFromProps=function(e,t){var n=[];return"value"in e&&!t&&(n=X(e.value)),"defaultValue"in e&&t&&(n=X(e.defaultValue)),e.labelInValue&&(n=n.map(function(e){return e.key})),n},we.displayName="Select",Object(P.polyfill)(we);var Oe=we;n.d(t,"b",function(){return p}),n.d(t,"a",function(){return s}),Oe.Option=p,Oe.OptGroup=s;t.c=Oe},716:function(e,t,n){},719:function(e,t,n){},720:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},722:function(e,t,n){n(301),n(723),e.exports=n(70).Array.from},723:function(e,t,n){"use strict";var r=n(213),o=n(103),i=n(157),a=n(724),c=n(725),s=n(300),u=n(726),l=n(727);o(o.S+o.F*!n(729)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,f,h=i(e),p="function"==typeof this?this:Array,d=arguments.length,g=d>1?arguments[1]:void 0,v=void 0!==g,m=0,y=l(h);if(v&&(g=r(g,d>2?arguments[2]:void 0,2)),void 0==y||p==Array&&c(y))for(n=new p(t=s(h.length));t>m;m++)u(n,m,v?g(h[m],m):h[m]);else for(f=y.call(h),n=new p;!(o=f.next()).done;m++)u(n,m,v?a(f,g,[o.value,m],!0):o.value);return n.length=m,n}})},724:function(e,t,n){var r=n(114);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(a){var i=e.return;throw void 0!==i&&r(i.call(e)),a}}},725:function(e,t,n){var r=n(156),o=n(100)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},726:function(e,t,n){"use strict";var r=n(84),o=n(127);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},727:function(e,t,n){var r=n(728),o=n(100)("iterator"),i=n(156);e.exports=n(70).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},728:function(e,t,n){var r=n(214),o=n(100)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},729:function(e,t,n){var r=n(100)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(a){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],c=i[r]();c.next=function(){return{done:n=!0}},i[r]=function(){return c},e(i)}catch(a){}return n}},738:function(e,t,n){"use strict";var r=n(805),o=n(720),i=n(916),a=n(798),c=n(882),s=n(881),u=n(969),l=n(917),f=n(919),h=n(883),p=n(920),d=h("isConcatSpreadable"),g=p>=51||!o(function(){var e=[];return e[d]=!1,e.concat()[0]!==e}),v=f("concat"),m=function(e){if(!a(e))return!1;var t=e[d];return void 0!==t?!!t:i(e)};r({target:"Array",proto:!0,forced:!g||!v},{concat:function(e){var t,n,r,o,i,a=c(this),f=l(a,0),h=0;for(t=-1,r=arguments.length;t<r;t++)if(i=-1===t?a:arguments[t],m(i)){if(h+(o=s(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,h++)n in i&&u(f,h,i[n])}else{if(h>=9007199254740991)throw TypeError("Maximum allowed index exceeded");u(f,h++,i)}return f.length=h,f}})},740:function(e,t,n){"use strict";n(56),n(744)},741:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(49),o=Object(r.a)("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime")},742:function(e,t,n){var r=n(628),o=n(704),i=n(637),a=n(607),c=n(645);e.exports=function(e,t,n,s){if(!a(e))return e;for(var u=-1,l=(t=o(t,e)).length,f=l-1,h=e;null!=h&&++u<l;){var p=c(t[u]),d=n;if(u!=f){var g=h[p];void 0===(d=s?s(g,p,h):void 0)&&(d=a(g)?g:i(t[u+1])?[]:{})}r(h,p,d),h=h[p]}return e}},743:function(e,t,n){"use strict";var r=n(0),o=n(3),i=n.n(o),a=n(24),c=n(15),s=n(7),u=n(86);function l(e){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},y=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=d(this,g(t).apply(this,arguments))).handleClick=function(){var t=e.props,n=t.checked,r=t.onChange;r&&r(!n)},e.renderCheckableTag=function(t){var n,o=t.getPrefixCls,a=e.props,c=a.prefixCls,s=a.className,u=a.checked,l=m(a,["prefixCls","className","checked"]),p=o("tag",c),d=i()(p,(h(n={},"".concat(p,"-checkable"),!0),h(n,"".concat(p,"-checkable-checked"),u),n),s);return delete l.onChange,r.createElement("span",f({},l,{className:d,onClick:e.handleClick}))},e}var n,o,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return r.createElement(u.a,null,this.renderCheckableTag)}}])&&p(n.prototype,o),a&&p(n,a),t}(),b=n(741),x=n(14),w=n(212);function O(e){return(O="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return!t||"object"!==O(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},A=new RegExp("^(".concat(b.a.join("|"),")(-inverse)?$")),j=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=P(this,C(t).call(this,e))).state={visible:!0},n.handleIconClick=function(e){e.stopPropagation(),n.setVisible(!1,e)},n.renderTag=function(e){var t=n.props,o=t.children,i=k(t,["children"]),c="onClick"in i||o&&"a"===o.type,s=Object(a.a)(i,["onClose","afterClose","color","visible","closable","prefixCls"]);return c?r.createElement(w.a,null,r.createElement("span",E({},s,{className:n.getTagClassName(e),style:n.getTagStyle()}),o,n.renderCloseIcon())):r.createElement("span",E({},s,{className:n.getTagClassName(e),style:n.getTagStyle()}),o,n.renderCloseIcon())},Object(x.a)(!("afterClose"in e),"Tag","'afterClose' will be deprecated, please use 'onClose', we will remove this in the next version."),n}var n,o,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,r["Component"]),n=t,c=[{key:"getDerivedStateFromProps",value:function(e){return"visible"in e?{visible:e.visible}:null}}],(o=[{key:"getTagStyle",value:function(){var e=this.props,t=e.color,n=e.style,r=this.isPresetColor();return E({backgroundColor:t&&!r?t:void 0},n)}},{key:"getTagClassName",value:function(e){var t,n=e.getPrefixCls,r=this.props,o=r.prefixCls,a=r.className,c=r.color,s=this.state.visible,u=this.isPresetColor(),l=n("tag",o);return i()(l,(S(t={},"".concat(l,"-").concat(c),u),S(t,"".concat(l,"-has-color"),c&&!u),S(t,"".concat(l,"-hidden"),!s),t),a)}},{key:"setVisible",value:function(e,t){var n=this.props,r=n.onClose,o=n.afterClose;r&&r(t),o&&!r&&o(),t.defaultPrevented||"visible"in this.props||this.setState({visible:e})}},{key:"isPresetColor",value:function(){var e=this.props.color;return!!e&&A.test(e)}},{key:"renderCloseIcon",value:function(){return this.props.closable?r.createElement(s.a,{type:"close",onClick:this.handleIconClick}):null}},{key:"render",value:function(){return r.createElement(u.a,null,this.renderTag)}}])&&_(n.prototype,o),c&&_(n,c),t}();j.CheckableTag=y,j.defaultProps={closable:!1},Object(c.polyfill)(j);t.a=j},744:function(e,t,n){},747:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(72),o=n.n(r)()(null)},748:function(e,t,n){"use strict";var r=n(0),o=n(1),i=n.n(o),a=n(3),c=n.n(a),s=n(294),u=n.n(s),l=n(205),f=n(15),h=n(747),p=n(656);function d(e){return(d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=v(this,m(t).apply(this,arguments))).domTreeNodes={},e.state={keyEntities:{},selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],dragNodesKeys:[],dragOverNodeKey:null,dropPosition:null,treeNode:[],prevProps:null},e.onNodeDragStart=function(t,n){var r=e.state.expandedKeys,o=e.props.onDragStart,i=n.props,a=i.eventKey,c=i.children;e.dragNode=n,e.setState({dragNodesKeys:Object(p.j)(c,n),expandedKeys:Object(p.b)(r,a)}),o&&o({event:t,node:n})},e.onNodeDragEnter=function(t,n){var r=e.state.expandedKeys,o=e.props.onDragEnter,i=n.props,a=i.pos,c=i.eventKey;if(e.dragNode){var s=Object(p.c)(t,n);e.dragNode.props.eventKey!==c||0!==s?setTimeout(function(){e.setState({dragOverNodeKey:c,dropPosition:s}),e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(t){clearTimeout(e.delayedDragEnterLogic[t])}),e.delayedDragEnterLogic[a]=window.setTimeout(function(){var i=Object(p.a)(r,c);"expandedKeys"in e.props||e.setState({expandedKeys:i}),o&&o({event:t,node:n,expandedKeys:i})},400)},0):e.setState({dragOverNodeKey:"",dropPosition:null})}},e.onNodeDragOver=function(t,n){var r=e.props.onDragOver,o=n.props.eventKey;if(e.dragNode&&o===e.state.dragOverNodeKey){var i=Object(p.c)(t,n);if(i===e.state.dropPosition)return;e.setState({dropPosition:i})}r&&r({event:t,node:n})},e.onNodeDragLeave=function(t,n){var r=e.props.onDragLeave;e.setState({dragOverNodeKey:""}),r&&r({event:t,node:n})},e.onNodeDragEnd=function(t,n){var r=e.props.onDragEnd;e.setState({dragOverNodeKey:""}),r&&r({event:t,node:n}),e.dragNode=null},e.onNodeDrop=function(t,n){var r=e.state,o=r.dragNodesKeys,i=void 0===o?[]:o,a=r.dropPosition,c=e.props.onDrop,s=n.props,l=s.eventKey,f=s.pos;if(e.setState({dragOverNodeKey:""}),-1===i.indexOf(l)){var h=Object(p.o)(f),d={event:t,node:n,dragNode:e.dragNode,dragNodesKeys:i.slice(),dropPosition:a+Number(h[h.length-1]),dropToGap:!1};0!==a&&(d.dropToGap=!0),c&&c(d),e.dragNode=null}else u()(!1,"Can not drop to dragNode(include it's children node)")},e.onNodeClick=function(t,n){var r=e.props.onClick;r&&r(t,n)},e.onNodeDoubleClick=function(t,n){var r=e.props.onDoubleClick;r&&r(t,n)},e.onNodeSelect=function(t,n){var r=e.state.selectedKeys,o=e.state.keyEntities,i=e.props,a=i.onSelect,c=i.multiple,s=n.props,u=s.selected,l=s.eventKey,f=!u,h=(r=f?c?Object(p.a)(r,l):[l]:Object(p.b)(r,l)).map(function(e){var t=o[e];return t?t.node:null}).filter(function(e){return e});e.setUncontrolledState({selectedKeys:r}),a&&a(r,{event:"select",selected:f,node:n,selectedNodes:h,nativeEvent:t.nativeEvent})},e.onNodeCheck=function(t,n,r){var o,i=e.state,a=i.keyEntities,c=i.checkedKeys,s=i.halfCheckedKeys,u=e.props,l=u.checkStrictly,f=u.onCheck,h=n.props.eventKey,d={event:"check",node:n,checked:r,nativeEvent:t.nativeEvent};if(l){var g=r?Object(p.a)(c,h):Object(p.b)(c,h);o={checked:g,halfChecked:Object(p.b)(s,h)},d.checkedNodes=g.map(function(e){return a[e]}).filter(function(e){return e}).map(function(e){return e.node}),e.setUncontrolledState({checkedKeys:g})}else{var v=Object(p.e)([h],r,a,{checkedKeys:c,halfCheckedKeys:s}),m=v.checkedKeys,y=v.halfCheckedKeys;o=m,d.checkedNodes=[],d.checkedNodesPositions=[],d.halfCheckedKeys=y,m.forEach(function(e){var t=a[e];if(t){var n=t.node,r=t.pos;d.checkedNodes.push(n),d.checkedNodesPositions.push({node:n,pos:r})}}),e.setUncontrolledState({checkedKeys:m,halfCheckedKeys:y})}f&&f(o,d)},e.onNodeLoad=function(t){return new Promise(function(n){e.setState(function(r){var o=r.loadedKeys,i=void 0===o?[]:o,a=r.loadingKeys,c=void 0===a?[]:a,s=e.props,u=s.loadData,l=s.onLoad,f=t.props.eventKey;return u&&-1===i.indexOf(f)&&-1===c.indexOf(f)?(u(t).then(function(){var r=e.state,o=r.loadedKeys,i=r.loadingKeys,a=Object(p.a)(o,f),c=Object(p.b)(i,f);l&&l(a,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:a}),e.setState({loadingKeys:c}),n()}),{loadingKeys:Object(p.a)(c,f)}):{}})})},e.onNodeExpand=function(t,n){var r=e.state.expandedKeys,o=e.props,i=o.onExpand,a=o.loadData,c=n.props,s=c.eventKey,l=c.expanded,f=r.indexOf(s),h=!l;if(u()(l&&-1!==f||!l&&-1===f,"Expand state not sync with index check"),r=h?Object(p.a)(r,s):Object(p.b)(r,s),e.setUncontrolledState({expandedKeys:r}),i&&i(r,{node:n,expanded:h,nativeEvent:t.nativeEvent}),h&&a){var d=e.onNodeLoad(n);return d?d.then(function(){e.setUncontrolledState({expandedKeys:r})}):null}return null},e.onNodeMouseEnter=function(t,n){var r=e.props.onMouseEnter;r&&r({event:t,node:n})},e.onNodeMouseLeave=function(t,n){var r=e.props.onMouseLeave;r&&r({event:t,node:n})},e.onNodeContextMenu=function(t,n){var r=e.props.onRightClick;r&&(t.preventDefault(),r({event:t,node:n}))},e.setUncontrolledState=function(t){var n=!1,r={};Object.keys(t).forEach(function(o){o in e.props||(n=!0,r[o]=t[o])}),n&&e.setState(r)},e.registerTreeNode=function(t,n){n?e.domTreeNodes[t]=n:delete e.domTreeNodes[t]},e.isKeyChecked=function(t){var n=e.state.checkedKeys;return-1!==(void 0===n?[]:n).indexOf(t)},e.renderTreeNode=function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=e.state,a=i.keyEntities,c=i.expandedKeys,s=void 0===c?[]:c,u=i.selectedKeys,l=void 0===u?[]:u,f=i.halfCheckedKeys,h=void 0===f?[]:f,d=i.loadedKeys,g=void 0===d?[]:d,v=i.loadingKeys,m=void 0===v?[]:v,y=i.dragOverNodeKey,b=i.dropPosition,x=Object(p.l)(o,n),w=t.key||x;return a[w]?r.cloneElement(t,{key:w,eventKey:w,expanded:-1!==s.indexOf(w),selected:-1!==l.indexOf(w),loaded:-1!==g.indexOf(w),loading:-1!==m.indexOf(w),checked:e.isKeyChecked(w),halfChecked:-1!==h.indexOf(w),pos:x,dragOver:y===w&&0===b,dragOverGapTop:y===w&&-1===b,dragOverGapBottom:y===w&&1===b}):(Object(p.p)(),null)},e}var n,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,r["Component"]),n=t,i=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r={prevProps:e};function o(t){return!n&&t in e||n&&n[t]!==e[t]}var i=null;if(o("treeData")?i=Object(p.g)(e.treeData):o("children")&&(i=Object(l.a)(e.children)),i){r.treeNode=i;var a=Object(p.h)(i);r.keyEntities=a.keyEntities}var c,s=r.keyEntities||t.keyEntities;if((o("expandedKeys")||n&&o("autoExpandParent")?r.expandedKeys=e.autoExpandParent||!n&&e.defaultExpandParent?Object(p.f)(e.expandedKeys,s):e.expandedKeys:!n&&e.defaultExpandAll?r.expandedKeys=Object.keys(s):!n&&e.defaultExpandedKeys&&(r.expandedKeys=e.autoExpandParent||e.defaultExpandParent?Object(p.f)(e.defaultExpandedKeys,s):e.defaultExpandedKeys),e.selectable&&(o("selectedKeys")?r.selectedKeys=Object(p.d)(e.selectedKeys,e):!n&&e.defaultSelectedKeys&&(r.selectedKeys=Object(p.d)(e.defaultSelectedKeys,e))),e.checkable)&&(o("checkedKeys")?c=Object(p.n)(e.checkedKeys)||{}:!n&&e.defaultCheckedKeys?c=Object(p.n)(e.defaultCheckedKeys)||{}:i&&(c=Object(p.n)(e.checkedKeys)||{checkedKeys:t.checkedKeys,halfCheckedKeys:t.halfCheckedKeys}),c)){var u=c,f=u.checkedKeys,h=void 0===f?[]:f,d=u.halfCheckedKeys,g=void 0===d?[]:d;if(!e.checkStrictly){var v=Object(p.e)(h,!0,s);h=v.checkedKeys,g=v.halfCheckedKeys}r.checkedKeys=h,r.halfCheckedKeys=g}return o("loadedKeys")&&(r.loadedKeys=e.loadedKeys),r}}],(o=[{key:"render",value:function(){var e,t,n,o=this,i=this.state.treeNode,a=this.props,s=a.prefixCls,u=a.className,l=a.focusable,f=a.style,d=a.showLine,g=a.tabIndex,v=void 0===g?0:g,m=a.selectable,y=a.showIcon,b=a.icon,x=a.switcherIcon,w=a.draggable,O=a.checkable,S=a.checkStrictly,E=a.disabled,_=a.motion,P=a.loadData,C=a.filterTreeNode,M=Object(p.i)(this.props);return l&&(M.tabIndex=v),r.createElement(h.a.Provider,{value:{prefixCls:s,selectable:m,showIcon:y,icon:b,switcherIcon:x,draggable:w,checkable:O,checkStrictly:S,disabled:E,motion:_,loadData:P,filterTreeNode:C,renderTreeNode:this.renderTreeNode,isKeyChecked:this.isKeyChecked,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop,registerTreeNode:this.registerTreeNode}},r.createElement("ul",Object.assign({},M,{className:c()(s,u,(e={},t="".concat(s,"-show-line"),n=d,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e)),style:f,role:"tree",unselectable:"on"}),Object(p.m)(i,function(e,t){return o.renderTreeNode(e,t)})))}}])&&g(n.prototype,o),i&&g(n,i),t}();b.propTypes={prefixCls:i.a.string,className:i.a.string,style:i.a.object,tabIndex:i.a.oneOfType([i.a.string,i.a.number]),children:i.a.any,treeData:i.a.array,showLine:i.a.bool,showIcon:i.a.bool,icon:i.a.oneOfType([i.a.node,i.a.func]),focusable:i.a.bool,selectable:i.a.bool,disabled:i.a.bool,multiple:i.a.bool,checkable:i.a.oneOfType([i.a.bool,i.a.node]),checkStrictly:i.a.bool,draggable:i.a.bool,defaultExpandParent:i.a.bool,autoExpandParent:i.a.bool,defaultExpandAll:i.a.bool,defaultExpandedKeys:i.a.arrayOf(i.a.string),expandedKeys:i.a.arrayOf(i.a.string),defaultCheckedKeys:i.a.arrayOf(i.a.string),checkedKeys:i.a.oneOfType([i.a.arrayOf(i.a.oneOfType([i.a.string,i.a.number])),i.a.object]),defaultSelectedKeys:i.a.arrayOf(i.a.string),selectedKeys:i.a.arrayOf(i.a.string),onClick:i.a.func,onDoubleClick:i.a.func,onExpand:i.a.func,onCheck:i.a.func,onSelect:i.a.func,onLoad:i.a.func,loadData:i.a.func,loadedKeys:i.a.arrayOf(i.a.string),onMouseEnter:i.a.func,onMouseLeave:i.a.func,onRightClick:i.a.func,onDragStart:i.a.func,onDragEnter:i.a.func,onDragOver:i.a.func,onDragLeave:i.a.func,onDragEnd:i.a.func,onDrop:i.a.func,filterTreeNode:i.a.func,motion:i.a.object,switcherIcon:i.a.oneOfType([i.a.node,i.a.func])},b.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[]},Object(f.polyfill)(b);var x=b,w=n(707);n.d(t,"a",function(){return w.a});var O=x;O.TreeNode=w.a;t.b=O},782:function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},795:function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},796:function(e,t,n){var r=n(797),o=n(686);e.exports=function(e,t){return null!=e&&o(e,t,r)}},797:function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},798:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},799:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},805:function(e,t,n){var r=n(687),o=n(902).f,i=n(807),a=n(956),c=n(880),s=n(961),u=n(968);e.exports=function(e,t){var n,l,f,h,p,d=e.target,g=e.global,v=e.stat;if(n=g?r:v?r[d]||c(d,{}):(r[d]||{}).prototype)for(l in t){if(h=t[l],f=e.noTargetGet?(p=o(n,l))&&p.value:n[l],!u(g?l:d+(v?".":"#")+l,e.forced)&&void 0!==f){if(typeof h===typeof f)continue;s(h,f)}(e.sham||f&&f.sham)&&i(h,"sham",!0),a(n,l,h,e)}}},806:function(e,t,n){var r=n(720);e.exports=!r(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},807:function(e,t,n){var r=n(806),o=n(860),i=n(877);e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},859:function(e,t,n){var r=n(878),o=n(904);e.exports=function(e){return r(o(e))}},860:function(e,t,n){var r=n(806),o=n(905),i=n(906),a=n(879),c=Object.defineProperty;t.f=r?c:function(e,t,n){if(i(e),t=a(t,!0),i(n),o)try{return c(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},869:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0);function o(e){if(!r.isValidElement(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return r.cloneElement.apply(r,[e].concat(n))}},874:function(e,t,n){"use strict";n(56),n(887),n(624),n(623)},875:function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(4),a=n.n(i),c=n(1),s=n.n(c),u=n(15),l=n(28),f=n(153),h=n.n(f),p=n(83),d=n.n(p),g=n(209),v=n.n(g),m=n(5),y=n.n(m),b=n(10),x=n.n(b),w=n(9),O=n.n(w),S=n(12),E=n.n(S),_=n(85),P=n(65),C=n(159),M=n(26),k=n.n(M),A=n(205),j=n(888),T=n.n(j),N=n(890),I=n.n(N),D=n(3),L=n.n(D),B=n(207),R=n.n(B),F=n(891),Y=["-webkit-","-moz-","-o-","ms-",""];function X(e,t){return parseFloat(function(e,t){for(var n=window.getComputedStyle(e,null),r="",o=0;o<Y.length&&!(r=n.getPropertyValue(Y[o]+t));o++);return r}(e,t))}function G(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}var V=function(e,t){var n={animationend:G("Animation","AnimationEnd"),transitionend:G("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(F.canUseDOM,"undefined"!==typeof window?window:{}),H={};F.canUseDOM&&(H=document.createElement("div").style);var K={};function U(e){if(K[e])return K[e];var t=V[e];if(t)for(var n=Object.keys(t),r=n.length,o=0;o<r;o+=1){var i=n[o];if(Object.prototype.hasOwnProperty.call(t,i)&&i in H)return K[e]=t[i],K[e]}return""}var z=U("animationend"),W=U("transitionend"),q=!(!z||!W);function Z(e,t){var n={};return t.forEach(function(t){t in e&&(n[t]=e[t])}),n}function Q(e,t){return e?"object"===typeof e?e[t.replace(/-\w/g,function(e){return e[1].toUpperCase()})]:e+"-"+t:null}var $=["appeared","show","exclusive","children","animation"];var J=function(e){var t=function(t){function n(){x()(this,n);var t=O()(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.state={child:null,eventQueue:[],eventActive:!1},t.onDomUpdated=function(){var n=t.state.eventActive,r=t.props,o=r.transitionName,i=r.animation,a=r.onChildLeaved,c=r.animateKey,s=t.getDomElement();if(s){e&&t.$prevEle!==s&&(t.cleanDomEvent(),t.$prevEle=s,t.$prevEle.addEventListener(z,t.onMotionEnd),t.$prevEle.addEventListener(W,t.onMotionEnd));var u=t.getCurrentEvent();if(u.empty)"leave"===u.lastEventType&&a(c);else{var l=u.eventType,f=u.restQueue,h=R()(s);if(t.currentEvent&&t.currentEvent.type===l)m();else{if(clearTimeout(t.timeout),t.currentEvent&&t.currentEvent.animateObj&&t.currentEvent.animateObj.stop&&t.currentEvent.animateObj.stop(),t.currentEvent){var p=Q(o,""+t.currentEvent.type),g=Q(o,t.currentEvent.type+"-active");p&&h.remove(p),g&&h.remove(g)}t.currentEvent={type:l};var v=(i||{})[l];v?(t.currentEvent.animateObj=v(s,function(){t.onMotionEnd({target:s})}),t.currentEvent&&t.currentEvent.animateObj||t.nextEvent(f)):e?(m(),n||d()(function(){t.currentEvent&&t.currentEvent.type===l&&!t._destroy&&t.setState({eventActive:!0},function(){var e=X(s,"transition-delay")||0,n=X(s,"transition-duration")||0,r=X(s,"animation-delay")||0,o=X(s,"animation-duration")||0,i=Math.max(n+e,o+r);i>=0&&(t.timeout=setTimeout(function(){t.onMotionEnd({target:s})},1e3*i))})})):t.onMotionEnd({target:s})}}}function m(){if(e){var t=Q(o,""+l);if(t&&h.add(t),n){var r=Q(o,l+"-active");r&&h.add(r)}}}},t.onMotionEnd=function(n){var r=n.target,o=t.props,i=o.transitionName,a=o.onChildLeaved,c=o.animateKey,s=o.onAppear,u=o.onEnter,l=o.onLeave,f=o.onEnd,h=t.getCurrentEvent();if(!h.empty){clearTimeout(t.timeout);var p=h.restQueue,d=t.getDomElement();if(t.currentEvent&&d===r){if(t.currentEvent.animateObj&&t.currentEvent.animateObj.stop&&t.currentEvent.animateObj.stop(),e&&t.currentEvent){var g=Q(i,t.currentEvent.type),v=Q(i,t.currentEvent.type+"-active"),m=R()(d);g&&m.remove(g),v&&m.remove(v)}t.currentEvent&&"leave"===t.currentEvent.type&&a(c),t.currentEvent&&!p.length&&("appear"===t.currentEvent.type&&s?s(c):"enter"===t.currentEvent.type&&u?u(c):"leave"===t.currentEvent.type&&l&&l(c),f&&f(c,"leave"!==t.currentEvent.type)),t.currentEvent=null,t.nextEvent(p)}}},t.getDomElement=function(){return t._destroy?null:a.a.findDOMNode(t)},t.getCurrentEvent=function(){var e=t.state.eventQueue,n=void 0===e?[]:e,r=t.props,o=r.animation,i=r.exclusive,a=r.transitionAppear,c=r.transitionEnter,s=r.transitionLeave;function u(e){return"appear"===e&&(a||o.appear)||"enter"===e&&(c||o.enter)||"leave"===e&&(s||o.leave)}var l=null;if(i){var f=n[n.length-1];u(f)&&(l={eventType:f,restQueue:[]})}else for(var h=n.slice();h.length;){var p=h,d=I()(p),g=d[0],v=d.slice(1);if(u(g)){l={eventType:g,restQueue:v};break}h=v}return l||(l={empty:!0,lastEventType:n[n.length-1]}),l},t.nextEvent=function(e){t._destroy||t.setState({eventQueue:e,eventActive:!1})},t.cleanDomEvent=function(){t.$prevEle&&e&&(t.$prevEle.removeEventListener(z,t.onMotionEnd),t.$prevEle.removeEventListener(W,t.onMotionEnd))},t.$prevEle=null,t.currentEvent=null,t.timeout=null,t}return E()(n,t),k()(n,[{key:"componentDidMount",value:function(){this.onDomUpdated()}},{key:"componentDidUpdate",value:function(){this.onDomUpdated()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout),this._destroy=!0,this.cleanDomEvent()}},{key:"render",value:function(){var t=this.state,n=t.child,r=t.eventActive,i=this.props,a=i.showProp,c=i.transitionName,s=(n.props||{}).className,u=this.getCurrentEvent(),l=e&&this.currentEvent?L()(s,Q(c,this.currentEvent.type),r&&Q(c,this.currentEvent.type+"-active")):s,f=!0;f=!(!e||!(!u.empty||this.currentEvent&&this.currentEvent.animateObj))||n.props[a];var h={className:l};return a&&(h[a]=f),o.a.cloneElement(n,h)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=void 0===n?{}:n,o=e.appeared,i={prevProps:Z(e,$)};function a(t,n){return r[t]!==e[t]&&(n&&n(e[t]),!0)}function c(e){var n=i.eventQueue||t.eventQueue.slice(),r=n.indexOf(e);-1!==r&&(n=n.slice(0,r)),n.push(e),i.eventQueue=n}return a("children",function(e){i.child=e}),a("appeared",function(e){e&&c("appear")}),a("show",function(e){o||c(e?"enter":"leave")}),i}}]),n}(o.a.Component);return t.propTypes={transitionName:s.a.oneOfType([s.a.string,s.a.object]),transitionAppear:s.a.bool,transitionEnter:s.a.bool,transitionLeave:s.a.bool,exclusive:s.a.bool,appeared:s.a.bool,showProp:s.a.string,animateKey:s.a.any,animation:s.a.object,onChildLeaved:s.a.func,onEnd:s.a.func,onAppear:s.a.func,onEnter:s.a.func,onLeave:s.a.func},Object(u.polyfill)(t),t}(q),ee="rc_animate_"+Date.now(),te=["children"];var ne=function(e){var t=function(t){function n(){var e,t,r,o;x()(this,n);for(var i=arguments.length,a=Array(i),c=0;c<i;c++)a[c]=arguments[c];return t=r=O()(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(a))),r.state={appeared:!0,mergedChildren:[]},r.onChildLeaved=function(e){if(!r.hasChild(e)){var t=r.state.mergedChildren;r.setState({mergedChildren:t.filter(function(t){return t.key!==e})})}},r.hasChild=function(e){var t=r.props.children;return Object(A.a)(t).some(function(t){return t&&t.key===e})},o=t,O()(r,o)}return E()(n,t),k()(n,[{key:"componentDidMount",value:function(){this.state.appeared=!1}},{key:"render",value:function(){var t=this,n=this.state,r=n.appeared,i=n.mergedChildren,a=this.props,c=a.component,s=a.componentProps,u=a.className,l=a.style,f=a.showProp,h=i.map(function(n){if(i.length>1&&!n.key)return T()(!1,"must set key for <rc-animate> children"),null;var a=!0;t.hasChild(n.key)?f&&(a=n.props[f]):a=!1;var c=n.key||ee;return o.a.createElement(e,y()({},t.props,{appeared:r,show:a,className:n.props.className,style:n.props.style,key:c,animateKey:n.key,onChildLeaved:t.onChildLeaved}),n)});if(c){var p=this.props;return"string"===typeof c&&(p=y()({className:u,style:l},s)),o.a.createElement(c,p,h)}return h[0]||null}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,r,o=t.prevProps,i=void 0===o?{}:o,a={prevProps:Z(e,te)},c=e.showProp;return r=function(e){var n=Object(A.a)(e).filter(function(e){return e}),r=t.mergedChildren.filter(function(e){return!(n.every(function(t){return t.key!==e.key})&&c&&!e.props[c])});a.mergedChildren=function(e,t){var n=Object(A.a)(e),r=Object(A.a)(t);if(1===n.length&&1===r.length&&n[0].key===r[0].key)return r;var o=[],i={},a=[];return n.forEach(function(e){e&&r.some(function(t){return t.key===e.key})?a.length&&(i[e.key]=a,a=[]):a.push(e)}),r.forEach(function(e){e&&i[e.key]&&(o=o.concat(i[e.key])),o.push(e)}),o=o.concat(a)}(r,n)},i[n="children"]!==e[n]&&r(e[n]),a}}]),n}(o.a.Component);return t.isAnimate=!0,t.propTypes={component:s.a.any,componentProps:s.a.object,animation:s.a.object,transitionName:s.a.oneOfType([s.a.string,s.a.object]),transitionEnter:s.a.bool,transitionAppear:s.a.bool,exclusive:s.a.bool,transitionLeave:s.a.bool,onEnd:s.a.func,onEnter:s.a.func,onLeave:s.a.func,onAppear:s.a.func,showProp:s.a.string,children:s.a.node,style:s.a.object,className:s.a.string},t.defaultProps={animation:{},component:"span",componentProps:{},transitionEnter:!0,transitionLeave:!0,transitionAppear:!1},Object(u.polyfill)(t),t}(J),re=n(21),oe=n.n(re),ie="none",ae="appear",ce="enter",se="leave";!function(e){var t=function(t){function n(){x()(this,n);var t=O()(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.onDomUpdate=function(){var n=t.state,r=n.status,o=n.newStatus,i=t.props,c=i.onAppearStart,s=i.onEnterStart,u=i.onLeaveStart,l=i.onAppearActive,f=i.onEnterActive,h=i.onLeaveActive,p=i.motionAppear,d=i.motionEnter,g=i.motionLeave;if(e){var v=a.a.findDOMNode(t);t.$ele!==v&&(t.removeEventListener(t.$ele),t.addEventListener(v),t.$ele=v),o&&r===ae&&p?t.updateStatus(c,null,null,function(){t.updateActiveStatus(l,ae)}):o&&r===ce&&d?t.updateStatus(s,null,null,function(){t.updateActiveStatus(f,ce)}):o&&r===se&&g&&t.updateStatus(u,null,null,function(){t.updateActiveStatus(h,se)})}},t.onMotionEnd=function(e){var n=t.state,r=n.status,o=n.statusActive,i=t.props,a=i.onAppearEnd,c=i.onEnterEnd,s=i.onLeaveEnd;r===ae&&o?t.updateStatus(a,{status:ie},e):r===ce&&o?t.updateStatus(c,{status:ie},e):r===se&&o&&t.updateStatus(s,{status:ie},e)},t.addEventListener=function(e){e&&(e.addEventListener(W,t.onMotionEnd),e.addEventListener(z,t.onMotionEnd))},t.removeEventListener=function(e){e&&(e.removeEventListener(W,t.onMotionEnd),e.removeEventListener(z,t.onMotionEnd))},t.updateStatus=function(e,n,r,o){var i=e?e(a.a.findDOMNode(t),r):null;if(!1!==i&&!t._destroyed){var c=void 0;o&&(c=function(){t.nextFrame(o)}),t.setState(y()({statusStyle:"object"===typeof i?i:null,newStatus:!1},n),c)}},t.updateActiveStatus=function(e,n){t.nextFrame(function(){t.state.status===n&&t.updateStatus(e,{statusActive:!0})})},t.nextFrame=function(e){t.cancelNextFrame(),t.raf=d()(e)},t.cancelNextFrame=function(){t.raf&&(d.a.cancel(t.raf),t.raf=null)},t.state={status:ie,statusActive:!1,newStatus:!1,statusStyle:null},t.$ele=null,t.raf=null,t}return E()(n,t),k()(n,[{key:"componentDidMount",value:function(){this.onDomUpdate()}},{key:"componentDidUpdate",value:function(){this.onDomUpdate()}},{key:"componentWillUnmount",value:function(){this._destroyed=!0,this.removeEventListener(this.$ele),this.cancelNextFrame()}},{key:"render",value:function(){var t,n=this.state,r=n.status,o=n.statusActive,i=n.statusStyle,a=this.props,c=a.children,s=a.motionName,u=a.visible;return c?r!==ie&&e?c({className:L()((t={},oe()(t,Q(s,r),r!==ie),oe()(t,Q(s,r+"-active"),r!==ie&&o),oe()(t,s,"string"===typeof s),t)),style:i}):u?c({}):null:null}}],[{key:"getDerivedStateFromProps",value:function(t,n){var r=n.prevProps;if(!e)return{};var o=t.visible,i=t.motionAppear,a=t.motionEnter,c=t.motionLeave,s=t.motionLeaveImmediately,u={prevProps:t};return!r&&o&&i&&(u.status=ae,u.statusActive=!1,u.newStatus=!0),r&&!r.visible&&o&&a&&(u.status=ce,u.statusActive=!1,u.newStatus=!0),(r&&r.visible&&!o&&c||!r&&s&&!o&&c)&&(u.status=se,u.statusActive=!1,u.newStatus=!0),u}}]),n}(o.a.Component);t.propTypes={visible:s.a.bool,children:s.a.func,motionName:s.a.oneOfType([s.a.string,s.a.object]),motionAppear:s.a.bool,motionEnter:s.a.bool,motionLeave:s.a.bool,motionLeaveImmediately:s.a.bool,onAppearStart:s.a.func,onAppearActive:s.a.func,onAppearEnd:s.a.func,onEnterStart:s.a.func,onEnterActive:s.a.func,onEnterEnd:s.a.func,onLeaveStart:s.a.func,onLeaveActive:s.a.func,onLeaveEnd:s.a.func},t.defaultProps={visible:!0,motionEnter:!0,motionAppear:!0,motionLeave:!0},Object(u.polyfill)(t)}(q);var ue=ne,le=n(71),fe=n.n(le),he=function(e){function t(){return x()(this,t),O()(this,e.apply(this,arguments))}return E()(t,e),t.prototype.shouldComponentUpdate=function(e){return e.hiddenClassName||e.visible},t.prototype.render=function(){var e=this.props,t=e.hiddenClassName,n=e.visible,r=fe()(e,["hiddenClassName","visible"]);return t||o.a.Children.count(r.children)>1?(!n&&t&&(r.className+=" "+t),o.a.createElement("div",r)):o.a.Children.only(r.children)},t}(r.Component);he.propTypes={children:s.a.any,className:s.a.string,visible:s.a.bool,hiddenClassName:s.a.string};var pe=he,de=function(e){function t(){return x()(this,t),O()(this,e.apply(this,arguments))}return E()(t,e),t.prototype.render=function(){var e=this.props,t=e.className;return e.visible||(t+=" "+e.hiddenClassName),o.a.createElement("div",{className:t,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,style:e.style},o.a.createElement(pe,{className:e.prefixCls+"-content",visible:e.visible},e.children))},t}(r.Component);de.propTypes={hiddenClassName:s.a.string,className:s.a.string,prefixCls:s.a.string,onMouseEnter:s.a.func,onMouseLeave:s.a.func,children:s.a.any};var ge=de;function ve(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function me(e,t){this[e]=t}var ye=function(e){function t(n){x()(this,t);var r=O()(this,e.call(this,n));return be.call(r),r.state={stretchChecked:!1,targetWidth:void 0,targetHeight:void 0},r.savePopupRef=me.bind(r,"popupInstance"),r.saveAlignRef=me.bind(r,"alignInstance"),r}return E()(t,e),t.prototype.componentDidMount=function(){this.rootNode=this.getPopupDomNode(),this.setStretchSize()},t.prototype.componentDidUpdate=function(){this.setStretchSize()},t.prototype.getPopupDomNode=function(){return a.a.findDOMNode(this.popupInstance)},t.prototype.getMaskTransitionName=function(){var e=this.props,t=e.maskTransitionName,n=e.maskAnimation;return!t&&n&&(t=e.prefixCls+"-"+n),t},t.prototype.getTransitionName=function(){var e=this.props,t=e.transitionName;return!t&&e.animation&&(t=e.prefixCls+"-"+e.animation),t},t.prototype.getClassName=function(e){return this.props.prefixCls+" "+this.props.className+" "+e},t.prototype.getPopupElement=function(){var e=this,t=this.savePopupRef,n=this.state,r=n.stretchChecked,i=n.targetHeight,a=n.targetWidth,c=this.props,s=c.align,u=c.visible,l=c.prefixCls,f=c.style,h=c.getClassNameFromAlign,p=c.destroyPopupOnHide,g=c.stretch,v=c.children,m=c.onMouseEnter,b=c.onMouseLeave,x=this.getClassName(this.currentAlignClassName||h(s)),w=l+"-hidden";u||(this.currentAlignClassName=null);var O={};g&&(-1!==g.indexOf("height")?O.height=i:-1!==g.indexOf("minHeight")&&(O.minHeight=i),-1!==g.indexOf("width")?O.width=a:-1!==g.indexOf("minWidth")&&(O.minWidth=a),r||(O.visibility="hidden",d()(function(){e.alignInstance&&e.alignInstance.forceAlign()})));var S={className:x,prefixCls:l,ref:t,onMouseEnter:m,onMouseLeave:b,style:y()({},O,f,this.getZIndexStyle())};return p?o.a.createElement(ue,{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName(),onLeave:this.onAnimateLeaved},u?o.a.createElement(C.a,{target:this.getAlignTarget(),key:"popup",ref:this.saveAlignRef,monitorWindowResize:!0,align:s,onAlign:this.onAlign},o.a.createElement(ge,y()({visible:!0},S),v)):null):o.a.createElement(ue,{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName(),showProp:"xVisible",onLeave:this.onAnimateLeaved},o.a.createElement(C.a,{target:this.getAlignTarget(),key:"popup",ref:this.saveAlignRef,monitorWindowResize:!0,xVisible:u,childrenProps:{visible:"xVisible"},disabled:!u,align:s,onAlign:this.onAlign},o.a.createElement(ge,y()({hiddenClassName:w},S),v)))},t.prototype.getZIndexStyle=function(){var e={},t=this.props;return void 0!==t.zIndex&&(e.zIndex=t.zIndex),e},t.prototype.getMaskElement=function(){var e=this.props,t=void 0;if(e.mask){var n=this.getMaskTransitionName();t=o.a.createElement(pe,{style:this.getZIndexStyle(),key:"mask",className:e.prefixCls+"-mask",hiddenClassName:e.prefixCls+"-mask-hidden",visible:e.visible}),n&&(t=o.a.createElement(ue,{key:"mask",showProp:"visible",transitionAppear:!0,component:"",transitionName:n},t))}return t},t.prototype.render=function(){return o.a.createElement("div",null,this.getMaskElement(),this.getPopupElement())},t}(r.Component);ye.propTypes={visible:s.a.bool,style:s.a.object,getClassNameFromAlign:s.a.func,onAlign:s.a.func,getRootDomNode:s.a.func,onMouseEnter:s.a.func,align:s.a.any,destroyPopupOnHide:s.a.bool,className:s.a.string,prefixCls:s.a.string,onMouseLeave:s.a.func,stretch:s.a.string,children:s.a.node,point:s.a.shape({pageX:s.a.number,pageY:s.a.number})};var be=function(){var e=this;this.onAlign=function(t,n){var r=e.props,o=r.getClassNameFromAlign(n);e.currentAlignClassName!==o&&(e.currentAlignClassName=o,t.className=e.getClassName(o)),r.onAlign(t,n)},this.onAnimateLeaved=function(){var t=e.props.stretch,n=e.state.stretchChecked;t&&n&&e.setState({stretchChecked:!1})},this.setStretchSize=function(){var t=e.props.getRootDomNode,n=e.state,r=n.stretchChecked,o=n.targetHeight,i=n.targetWidth,a=t();if(a){var c=a.offsetHeight,s=a.offsetWidth;o===c&&i===s&&r||e.setState({stretchChecked:!0,targetHeight:c,targetWidth:s})}},this.getTargetElement=function(){return e.props.getRootDomNode()},this.getAlignTarget=function(){var t=e.props.point;return t||e.getTargetElement}},xe=ye,we=n(131),Oe=n(132),Se=n(211);function Ee(){}var _e=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"],Pe=!!i.createPortal,Ce=function(e){function t(n){x()(this,t);var r=O()(this,e.call(this,n));Me.call(r);var o=void 0;return o="popupVisible"in n?!!n.popupVisible:!!n.defaultPopupVisible,r.prevPopupVisible=o,r.state={popupVisible:o},_e.forEach(function(e){r["fire"+e]=function(t){r.fireEvents(e,t)}}),r}return E()(t,e),t.prototype.componentDidMount=function(){this.componentDidUpdate({},{popupVisible:this.state.popupVisible})},t.prototype.componentWillReceiveProps=function(e){var t=e.popupVisible;void 0!==t&&this.setState({popupVisible:t})},t.prototype.componentDidUpdate=function(e,t){var n=this.props,r=this.state;if(Pe||this.renderComponent(null,function(){t.popupVisible!==r.popupVisible&&n.afterPopupVisibleChange(r.popupVisible)}),this.prevPopupVisible=t.popupVisible,r.popupVisible){var o=void 0;return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(o=n.getDocument(),this.clickOutsideHandler=Object(P.a)(o,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(o=o||n.getDocument(),this.touchOutsideHandler=Object(P.a)(o,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(o=o||n.getDocument(),this.contextMenuOutsideHandler1=Object(P.a)(o,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Object(P.a)(window,"blur",this.onContextMenuClose)))}this.clearOutsideHandler()},t.prototype.componentWillUnmount=function(){this.clearDelayTimer(),this.clearOutsideHandler()},t.prototype.getPopupDomNode=function(){return this._component&&this._component.getPopupDomNode?this._component.getPopupDomNode():null},t.prototype.getPopupAlign=function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){var r=e[t]||{};return y()({},r,n)}(r,t,n):n},t.prototype.setPopupVisible=function(e,t){var n=this.props.alignPoint;this.clearDelayTimer(),this.state.popupVisible!==e&&("popupVisible"in this.props||this.setState({popupVisible:e}),this.props.onPopupVisibleChange(e)),n&&t&&this.setPoint(t)},t.prototype.delaySetPopupVisible=function(e,t,n){var r=this,o=1e3*t;if(this.clearDelayTimer(),o){var i=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=setTimeout(function(){r.setPopupVisible(e,i),r.clearDelayTimer()},o)}else this.setPopupVisible(e,n)},t.prototype.clearDelayTimer=function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},t.prototype.clearOutsideHandler=function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)},t.prototype.createTwoChains=function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire"+e]:t[e]||n[e]},t.prototype.isClickToShow=function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")},t.prototype.isContextMenuToShow=function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")},t.prototype.isClickToHide=function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")},t.prototype.isMouseEnterToShow=function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")},t.prototype.isMouseLeaveToHide=function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")},t.prototype.isFocusToShow=function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")},t.prototype.isBlurToHide=function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")},t.prototype.forcePopupAlign=function(){this.state.popupVisible&&this._component&&this._component.alignInstance&&this._component.alignInstance.forceAlign()},t.prototype.fireEvents=function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)},t.prototype.close=function(){this.setPopupVisible(!1)},t.prototype.render=function(){var e=this,t=this.state.popupVisible,n=this.props,r=n.children,i=n.forceRender,a=n.alignPoint,c=n.className,s=o.a.Children.only(r),u={key:"trigger"};this.isContextMenuToShow()?u.onContextMenu=this.onContextMenu:u.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(u.onClick=this.onClick,u.onMouseDown=this.onMouseDown,u.onTouchStart=this.onTouchStart):(u.onClick=this.createTwoChains("onClick"),u.onMouseDown=this.createTwoChains("onMouseDown"),u.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(u.onMouseEnter=this.onMouseEnter,a&&(u.onMouseMove=this.onMouseMove)):u.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?u.onMouseLeave=this.onMouseLeave:u.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(u.onFocus=this.onFocus,u.onBlur=this.onBlur):(u.onFocus=this.createTwoChains("onFocus"),u.onBlur=this.createTwoChains("onBlur"));var l=L()(s&&s.props&&s.props.className,c);l&&(u.className=l);var f=o.a.cloneElement(s,u);if(!Pe)return o.a.createElement(we.a,{parent:this,visible:t,autoMount:!1,forceRender:i,getComponent:this.getComponent,getContainer:this.getContainer},function(t){var n=t.renderComponent;return e.renderComponent=n,f});var h=void 0;return(t||this._component||i)&&(h=o.a.createElement(Oe.a,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),[f,h]},t}(o.a.Component);Ce.propTypes={children:s.a.any,action:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)]),showAction:s.a.any,hideAction:s.a.any,getPopupClassNameFromAlign:s.a.any,onPopupVisibleChange:s.a.func,afterPopupVisibleChange:s.a.func,popup:s.a.oneOfType([s.a.node,s.a.func]).isRequired,popupStyle:s.a.object,prefixCls:s.a.string,popupClassName:s.a.string,className:s.a.string,popupPlacement:s.a.string,builtinPlacements:s.a.object,popupTransitionName:s.a.oneOfType([s.a.string,s.a.object]),popupAnimation:s.a.any,mouseEnterDelay:s.a.number,mouseLeaveDelay:s.a.number,zIndex:s.a.number,focusDelay:s.a.number,blurDelay:s.a.number,getPopupContainer:s.a.func,getDocument:s.a.func,forceRender:s.a.bool,destroyPopupOnHide:s.a.bool,mask:s.a.bool,maskClosable:s.a.bool,onPopupAlign:s.a.func,popupAlign:s.a.object,popupVisible:s.a.bool,defaultPopupVisible:s.a.bool,maskTransitionName:s.a.oneOfType([s.a.string,s.a.object]),maskAnimation:s.a.string,stretch:s.a.string,alignPoint:s.a.bool},Ce.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:function(){return""},getDocument:function(){return window.document},onPopupVisibleChange:Ee,afterPopupVisibleChange:Ee,onPopupAlign:Ee,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[]};var Me=function(){var e=this;this.onMouseEnter=function(t){var n=e.props.mouseEnterDelay;e.fireEvents("onMouseEnter",t),e.delaySetPopupVisible(!0,n,n?null:t)},this.onMouseMove=function(t){e.fireEvents("onMouseMove",t),e.setPoint(t)},this.onMouseLeave=function(t){e.fireEvents("onMouseLeave",t),e.delaySetPopupVisible(!1,e.props.mouseLeaveDelay)},this.onPopupMouseEnter=function(){e.clearDelayTimer()},this.onPopupMouseLeave=function(t){t.relatedTarget&&!t.relatedTarget.setTimeout&&e._component&&e._component.getPopupDomNode&&Object(_.a)(e._component.getPopupDomNode(),t.relatedTarget)||e.delaySetPopupVisible(!1,e.props.mouseLeaveDelay)},this.onFocus=function(t){e.fireEvents("onFocus",t),e.clearDelayTimer(),e.isFocusToShow()&&(e.focusTime=Date.now(),e.delaySetPopupVisible(!0,e.props.focusDelay))},this.onMouseDown=function(t){e.fireEvents("onMouseDown",t),e.preClickTime=Date.now()},this.onTouchStart=function(t){e.fireEvents("onTouchStart",t),e.preTouchTime=Date.now()},this.onBlur=function(t){e.fireEvents("onBlur",t),e.clearDelayTimer(),e.isBlurToHide()&&e.delaySetPopupVisible(!1,e.props.blurDelay)},this.onContextMenu=function(t){t.preventDefault(),e.fireEvents("onContextMenu",t),e.setPopupVisible(!0,t)},this.onContextMenuClose=function(){e.isContextMenuToShow()&&e.close()},this.onClick=function(t){if(e.fireEvents("onClick",t),e.focusTime){var n=void 0;if(e.preClickTime&&e.preTouchTime?n=Math.min(e.preClickTime,e.preTouchTime):e.preClickTime?n=e.preClickTime:e.preTouchTime&&(n=e.preTouchTime),Math.abs(n-e.focusTime)<20)return;e.focusTime=0}e.preClickTime=0,e.preTouchTime=0,t&&t.preventDefault&&t.preventDefault();var r=!e.state.popupVisible;(e.isClickToHide()&&!r||r&&e.isClickToShow())&&e.setPopupVisible(!e.state.popupVisible,t)},this.onDocumentClick=function(t){if(!e.props.mask||e.props.maskClosable){var n=t.target,r=Object(i.findDOMNode)(e),o=e.getPopupDomNode();Object(_.a)(r,n)||Object(_.a)(o,n)||e.close()}},this.getRootDomNode=function(){return Object(i.findDOMNode)(e)},this.getPopupClassNameFromAlign=function(t){var n=[],r=e.props,o=r.popupPlacement,i=r.builtinPlacements,a=r.prefixCls,c=r.alignPoint,s=r.getPopupClassNameFromAlign;return o&&i&&n.push(function(e,t,n,r){var o=n.points;for(var i in e)if(e.hasOwnProperty(i)&&ve(e[i].points,o,r))return t+"-placement-"+i;return""}(i,a,t,c)),s&&n.push(s(t)),n.join(" ")},this.getComponent=function(){var t=e.props,n=t.prefixCls,r=t.destroyPopupOnHide,i=t.popupClassName,a=t.action,c=t.onPopupAlign,s=t.popupAnimation,u=t.popupTransitionName,l=t.popupStyle,f=t.mask,h=t.maskAnimation,p=t.maskTransitionName,d=t.zIndex,g=t.popup,v=t.stretch,m=t.alignPoint,b=e.state,x=b.popupVisible,w=b.point,O=e.getPopupAlign(),S={};return e.isMouseEnterToShow()&&(S.onMouseEnter=e.onPopupMouseEnter),e.isMouseLeaveToHide()&&(S.onMouseLeave=e.onPopupMouseLeave),o.a.createElement(xe,y()({prefixCls:n,destroyPopupOnHide:r,visible:x,point:m&&w,className:i,action:a,align:O,onAlign:c,animation:s,getClassNameFromAlign:e.getPopupClassNameFromAlign},S,{stretch:v,getRootDomNode:e.getRootDomNode,style:l,mask:f,zIndex:d,transitionName:u,maskAnimation:h,maskTransitionName:p,ref:e.savePopup}),"function"===typeof g?g():g)},this.getContainer=function(){var t=e.props,n=document.createElement("div");return n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.width="100%",(t.getPopupContainer?t.getPopupContainer(Object(i.findDOMNode)(e)):t.getDocument().body).appendChild(n),n},this.setPoint=function(t){e.props.alignPoint&&t&&e.setState({point:{pageX:t.pageX,pageY:t.pageY}})},this.handlePortalUpdate=function(){e.prevPopupVisible!==e.state.popupVisible&&e.props.afterPopupVisibleChange(e.state.popupVisible)},this.savePopup=function(t){e._component=t}},ke=Object(Se.a)(Ce),Ae=n(294),je=n.n(Ae),Te=n(656);function Ne(e,t){if(e.classList)return e.classList.contains(t);var n=e.className;return" ".concat(n," ").indexOf(" ".concat(t," "))>-1}var Ie="SHOW_PARENT",De="SHOW_CHILD";function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach(function(t){Fe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ye=!1;function Xe(e){return"string"===typeof e?e:null}function Ge(){var e=function(t){e.current=t};return e}var Ve={userSelect:"none",WebkitUserSelect:"none"},He={unselectable:"unselectable"};function Ke(e){if(!e.length)return[];var t={},n={},r=e.slice().map(function(e){var t=Re({},e,{fields:e.pos.split("-")});return delete t.children,t});return r.forEach(function(e){n[e.pos]=e}),r.sort(function(e,t){return e.fields.length-t.fields.length}),r.forEach(function(e){var r=e.fields.slice(0,-1).join("-"),o=n[r];o?(o.children=o.children||[],o.children.push(e)):t[e.pos]=e,delete e.key,delete e.fields}),Object.keys(t).map(function(e){return t[e]})}var Ue=0;function ze(e){var t=e.treeCheckable,n=e.treeCheckStrictly,r=e.labelInValue;return!(!t||!n)||(r||!1)}function We(e){var t=e.node,n=e.pos,r=e.children,o={node:t,pos:n};return r&&(o.children=r.map(We)),o}function qe(e,t,n,r,i){if(!t)return null;return e.map(function e(a){if(!a)return null;var c=!1;n(t,a)&&(c=!0);var s=Object(A.a)(a.props.children).map(e).filter(function(e){return e});return s.length||c?o.a.createElement(i,Le({},a.props,{key:r[a.props.value].key}),s):null}).filter(function(e){return e})}function Ze(e,t){var n,r=void 0===(n=e)||null===n?[]:Array.isArray(n)?n:[n];return ze(t)?r.map(function(e){return"object"===typeof e&&e?e:{value:"",label:""}}):r.map(function(e){return{value:e}})}function Qe(e,t,n){return e.label?e.label:t&&t.node.props?t.node.props[n]:e.value}function $e(e,t,n){var r=t.treeNodeLabelProp,o=t.treeCheckable,i=t.treeCheckStrictly,a=t.showCheckedStrategy;if(o&&!i){var c={};e.forEach(function(e){c[e.value]=e});var s=Ke(e.map(function(e){var t=e.value;return n[t]}));if(a===Ie)return s.map(function(e){var t=e.node.props.value;return{label:Qe(c[t],n[t],r),value:t}});if(a===De){var u=[];return s.forEach(function(e){!function e(t){var o=t.node.props.value,i=t.children;i&&0!==i.length?i.forEach(function(t){e(t)}):u.push({label:Qe(c[o],n[o],r),value:o})}(e)}),u}}return e.map(function(e){return{label:Qe(e,n[e.value],r),value:e.value}})}function Je(e){var t=e.title,n=e.label,r=e.key,o=e.value,i=Re({},e);return n&&!t&&(Ye||(je()(!1,"'label' in treeData is deprecated. Please use 'title' instead."),Ye=!0),i.title=n),r||(i.key=o),i}function et(e){return Object(Te.g)(e,{processProps:Je})}function tt(e){return Re({},e,{valueEntities:{}})}function nt(e,t){var n=e.node.props.value;e.value=n;var r=t.valueEntities[n];r&&je()(!1,"Conflict! value of node '".concat(e.key,"' (").concat(n,") has already used by node '").concat(r.key,"'.")),t.valueEntities[n]=e}function rt(e,t){var n={};return e.forEach(function(e){var t=e.value;n[t]=!1}),e.forEach(function(e){for(var r=e.value,o=t[r];o&&o.parent;){var i=o.parent.value;if(i in n)break;n[i]=!0,o=o.parent}}),Object.keys(n).filter(function(e){return n[e]}).map(function(e){return t[e].key})}var ot=Te.e;function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function at(e){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ct(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lt={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:0,adjustY:1},ignoreShake:!0},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1},ignoreShake:!0}},ft=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=at(t).call(this),e=!r||"object"!==typeof r&&"function"!==typeof r?ct(n):r,ut(ct(e),"getDropdownTransitionName",function(){var t=e.props,n=t.transitionName,r=t.animation,o=t.dropdownPrefixCls;return!n&&r?"".concat(o,"-").concat(r):n}),ut(ct(e),"forcePopupAlign",function(){var t=e.triggerRef.current;t&&t.forcePopupAlign()}),e.triggerRef=Ge(),e}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e,t,n=this.props,r=n.disabled,i=n.isMultiple,a=n.dropdownPopupAlign,c=n.dropdownMatchSelectWidth,s=n.dropdownClassName,u=n.dropdownStyle,l=n.onDropdownVisibleChange,f=n.getPopupContainer,h=n.dropdownPrefixCls,p=n.popupElement,d=n.open,g=n.children;return!1!==c&&(t=c?"width":"minWidth"),o.a.createElement(ke,{ref:this.triggerRef,action:r?[]:["click"],popupPlacement:"bottomLeft",builtinPlacements:lt,popupAlign:a,prefixCls:h,popupTransitionName:this.getDropdownTransitionName(),onPopupVisibleChange:l,popup:p,popupVisible:d,getPopupContainer:f,stretch:t,popupClassName:L()(s,(e={},ut(e,"".concat(h,"--multiple"),i),ut(e,"".concat(h,"--single"),!i),e)),popupStyle:u},g)}}])&&it(n.prototype,r),i&&it(n,i),t}();ut(ft,"propTypes",{disabled:s.a.bool,showSearch:s.a.bool,prefixCls:s.a.string,dropdownPopupAlign:s.a.object,dropdownClassName:s.a.string,dropdownStyle:s.a.object,transitionName:s.a.string,animation:s.a.string,getPopupContainer:s.a.func,children:s.a.node,dropdownMatchSelectWidth:s.a.bool,isMultiple:s.a.bool,dropdownPrefixCls:s.a.string,onDropdownVisibleChange:s.a.func,popupElement:s.a.node,open:s.a.bool}),Object(u.polyfill)(ft);var ht=ft;function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach(function(t){bt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vt(e){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xt={prefixCls:s.a.string,className:s.a.string,style:s.a.object,open:s.a.bool,selectorValueList:s.a.array,allowClear:s.a.bool,showArrow:s.a.bool,onClick:s.a.func,onBlur:s.a.func,onFocus:s.a.func,removeSelected:s.a.func,ariaId:s.a.string,inputIcon:s.a.oneOfType([s.a.node,s.a.func]),clearIcon:s.a.oneOfType([s.a.node,s.a.func])},wt={onSelectorFocus:s.a.func.isRequired,onSelectorBlur:s.a.func.isRequired,onSelectorKeyDown:s.a.func.isRequired,onSelectorClear:s.a.func.isRequired},Ot=function(e){var t=function(t){function n(){var e,t,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t=this,r=vt(n).call(this),e=!r||"object"!==typeof r&&"function"!==typeof r?mt(t):r,bt(mt(e),"onFocus",function(){var t=e.props,n=t.onFocus,r=t.focused,o=e.context.rcTreeSelect.onSelectorFocus;r||o(),n&&n.apply(void 0,arguments)}),bt(mt(e),"onBlur",function(){var t=e.props.onBlur;(0,e.context.rcTreeSelect.onSelectorBlur)(),t&&t.apply(void 0,arguments)}),bt(mt(e),"focus",function(){e.domRef.current.focus()}),bt(mt(e),"blur",function(){e.domRef.current.focus()}),e.domRef=Ge(),e}var r,i,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}(n,o.a.Component),r=n,(i=[{key:"renderClear",value:function(){var e=this.props,t=e.prefixCls,n=e.allowClear,r=e.selectorValueList,i=e.clearIcon,a=this.context.rcTreeSelect.onSelectorClear;return n&&r.length&&r[0].value?o.a.createElement("span",{key:"clear",className:"".concat(t,"-selection__clear"),onClick:a},"function"===typeof i?o.a.createElement(i,dt({},this.props)):i):null}},{key:"renderArrow",value:function(){var e=this.props,t=e.prefixCls,n=e.showArrow,r=e.inputIcon;return n?o.a.createElement("span",{key:"arrow",className:"".concat(t,"-arrow"),style:{outline:"none"}},"function"===typeof r?o.a.createElement(r,dt({},this.props)):r):null}},{key:"render",value:function(){var t,n=this.props,r=n.prefixCls,i=n.className,a=n.style,c=n.open,s=n.focused,u=n.disabled,l=n.allowClear,f=n.onClick,h=n.ariaId,p=n.renderSelection,d=n.renderPlaceholder,g=n.tabIndex,v=this.context.rcTreeSelect.onSelectorKeyDown,m=g;return u&&(m=null),o.a.createElement("span",{style:a,onClick:f,className:L()(i,r,(t={},bt(t,"".concat(r,"-open"),c),bt(t,"".concat(r,"-focused"),c||s),bt(t,"".concat(r,"-disabled"),u),bt(t,"".concat(r,"-enabled"),!u),bt(t,"".concat(r,"-allow-clear"),l),t)),ref:this.domRef,role:"combobox","aria-expanded":c,"aria-owns":c?h:void 0,"aria-controls":c?h:void 0,"aria-haspopup":"listbox","aria-disabled":u,tabIndex:m,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:v},o.a.createElement("span",{key:"selection",className:L()("".concat(r,"-selection"),"".concat(r,"-selection--").concat(e))},p(),this.renderClear(),this.renderArrow(),d&&d()))}}])&&gt(r.prototype,i),a&&gt(r,a),n}();return bt(t,"propTypes",dt({},xt,{renderSelection:s.a.func.isRequired,renderPlaceholder:s.a.func,tabIndex:s.a.number})),bt(t,"contextTypes",{rcTreeSelect:s.a.shape(dt({},wt))}),bt(t,"defaultProps",{tabIndex:0}),Object(u.polyfill)(t),t},St=n(748);function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _t(){return(_t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ct(e){return(Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kt(e,t){return(kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function At(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jt={onPopupKeyDown:s.a.func.isRequired,onTreeNodeSelect:s.a.func.isRequired,onTreeNodeCheck:s.a.func.isRequired},Tt=function(e){function t(e){var n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,i=Ct(t).call(this),n=!i||"object"!==typeof i&&"function"!==typeof i?Mt(r):i,At(Mt(n),"onTreeExpand",function(e){var t=n.props,r=t.treeExpandedKeys,o=t.onTreeExpand,i=t.onTreeExpanded;r||n.setState({expandedKeyList:e},i),o&&o(e)}),At(Mt(n),"onLoad",function(e){n.setState({loadedKeys:e})}),At(Mt(n),"getTree",function(){return n.treeRef.current}),At(Mt(n),"getLoadData",function(){var e=n.props,t=e.loadData;return e.upperSearchValue?null:t}),At(Mt(n),"filterTreeNode",function(e){var t=n.props,r=t.upperSearchValue,o=t.treeNodeFilterProp,i=e.props[o];return"string"===typeof i&&(r&&-1!==i.toUpperCase().indexOf(r))}),At(Mt(n),"renderNotFound",function(){var e=n.props,t=e.prefixCls,r=e.notFoundContent;return o.a.createElement("span",{className:"".concat(t,"-not-found")},r)});var a=e.treeDefaultExpandAll,c=e.treeDefaultExpandedKeys,s=e.keyEntities,u=c;return a&&(u=Object.keys(s)),n.state={keyList:[],expandedKeyList:u,cachedExpandedKeyList:[],loadedKeys:[]},n.treeRef=Ge(),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kt(e,t)}(t,o.a.Component),n=t,i=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t||{},r=n.prevProps,o=void 0===r?{}:r,i=n.loadedKeys,a=n.expandedKeyList,c=n.cachedExpandedKeyList,s=e.valueList,u=e.valueEntities,l=e.keyEntities,f=e.treeExpandedKeys,h=e.filteredTreeNodes,p=e.upperSearchValue,d={prevProps:e};return s!==o.valueList&&(d.keyList=s.map(function(e){var t=e.value;return u[t]}).filter(function(e){return e}).map(function(e){return e.key})),!f&&h&&h.length&&h!==o.filteredTreeNodes&&(d.expandedKeyList=Object.keys(l)),p&&!o.upperSearchValue?d.cachedExpandedKeyList=a:p||!o.upperSearchValue||f||(d.expandedKeyList=c||[],d.cachedExpandedKeyList=[]),o.treeExpandedKeys!==f&&(d.expandedKeyList=f),e.loadData&&(d.loadedKeys=i.filter(function(e){return e in l})),d}}],(r=[{key:"render",value:function(){var e,t,n,r=this.state,i=r.keyList,a=r.expandedKeyList,c=r.loadedKeys,s=this.props,u=s.prefixCls,l=s.treeNodes,f=s.filteredTreeNodes,h=s.treeIcon,p=s.treeLine,d=s.treeCheckable,g=s.treeCheckStrictly,v=s.multiple,m=s.ariaId,y=s.renderSearch,b=s.switcherIcon,x=s.searchHalfCheckedKeys,w=this.context.rcTreeSelect,O=w.onPopupKeyDown,S=w.onTreeNodeSelect,E=w.onTreeNodeCheck,_=this.getLoadData(),P={};return d?P.checkedKeys=i:P.selectedKeys=i,f?f.length?(P.checkStrictly=!0,t=f,d&&!g&&(P.checkedKeys={checked:i,halfChecked:x})):e=this.renderNotFound():l&&l.length?t=l:e=this.renderNotFound(),n=e||o.a.createElement(St.b,_t({ref:this.treeRef,prefixCls:"".concat(u,"-tree"),showIcon:h,showLine:p,selectable:!d,checkable:d,checkStrictly:g,multiple:v,loadData:_,loadedKeys:c,expandedKeys:a,filterTreeNode:this.filterTreeNode,onSelect:S,onCheck:E,onExpand:this.onTreeExpand,onLoad:this.onLoad,switcherIcon:b},P),t),o.a.createElement("div",{role:"listbox",id:m,onKeyDown:O,tabIndex:-1},y?y():null,n)}}])&&Pt(n.prototype,r),i&&Pt(n,i),t}();At(Tt,"propTypes",{prefixCls:s.a.string,upperSearchValue:s.a.string,valueList:s.a.array,searchHalfCheckedKeys:s.a.array,valueEntities:s.a.object,keyEntities:s.a.object,treeIcon:s.a.bool,treeLine:s.a.bool,treeNodeFilterProp:s.a.string,treeCheckable:s.a.oneOfType([s.a.bool,s.a.node]),treeCheckStrictly:s.a.bool,treeDefaultExpandAll:s.a.bool,treeDefaultExpandedKeys:s.a.array,treeExpandedKeys:s.a.array,loadData:s.a.func,multiple:s.a.bool,onTreeExpand:s.a.func,treeNodes:s.a.node,filteredTreeNodes:s.a.node,notFoundContent:s.a.node,ariaId:s.a.string,switcherIcon:s.a.oneOfType([s.a.node,s.a.func]),renderSearch:s.a.func,onTreeExpanded:s.a.func}),At(Tt,"contextTypes",{rcTreeSelect:s.a.shape(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach(function(t){At(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},jt))}),Object(u.polyfill)(Tt);var Nt=Tt;function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Dt(){return(Dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bt(e){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ft(e,t){return(Ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xt=Ot("single"),Gt=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=Bt(t).call(this),e=!r||"object"!==typeof r&&"function"!==typeof r?Rt(n):r,Yt(Rt(e),"focus",function(){e.selectorRef.current.focus()}),Yt(Rt(e),"blur",function(){e.selectorRef.current.blur()}),Yt(Rt(e),"renderSelection",function(){var t,n=e.props,r=n.selectorValueList,i=n.placeholder,a=n.prefixCls;if(r.length){var c=r[0],s=c.label,u=c.value;t=o.a.createElement("span",{key:"value",title:Xe(s),className:"".concat(a,"-selection-selected-value")},s||u)}else t=o.a.createElement("span",{key:"placeholder",className:"".concat(a,"-selection__placeholder")},i);return o.a.createElement("span",{className:"".concat(a,"-selection__rendered")},t)}),e.selectorRef=Ge(),e}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ft(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement(Xt,Dt({},this.props,{ref:this.selectorRef,renderSelection:this.renderSelection}))}}])&&Lt(n.prototype,r),i&&Lt(n,i),t}();Yt(Gt,"propTypes",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach(function(t){Yt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},xt));var Vt=Gt,Ht=n(215),Kt=n(74),Ut="add",zt="keep",Wt="remove",qt="removed";function Zt(e){var t=void 0;return t=e&&"object"===typeof e&&"key"in e?e:{key:e},y()({},t,{key:String(t.key)})}function Qt(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(Zt)}var $t=Object.keys(Ht.a);var Jt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ht.b,n=function(n){function r(){var e,t,n,o;x()(this,r);for(var i=arguments.length,a=Array(i),c=0;c<i;c++)a[c]=arguments[c];return t=n=O()(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(a))),n.state={keyEntities:[]},n.removeKey=function(e){n.setState(function(t){return{keyEntities:t.keyEntities.map(function(t){return t.key!==e?t:y()({},t,{status:qt})})}})},o=t,O()(n,o)}return E()(r,n),k()(r,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,r=this.props,i=r.component,a=r.children,c=fe()(r,["component","children"]),s=i||o.a.Fragment,u={};return $t.forEach(function(e){u[e]=c[e],delete c[e]}),delete c.keys,o.a.createElement(s,c,n.map(function(n){var r=n.status,i=fe()(n,["status"]),c=r===Ut||r===zt;return o.a.createElement(t,y()({},u,{key:i.key,visible:c,eventProps:i,onLeaveEnd:function(){u.onLeaveEnd&&u.onLeaveEnd.apply(u,arguments),e.removeKey(i.key)}}),a)}))}}],[{key:"getDerivedStateFromProps",value:function(t,n){var r=t.keys,o=n.keyEntities,i=Qt(r);if(!e)return{keyEntities:i.map(function(e){return y()({},e,{status:zt})})};var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,o=t.length,i=Qt(e),a=Qt(t);i.forEach(function(e){for(var t=!1,i=r;i<o;i+=1){var c=a[i];if(c.key===e.key){r<i&&(n=n.concat(a.slice(r,i).map(function(e){return y()({},e,{status:Ut})})),r=i),n.push(y()({},c,{status:zt})),r+=1,t=!0;break}}t||n.push(y()({},e,{status:Wt}))}),r<o&&(n=n.concat(a.slice(r).map(function(e){return y()({},e,{status:Ut})})));var c={};return n.forEach(function(e){var t=e.key;c[t]=(c[t]||0)+1}),Object.keys(c).filter(function(e){return c[e]>1}).forEach(function(e){(n=n.filter(function(t){var n=t.key,r=t.status;return n!==e||r!==Wt})).forEach(function(t){t.key===e&&(t.status=zt)})}),n}(o,i),c=o.length;return{keyEntities:a.filter(function(e){for(var t=null,n=0;n<c;n+=1){var r=o[n];if(r.key===e.key){t=r;break}}return!t||t.status!==qt||e.status!==Wt})}}}]),r}(o.a.Component);return n.propTypes=y()({},t.propTypes,{component:s.a.oneOfType([s.a.string,s.a.bool]),keys:s.a.array}),n.defaultProps={component:"div"},Object(u.polyfill)(n),n}(Kt.c);function en(){return(en=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach(function(t){sn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function on(e){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function an(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cn(e,t){return(cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var un=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return r=this,o=(e=on(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==typeof o&&"function"!==typeof o?an(r):o,sn(an(n),"onRemove",function(e){var t=n.props;(0,t.onRemove)(e,t.value),e.stopPropagation()}),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cn(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.maxTagTextLength,r=e.className,i=e.style,a=e.label,c=e.value,s=e.onRemove,u=e.removeIcon,l=a||c;return n&&"string"===typeof l&&l.length>n&&(l="".concat(l.slice(0,n),"...")),o.a.createElement("li",en({style:nn({},Ve,{},i)},He,{role:"menuitem",className:L()("".concat(t,"-selection__choice"),r),title:Xe(a)}),s&&o.a.createElement("span",{className:"".concat(t,"-selection__choice__remove"),onClick:this.onRemove},"function"===typeof u?o.a.createElement(u,nn({},this.props)):u),o.a.createElement("span",{className:"".concat(t,"-selection__choice__content")},l))}}])&&rn(n.prototype,r),i&&rn(n,i),t}();sn(un,"propTypes",{prefixCls:s.a.string,maxTagTextLength:s.a.number,onRemove:s.a.func,className:s.a.string,style:s.a.object,label:s.a.node,value:s.a.oneOfType([s.a.string,s.a.number]),removeIcon:s.a.oneOfType([s.a.node,s.a.func])});var ln=un;function fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pn(e){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gn(e,t){return(gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mn={onSearchInputChange:s.a.func.isRequired},yn=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=pn(t).call(this),e=!r||"object"!==typeof r&&"function"!==typeof r?dn(n):r,vn(dn(e),"alignInputWidth",function(){e.inputRef.current.style.width="".concat(e.mirrorInputRef.current.clientWidth,"px")}),vn(dn(e),"focus",function(t){e.inputRef.current&&(e.inputRef.current.focus(),t&&setTimeout(function(){e.inputRef.current.focus()},0))}),vn(dn(e),"blur",function(){e.inputRef.current&&e.inputRef.current.blur()}),e.inputRef=Ge(),e.mirrorInputRef=Ge(),e}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gn(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.open;e.needAlign&&this.alignInputWidth(),t&&this.focus(!0)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.open,r=t.searchValue,o=t.needAlign;n&&e.open!==n&&this.focus(),o&&r!==e.searchValue&&this.alignInputWidth()}},{key:"render",value:function(){var e=this.props,t=e.searchValue,n=e.prefixCls,r=e.disabled,i=e.renderPlaceholder,a=e.open,c=e.ariaId,s=this.context.rcTreeSelect,u=s.onSearchInputChange,l=s.onSearchInputKeyDown;return o.a.createElement("span",{className:"".concat(n,"-search__field__wrap")},o.a.createElement("input",{type:"text",ref:this.inputRef,onChange:u,onKeyDown:l,value:t,disabled:r,className:"".concat(n,"-search__field"),"aria-label":"filter select","aria-autocomplete":"list","aria-controls":a?c:void 0,"aria-multiline":"false"}),o.a.createElement("span",{ref:this.mirrorInputRef,className:"".concat(n,"-search__field__mirror")},t,"\xa0"),i?i():null)}}])&&hn(n.prototype,r),i&&hn(n,i),t}();vn(yn,"propTypes",{open:s.a.bool,searchValue:s.a.string,prefixCls:s.a.string,disabled:s.a.bool,renderPlaceholder:s.a.func,needAlign:s.a.bool,ariaId:s.a.string}),vn(yn,"contextTypes",{rcTreeSelect:s.a.shape(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fn(Object(n),!0).forEach(function(t){vn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},mn))}),Object(u.polyfill)(yn);var bn=yn;function xn(){return(xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var wn=function(e){var t=e.selectorValueList,n=e.choiceTransitionName,r=e.prefixCls,i=e.onChoiceAnimationLeave,a=e.labelInValue,c=e.maxTagCount,s=e.maxTagPlaceholder,u=e.showSearch,l=e.valueEntities,f=e.inputRef,h=e.onMultipleSelectorRemove,p=[],d=t;if(c>=0&&(d=t.slice(0,c)),d.forEach(function(e){var t=e.label,n=e.value,r=((l[n]||{}).node||{}).props,o=(r=void 0===r?{}:r).disabled;p.push({key:n,type:"selector",label:t,value:n,disabled:o})}),c>=0&&c<t.length){var g="+ ".concat(t.length-c," ...");if("string"===typeof s)g=s;else if("function"===typeof s){var v=t.slice(c);g=s(a?v:v.map(function(e){return e.value}))}p.push({key:"rc-tree-select-internal-max-tag-counter",type:"selector",label:g,value:null,disabled:!0})}return!1!==u&&p.push({key:"__input",type:"search"}),o.a.createElement(Jt,{keys:p,className:"".concat(r,"-selection__rendered"),component:"ul",role:"menubar",motionName:n,onLeaveEnd:i},function(t){var n=t.type,i=t.label,a=t.value,c=t.disabled,s=t.className,u=t.style;return"selector"===n?o.a.createElement(ln,xn({},e,{className:s,style:u,key:a||"RC_TREE_SELECT_EMPTY_VALUE_KEY",label:i,value:a,onRemove:c?null:h})):o.a.createElement("li",{className:"".concat(r,"-search ").concat(r,"-search--inline")},o.a.createElement(bn,xn({},e,{ref:f,needAlign:!0})))})};wn.propTypes={selectorValueList:s.a.array,choiceTransitionName:s.a.string,prefixCls:s.a.string,onChoiceAnimationLeave:s.a.func,labelInValue:s.a.bool,showSearch:s.a.bool,maxTagCount:s.a.number,maxTagPlaceholder:s.a.oneOfType([s.a.node,s.a.func]),valueEntities:s.a.object,inputRef:s.a.func,onMultipleSelectorRemove:s.a.func};var On=wn;function Sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(n),!0).forEach(function(t){An(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _n(){return(_n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cn(e){return(Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kn(e,t){return(kn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function An(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jn=Ot("multiple"),Tn={onMultipleSelectorRemove:s.a.func.isRequired},Nn=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=Cn(t).call(this),e=!r||"object"!==typeof r&&"function"!==typeof r?Mn(n):r,An(Mn(e),"onPlaceholderClick",function(){e.inputRef.current.focus()}),An(Mn(e),"focus",function(){e.inputRef.current.focus()}),An(Mn(e),"blur",function(){e.inputRef.current.blur()}),An(Mn(e),"renderPlaceholder",function(){var t=e.props,n=t.prefixCls,r=t.placeholder,i=t.searchPlaceholder,a=t.searchValue,c=t.selectorValueList,s=r||i;if(!s)return null;var u=a||c.length;return o.a.createElement("span",{style:{display:u?"none":"block"},onClick:e.onPlaceholderClick,className:"".concat(n,"-search__field__placeholder")},s)}),An(Mn(e),"renderSelection",function(){var t=e.context.rcTreeSelect.onMultipleSelectorRemove;return o.a.createElement(On,_n({},e.props,{onMultipleSelectorRemove:t,inputRef:e.inputRef}))}),e.inputRef=Ge(),e}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kn(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement(jn,_n({},this.props,{tabIndex:-1,showArrow:!1,renderSelection:this.renderSelection,renderPlaceholder:this.renderPlaceholder}))}}])&&Pn(n.prototype,r),i&&Pn(n,i),t}();An(Nn,"propTypes",En({},xt,{selectorValueList:s.a.array,disabled:s.a.bool,searchValue:s.a.string,labelInValue:s.a.bool,maxTagCount:s.a.number,maxTagPlaceholder:s.a.oneOfType([s.a.node,s.a.func]),onChoiceAnimationLeave:s.a.func})),An(Nn,"contextTypes",{rcTreeSelect:s.a.shape(En({},Tn,{onSearchInputChange:s.a.func}))});var In=Nn;function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ln(){return(Ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Bn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rn(e){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yn(e,t){return(Yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gn=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=Rn(t).call(this),e=!r||"object"!==typeof r&&"function"!==typeof r?Fn(n):r,Xn(Fn(e),"onPlaceholderClick",function(){e.inputRef.current.focus()}),Xn(Fn(e),"getTree",function(){return e.popupRef.current&&e.popupRef.current.getTree()}),Xn(Fn(e),"renderPlaceholder",function(){var t=e.props,n=t.searchPlaceholder,r=t.searchValue,i=t.prefixCls;return n?o.a.createElement("span",{style:{display:r?"none":"block"},onClick:e.onPlaceholderClick,className:"".concat(i,"-search__field__placeholder")},n):null}),Xn(Fn(e),"renderSearch",function(){var t=e.props,n=t.showSearch,r=t.dropdownPrefixCls;return n?o.a.createElement("span",{ref:e.searchRef,className:"".concat(r,"-search")},o.a.createElement(bn,Ln({},e.props,{ref:e.inputRef,renderPlaceholder:e.renderPlaceholder}))):null}),e.inputRef=Ge(),e.searchRef=Ge(),e.popupRef=Ge(),e}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yn(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement(Nt,Ln({ref:this.popupRef},this.props,{renderSearch:this.renderSearch}))}}])&&Bn(n.prototype,r),i&&Bn(n,i),t}();Xn(Gn,"propTypes",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(n),!0).forEach(function(t){Xn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},Nt.propTypes,{searchValue:s.a.string,showSearch:s.a.bool,dropdownPrefixCls:s.a.string,disabled:s.a.bool,searchPlaceholder:s.a.string}));var Vn=Gn,Hn=Nt,Kn=s.a.oneOfType([s.a.string,s.a.number]);function Un(e){return s.a.oneOfType([e,s.a.arrayOf(e)])}function zn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],o=t[1],i=t[2];return ze(r)?Un(s.a.shape({label:s.a.node,value:Kn})).apply(void 0,t)?new Error("Invalid prop `".concat(o,"` supplied to `").concat(i,"`. ")+"You should use { label: string, value: string | number } or [{ label: string, value: string | number }] instead."):null:Un(Kn).apply(void 0,t)?new Error("Invalid prop `".concat(o,"` supplied to `").concat(i,"`. ")+"You should use string or [string] instead."):null}function Wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zn=function(e){return o.a.createElement(St.a,e)};Zn.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wn(Object(n),!0).forEach(function(t){qn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},St.a.propTypes,{value:zn}),Zn.isTreeNode=1;var Qn=Zn;function $n(){return($n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Jn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?er(Object(n),!0).forEach(function(t){ar(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):er(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rr(e){return(rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function or(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ir(e,t){return(ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ar(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cr=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=rr(t).call(this,e),n=!o||"object"!==typeof o&&"function"!==typeof o?or(r):o,ar(or(n),"onSelectorFocus",function(){n.setState({focused:!0})}),ar(or(n),"onSelectorBlur",function(){n.setState({focused:!1})}),ar(or(n),"onComponentKeyDown",function(e){var t=n.state.open,r=e.keyCode;t?l.a.ESC===r?n.setOpenState(!1):-1!==[l.a.UP,l.a.DOWN,l.a.LEFT,l.a.RIGHT].indexOf(r)&&e.stopPropagation():-1!==[l.a.ENTER,l.a.DOWN].indexOf(r)&&n.setOpenState(!0)}),ar(or(n),"onDeselect",function(e,t,r){var o=n.props.onDeselect;o&&o(e,t,r)}),ar(or(n),"onSelectorClear",function(e){n.props.disabled||(n.triggerChange([],[]),n.isSearchValueControlled()||n.setUncontrolledState({searchValue:"",filteredTreeNodes:null}),e.stopPropagation())}),ar(or(n),"onMultipleSelectorRemove",function(e,t){e.stopPropagation();var r=n.state,o=r.valueList,i=r.missValueList,a=r.valueEntities,c=n.props,s=c.treeCheckable,u=c.treeCheckStrictly,l=c.treeNodeLabelProp;if(!c.disabled){var f=a[t],h=o;f&&(h=s&&!u?o.filter(function(e){var t=e.value;return!function(e,t){for(var n=e.split("-"),r=t.split("-"),o=Math.min(n.length,r.length),i=0;i<o;i+=1)if(n[i]!==r[i])return!1;return!0}(a[t].pos,f.pos)}):o.filter(function(e){return e.value!==t}));var p=f?f.node:null,d={triggerValue:t,triggerNode:p},g={node:p};if(s){var v=h.map(function(e){var t=e.value;return a[t]});g.event="check",g.checked=!1,g.checkedNodes=v.map(function(e){return e.node}),g.checkedNodesPositions=v.map(function(e){return{node:e.node,pos:e.pos}}),d.allCheckedNodes=u?g.checkedNodes:Ke(v).map(function(e){return e.node})}else g.event="select",g.selected=!1,g.selectedNodes=h.map(function(e){var t=e.value;return(a[t]||{}).node});var m,y=i.filter(function(e){return e.value!==t});m=n.isLabelInValue()?{label:p?p.props[l]:null,value:t}:t,n.onDeselect(m,p,g),n.triggerChange(y,h,d)}}),ar(or(n),"onValueTrigger",function(e,t,r,o){var i=r.node,a=i.props.value,c=n.state,s=c.missValueList,u=c.valueEntities,l=c.keyEntities,f=c.searchValue,h=n.props,p=h.disabled,d=h.inputValue,g=h.treeNodeLabelProp,v=h.onSelect,m=h.onSearch,y=h.multiple,b=h.treeCheckable,x=h.treeCheckStrictly,w=h.autoClearSearchValue,O=i.props[g];if(!p){var S;S=n.isLabelInValue()?{value:a,label:O}:a,e?v&&v(S,i,r):n.onDeselect(S,i,r);var E=t.map(function(e){var t=e.props;return{value:t.value,label:t[g]}});if(b&&!x){var _=E.map(function(e){var t=e.value;return u[t].key});E=(_=e?ot(_,!0,l).checkedKeys:ot([u[a].key],!1,l,{checkedKeys:_}).checkedKeys).map(function(e){var t=l[e].node.props;return{value:t.value,label:t[g]}})}(w||null===d)&&(n.isSearchValueControlled()||!y&&!b||n.setUncontrolledState({searchValue:"",filteredTreeNodes:null}),m&&f&&f.length&&m(""));var P=tr({},o,{triggerValue:a,triggerNode:i});n.triggerChange(s,E,P)}}),ar(or(n),"onTreeNodeSelect",function(e,t){var r=n.state,o=r.valueList,i=r.valueEntities,a=n.props,c=a.treeCheckable,s=a.multiple;if(!c){s||n.setOpenState(!1);var u,l=t.selected,f=t.node.props.value;s?(u=o.filter(function(e){return e.value!==f}),l&&u.push({value:f})):u=[{value:f}];var h=u.map(function(e){var t=e.value;return i[t]}).filter(function(e){return e}).map(function(e){return e.node});n.onValueTrigger(l,h,t,{selected:l})}}),ar(or(n),"onTreeNodeCheck",function(e,t){var r=n.state,o=r.searchValue,i=r.keyEntities,a=r.valueEntities,c=r.valueList,s=n.props.treeCheckStrictly,u=t.checkedNodes,l=t.checkedNodesPositions,f=t.checked,h={checked:f},p=u;if(o){var d,g=c.map(function(e){var t=e.value;return a[t]}).filter(function(e){return e}).map(function(e){return e.key});d=f?Array.from(new Set([].concat(Jn(g),Jn(p.map(function(e){var t=e.props.value;return a[t].key}))))):ot([t.node.props.eventKey],!1,i,{checkedKeys:g}).checkedKeys,p=d.map(function(e){return i[e].node}),h.allCheckedNodes=d.map(function(e){return We(i[e])})}else h.allCheckedNodes=s?t.checkedNodes:Ke(l);n.onValueTrigger(f,p,t,h)}),ar(or(n),"onDropdownVisibleChange",function(e){var t=n.props,r=t.multiple,o=t.treeCheckable,i=n.state.searchValue;e&&!r&&!o&&i&&n.setUncontrolledState({searchValue:"",filteredTreeNodes:null}),n.setOpenState(e,!0)}),ar(or(n),"onSearchInputChange",function(e){var t=e.target.value,r=n.state,o=r.treeNodes,i=r.valueEntities,a=n.props,c=a.onSearch,s=a.filterTreeNode,u=a.treeNodeFilterProp;c&&c(t);var l=!1;if(n.isSearchValueControlled()||(l=n.setUncontrolledState({searchValue:t}),n.setOpenState(!0)),l){var f=String(t).toUpperCase(),h=s;!1===s?h=function(){return!0}:"function"!==typeof h&&(h=function(e,t){return-1!==String(t.props[u]).toUpperCase().indexOf(f)}),n.setState({filteredTreeNodes:qe(o,t,h,i,Qn)})}}),ar(or(n),"onSearchInputKeyDown",function(e){var t=n.state,r=t.searchValue,o=t.valueList,i=e.keyCode;if(l.a.BACKSPACE===i&&n.isMultiple()&&!r&&o.length){var a=o[o.length-1].value;n.onMultipleSelectorRemove(e,a)}}),ar(or(n),"onChoiceAnimationLeave",function(){d()(function(){n.forcePopupAlign()})}),ar(or(n),"setPopupRef",function(e){n.popup=e}),ar(or(n),"setUncontrolledState",function(e){var t=!1,r={};return Object.keys(e).forEach(function(o){o in n.props||(t=!0,r[o]=e[o])}),t&&n.setState(r),t}),ar(or(n),"setOpenState",function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n.props.onDropdownVisibleChange;r&&!1===r(e,{documentClickClose:!e&&t})||n.setUncontrolledState({open:e})}),ar(or(n),"isMultiple",function(){var e=n.props,t=e.multiple,r=e.treeCheckable;return!(!t&&!r)}),ar(or(n),"isLabelInValue",function(){return ze(n.props)}),ar(or(n),"isSearchValueControlled",function(){var e=n.props.inputValue;return"searchValue"in n.props||"inputValue"in n.props&&null!==e}),ar(or(n),"forcePopupAlign",function(){var e=n.selectTriggerRef.current;e&&e.forcePopupAlign()}),ar(or(n),"delayForcePopupAlign",function(){d()(function(){d()(n.forcePopupAlign)})}),ar(or(n),"triggerChange",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.state,i=o.valueEntities,a=o.searchValue,c=o.selectorValueList,s=n.props,u=s.onChange,l=s.disabled,f=s.treeCheckable,h=s.treeCheckStrictly;if(!l){var p=tr({preValue:c.map(function(e){return{label:e.label,value:e.value}})},r),d=$e(t,n.props,i);if(!("value"in n.props)){var g={missValueList:e,valueList:t,selectorValueList:d};a&&f&&!h&&(g.searchHalfCheckedKeys=rt(t,i)),n.setState(g)}if(u){var v;v=n.isMultiple()?[].concat(Jn(e),Jn(d)):d.slice(0,1);var m,y=null;n.isLabelInValue()?m=v.map(function(e){return{label:e.label,value:e.value}}):(y=[],m=v.map(function(e){var t=e.label,n=e.value;return y.push(t),n})),n.isMultiple()||(m=m[0]),u(m,y,p)}}});var i,a=e.prefixAria,c=e.defaultOpen,s=e.open;return n.state={open:s||c,valueList:[],searchHalfCheckedKeys:[],missValueList:[],selectorValueList:[],valueEntities:{},keyEntities:{},searchValue:"",init:!0},n.selectorRef=Ge(),n.selectTriggerRef=Ge(),n.ariaId=(i="".concat(a,"-list"),Ue+=1,"".concat(i,"_").concat(Ue)),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ir(e,t)}(t,o.a.Component),n=t,a=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=void 0===n?{}:n,o=e.treeCheckable,i=e.treeCheckStrictly,a=e.filterTreeNode,c=e.treeNodeFilterProp,s=e.treeDataSimpleMode,u={prevProps:e,init:!1};function l(t,n){return r[t]!==e[t]&&(n(e[t],r[t]),!0)}var f,p=!1;l("open",function(e){u.open=e});var d=!1,g=!1;if(l("treeData",function(e){f=et(e),d=!0}),l("treeDataSimpleMode",function(e,t){if(e){var n=t&&!0!==t?t:{};h()(e,n)||(g=!0)}}),s&&(d||g)){var v=tr({id:"id",pId:"pId",rootPId:null},!0!==s?s:{});f=et(function(e,t){var n=t.id,r=t.pId,o=t.rootPId,i={},a=[];return e.map(function(e){var t=Re({},e),r=t[n];return i[r]=t,t.key=t.key||r,t}).forEach(function(e){var t=e[r],n=i[t];n&&(n.children=n.children||[],n.children.push(e)),(t===o||!n&&null===o)&&a.push(e)}),a}(e.treeData,v))}if(e.treeData||l("children",function(e){f=Array.isArray(e)?e:[e]}),f){var m=function(e){return Object(Te.h)(e,{initWrapper:tt,processEntity:nt})}(f);u.treeNodes=f,u.posEntities=m.posEntities,u.valueEntities=m.valueEntities,u.keyEntities=m.keyEntities,p=!0}if(t.init&&l("defaultValue",function(t){u.valueList=Ze(t,e),p=!0}),l("value",function(t){u.valueList=Ze(t,e),p=!0}),p){var y=[],b=[],x=[],w=u.valueList;w||(w=[].concat(Jn(t.valueList),Jn(t.missValueList)));var O={};if(w.forEach(function(e){var n=e.value,r=e.label,o=(u.valueEntities||t.valueEntities)[n];if(O[n]=r,o)return x.push(o.key),void b.push(e);y.push(e)}),o&&!i){var S=ot(x,!0,u.keyEntities||t.keyEntities).checkedKeys;u.valueList=S.map(function(e){var n=(u.keyEntities||t.keyEntities)[e].value,r={value:n};return void 0!==O[n]&&(r.label=O[n]),r})}else u.valueList=b;u.missValueList=y,u.selectorValueList=$e(u.valueList,e,u.valueEntities||t.valueEntities)}if(l("inputValue",function(e){null!==e&&(u.searchValue=e)}),l("searchValue",function(e){u.searchValue=e}),void 0!==u.searchValue||t.searchValue&&f){var E=void 0!==u.searchValue?u.searchValue:t.searchValue,_=String(E).toUpperCase(),P=a;!1===a?P=function(){return!0}:"function"!==typeof P&&(P=function(e,t){return-1!==String(t.props[c]).toUpperCase().indexOf(_)}),u.filteredTreeNodes=qe(u.treeNodes||t.treeNodes,E,P,u.valueEntities||t.valueEntities,Qn)}return p&&o&&!i&&(u.searchValue||t.searchValue)&&(u.searchHalfCheckedKeys=rt(u.valueList,u.valueEntities||t.valueEntities)),l("showCheckedStrategy",function(){u.selectorValueList=u.selectorValueList||$e(u.valueList||t.valueList,e,u.valueEntities||t.valueEntities)}),u}}],(r=[{key:"getChildContext",value:function(){return{rcTreeSelect:{onSelectorFocus:this.onSelectorFocus,onSelectorBlur:this.onSelectorBlur,onSelectorKeyDown:this.onComponentKeyDown,onSelectorClear:this.onSelectorClear,onMultipleSelectorRemove:this.onMultipleSelectorRemove,onTreeNodeSelect:this.onTreeNodeSelect,onTreeNodeCheck:this.onTreeNodeCheck,onPopupKeyDown:this.onComponentKeyDown,onSearchInputChange:this.onSearchInputChange,onSearchInputKeyDown:this.onSearchInputKeyDown}}}},{key:"componentDidMount",value:function(){var e=this.props,t=e.autoFocus,n=e.disabled;t&&!n&&this.focus()}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.props.prefixCls,o=this.state,a=o.valueList,c=o.open,s=o.selectorValueList,u=o.valueEntities,l=this.isMultiple();if(t.valueList!==a&&this.forcePopupAlign(),!l&&s.length&&!t.open&&c&&this.popup){var f=s[0].value,h=this.popup.getTree().domTreeNodes[(u[f]||{}).key];if(h){var p=Object(i.findDOMNode)(h);d()(function(){var e=function(e,t){for(var n=e;n;){if(Ne(n,t))return n;n=n.parentNode}return null}(Object(i.findDOMNode)(n.popup),"".concat(r,"-dropdown")),t=n.popup.searchRef.current;p&&e&&t&&v()(p,e,{onlyScrollIfNeeded:!0,offsetTop:t.offsetHeight})})}}}},{key:"focus",value:function(){this.selectorRef.current.focus()}},{key:"blur",value:function(){this.selectorRef.current.blur()}},{key:"render",value:function(){var e=this.state,t=e.valueList,n=e.missValueList,r=e.selectorValueList,i=e.searchHalfCheckedKeys,a=e.valueEntities,c=e.keyEntities,s=e.searchValue,u=e.open,l=e.focused,f=e.treeNodes,h=e.filteredTreeNodes,p=this.props,d=p.prefixCls,g=p.treeExpandedKeys,v=p.onTreeExpand,m=this.isMultiple(),y=tr({},this.props,{isMultiple:m,valueList:t,searchHalfCheckedKeys:i,selectorValueList:[].concat(Jn(n),Jn(r)),valueEntities:a,keyEntities:c,searchValue:s,upperSearchValue:(s||"").toUpperCase(),open:u,focused:l,onChoiceAnimationLeave:this.onChoiceAnimationLeave,dropdownPrefixCls:"".concat(d,"-dropdown"),ariaId:this.ariaId}),b=m?Hn:Vn,x=o.a.createElement(b,$n({ref:this.setPopupRef},y,{onTreeExpanded:this.delayForcePopupAlign,treeNodes:f,filteredTreeNodes:h,treeExpandedKeys:g,onTreeExpand:v})),w=m?In:Vt,O=o.a.createElement(w,$n({},y,{ref:this.selectorRef}));return o.a.createElement(ht,$n({},y,{ref:this.selectTriggerRef,popupElement:x,onKeyDown:this.onKeyDown,onDropdownVisibleChange:this.onDropdownVisibleChange}),O)}}])&&nr(n.prototype,r),a&&nr(n,a),t}();ar(cr,"propTypes",{prefixCls:s.a.string,prefixAria:s.a.string,multiple:s.a.bool,showArrow:s.a.bool,open:s.a.bool,value:zn,autoFocus:s.a.bool,defaultOpen:s.a.bool,defaultValue:zn,showSearch:s.a.bool,placeholder:s.a.node,inputValue:s.a.string,searchValue:s.a.string,autoClearSearchValue:s.a.bool,searchPlaceholder:s.a.node,disabled:s.a.bool,children:s.a.node,labelInValue:s.a.bool,maxTagCount:s.a.number,maxTagPlaceholder:s.a.oneOfType([s.a.node,s.a.func]),maxTagTextLength:s.a.number,showCheckedStrategy:s.a.oneOf(["SHOW_ALL",Ie,De]),dropdownMatchSelectWidth:s.a.bool,treeData:s.a.array,treeDataSimpleMode:s.a.oneOfType([s.a.bool,s.a.object]),treeNodeFilterProp:s.a.string,treeNodeLabelProp:s.a.string,treeCheckable:s.a.oneOfType([s.a.bool,s.a.node]),treeCheckStrictly:s.a.bool,treeIcon:s.a.bool,treeLine:s.a.bool,treeDefaultExpandAll:s.a.bool,treeDefaultExpandedKeys:s.a.array,treeExpandedKeys:s.a.array,loadData:s.a.func,filterTreeNode:s.a.oneOfType([s.a.func,s.a.bool]),notFoundContent:s.a.node,onSearch:s.a.func,onSelect:s.a.func,onDeselect:s.a.func,onChange:s.a.func,onDropdownVisibleChange:s.a.func,onTreeExpand:s.a.func,inputIcon:s.a.oneOfType([s.a.node,s.a.func]),clearIcon:s.a.oneOfType([s.a.node,s.a.func]),removeIcon:s.a.oneOfType([s.a.node,s.a.func]),switcherIcon:s.a.oneOfType([s.a.node,s.a.func])}),ar(cr,"childContextTypes",{rcTreeSelect:s.a.shape(tr({},wt,{},Tn,{},jt,{onSearchInputChange:s.a.func,onSearchInputKeyDown:s.a.func}))}),ar(cr,"defaultProps",{prefixCls:"rc-tree-select",prefixAria:"rc-tree-select",showArrow:!0,showSearch:!0,autoClearSearchValue:!0,showCheckedStrategy:De,treeNodeFilterProp:"value",treeNodeLabelProp:"title",treeIcon:!1,notFoundContent:"Not Found"}),cr.TreeNode=Qn,cr.SHOW_ALL="SHOW_ALL",cr.SHOW_PARENT=Ie,cr.SHOW_CHILD=De,cr.displayName="TreeSelect",Object(u.polyfill)(cr);var sr=Qn,ur=cr,lr=n(24),fr=n(86),hr=n(14),pr=n(869),dr=n(7);function gr(e){return(gr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vr(){return(vr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function mr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function br(e,t){return!t||"object"!==gr(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xr(e){return(xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wr(e,t){return(wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return Sr});var Or=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Sr=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=br(this,xr(t).call(this,e))).saveTreeSelect=function(e){n.rcTreeSelect=e},n.renderSwitcherIcon=function(e,t){var n=t.isLeaf;return t.loading?r.createElement(dr.a,{type:"loading",className:"".concat(e,"-switcher-loading-icon")}):n?null:r.createElement(dr.a,{type:"caret-down",className:"".concat(e,"-switcher-icon")})},n.renderTreeSelect=function(e){var t,o=e.getPopupContainer,i=e.getPrefixCls,a=e.renderEmpty,c=n.props,s=c.prefixCls,u=c.className,l=c.size,f=c.notFoundContent,h=c.dropdownStyle,p=c.dropdownClassName,d=c.suffixIcon,g=c.removeIcon,v=c.clearIcon,m=c.getPopupContainer,y=Or(c,["prefixCls","className","size","notFoundContent","dropdownStyle","dropdownClassName","suffixIcon","removeIcon","clearIcon","getPopupContainer"]),b=Object(lr.a)(y,["inputIcon","removeIcon","clearIcon","switcherIcon"]),x=i("select",s),w=L()((mr(t={},"".concat(x,"-lg"),"large"===l),mr(t,"".concat(x,"-sm"),"small"===l),t),u),O=y.showSearch;"showSearch"in y||(O=!(!y.multiple&&!y.treeCheckable));var S=b.treeCheckable;S&&(S=r.createElement("span",{className:"".concat(x,"-tree-checkbox-inner")}));var E=d?Object(pr.a)(d):r.createElement(dr.a,{type:"down",className:"".concat(x,"-arrow-icon")}),_=g?Object(pr.a)(g):r.createElement(dr.a,{type:"close",className:"".concat(x,"-remove-icon")}),P=v?Object(pr.a)(v):r.createElement(dr.a,{type:"close-circle",theme:"filled",className:"".concat(x,"-clear-icon")});return r.createElement(ur,vr({switcherIcon:function(e){return n.renderSwitcherIcon(x,e)},inputIcon:E,removeIcon:_,clearIcon:P},b,{showSearch:O,getPopupContainer:m||o,dropdownClassName:L()(p,"".concat(x,"-tree-dropdown")),prefixCls:x,className:w,dropdownStyle:vr({maxHeight:"100vh",overflow:"auto"},h),treeCheckable:S,notFoundContent:f||a("Select"),ref:n.saveTreeSelect}))},Object(hr.a)(!1!==e.multiple||!e.treeCheckable,"TreeSelect","`multiple` will alway be `true` when `treeCheckable` is true"),n}var n,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wr(e,t)}(t,r["Component"]),n=t,(o=[{key:"focus",value:function(){this.rcTreeSelect.focus()}},{key:"blur",value:function(){this.rcTreeSelect.blur()}},{key:"render",value:function(){return r.createElement(fr.a,null,this.renderTreeSelect)}}])&&yr(n.prototype,o),i&&yr(n,i),t}();Sr.TreeNode=sr,Sr.SHOW_ALL="SHOW_ALL",Sr.SHOW_PARENT=Ie,Sr.SHOW_CHILD=De,Sr.defaultProps={transitionName:"slide-up",choiceTransitionName:"zoom"}},877:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},878:function(e,t,n){var r=n(720),o=n(903),i="".split;e.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},879:function(e,t,n){var r=n(798);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},880:function(e,t,n){var r=n(687),o=n(807);e.exports=function(e,t){try{o(r,e,t)}catch(n){r[e]=t}return t}},881:function(e,t,n){var r=n(914),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},882:function(e,t,n){var r=n(904);e.exports=function(e){return Object(r(e))}},883:function(e,t,n){var r=n(687),o=n(909),i=n(799),a=n(910),c=n(918),s=n(970),u=o("wks"),l=r.Symbol,f=s?l:l&&l.withoutSetter||a;e.exports=function(e){return i(u,e)||(c&&i(l,e)?u[e]=l[e]:u[e]=f("Symbol."+e)),u[e]}},884:function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=820)}([,function(e,t,n){"use strict";var r=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function o(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function i(){}var a="\\s*([+-]?\\d+)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",u=/^#([0-9a-f]{3})$/,l=/^#([0-9a-f]{6})$/,f=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),h=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),p=new RegExp("^rgba\\("+[a,a,a,c]+"\\)$"),d=new RegExp("^rgba\\("+[s,s,s,c]+"\\)$"),g=new RegExp("^hsl\\("+[c,s,s]+"\\)$"),v=new RegExp("^hsla\\("+[c,s,s,c]+"\\)$"),m={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(e){var t;return e=(e+"").trim().toLowerCase(),(t=u.exec(e))?new S((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=l.exec(e))?b(parseInt(t[1],16)):(t=f.exec(e))?new S(t[1],t[2],t[3],1):(t=h.exec(e))?new S(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=p.exec(e))?x(t[1],t[2],t[3],t[4]):(t=d.exec(e))?x(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=g.exec(e))?_(t[1],t[2]/100,t[3]/100,1):(t=v.exec(e))?_(t[1],t[2]/100,t[3]/100,t[4]):m.hasOwnProperty(e)?b(m[e]):"transparent"===e?new S(NaN,NaN,NaN,0):null}function b(e){return new S(e>>16&255,e>>8&255,255&e,1)}function x(e,t,n,r){return r<=0&&(e=t=n=NaN),new S(e,t,n,r)}function w(e){return e instanceof i||(e=y(e)),e?new S((e=e.rgb()).r,e.g,e.b,e.opacity):new S}function O(e,t,n,r){return 1===arguments.length?w(e):new S(e,t,n,null==r?1:r)}function S(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function E(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function _(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new C(e,t,n,r)}function P(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof C)return new C(e.h,e.s,e.l,e.opacity);if(e instanceof i||(e=y(e)),!e)return new C;if(e instanceof C)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),a=Math.max(t,n,r),c=NaN,s=a-o,u=(a+o)/2;return s?(c=t===a?(n-r)/s+6*(n<r):n===a?(r-t)/s+2:(t-n)/s+4,s/=u<.5?a+o:2-a-o,c*=60):s=u>0&&u<1?0:c,new C(c,s,u,e.opacity)}(e):new C(e,t,n,null==r?1:r)}function C(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function M(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}r(i,y,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),r(S,O,o(i,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new S(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new S(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+E(this.r)+E(this.g)+E(this.b)},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),r(C,P,o(i,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new C(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new C(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new S(M(e>=240?e-240:e+120,o,r),M(e,o,r),M(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var k=Math.PI/180,A=180/Math.PI,j=.96422,T=1,N=.82521,I=4/29,D=6/29,L=3*D*D,B=D*D*D;function R(e){if(e instanceof X)return new X(e.l,e.a,e.b,e.opacity);if(e instanceof q){if(isNaN(e.h))return new X(e.l,0,0,e.opacity);var t=e.h*k;return new X(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof S||(e=w(e));var n,r,o=K(e.r),i=K(e.g),a=K(e.b),c=G((.2225045*o+.7168786*i+.0606169*a)/T);return o===i&&i===a?n=r=c:(n=G((.4360747*o+.3850649*i+.1430804*a)/j),r=G((.0139322*o+.0971045*i+.7141733*a)/N)),new X(116*c-16,500*(n-c),200*(c-r),e.opacity)}function F(e,t){return new X(e,0,0,null==t?1:t)}function Y(e,t,n,r){return 1===arguments.length?R(e):new X(e,t,n,null==r?1:r)}function X(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function G(e){return e>B?Math.pow(e,1/3):e/L+I}function V(e){return e>D?e*e*e:L*(e-I)}function H(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function K(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function U(e){if(e instanceof q)return new q(e.h,e.c,e.l,e.opacity);if(e instanceof X||(e=R(e)),0===e.a&&0===e.b)return new q(NaN,0,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*A;return new q(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function z(e,t,n,r){return 1===arguments.length?U(e):new q(n,t,e,null==r?1:r)}function W(e,t,n,r){return 1===arguments.length?U(e):new q(e,t,n,null==r?1:r)}function q(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}r(X,Y,o(i,{brighter:function(e){return new X(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new X(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new S(H(3.1338561*(t=j*V(t))-1.6168667*(e=T*V(e))-.4906146*(n=N*V(n))),H(-.9787684*t+1.9161415*e+.033454*n),H(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),r(q,W,o(i,{brighter:function(e){return new q(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new q(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return R(this).rgb()}}));var Z=-.14861,Q=1.78277,$=-.29227,J=-.90649,ee=1.97294,te=ee*J,ne=ee*Q,re=Q*$-J*Z;function oe(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof ie)return new ie(e.h,e.s,e.l,e.opacity);e instanceof S||(e=w(e));var t=e.r/255,n=e.g/255,r=e.b/255,o=(re*r+te*t-ne*n)/(re+te-ne),i=r-o,a=(ee*(n-o)-$*i)/J,c=Math.sqrt(a*a+i*i)/(ee*o*(1-o)),s=c?Math.atan2(a,i)*A-120:NaN;return new ie(s<0?s+360:s,c,o,e.opacity)}(e):new ie(e,t,n,null==r?1:r)}function ie(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}r(ie,oe,o(i,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new ie(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new ie(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*k,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),o=Math.sin(e);return new S(255*(t+n*(Z*r+Q*o)),255*(t+n*($*r+J*o)),255*(t+n*(ee*r)),this.opacity)}})),n.d(t,"a",function(){return y}),n.d(t,"h",function(){return O}),n.d(t,"e",function(){return P}),n.d(t,"f",function(){return Y}),n.d(t,"d",function(){return W}),n.d(t,"g",function(){return z}),n.d(t,"c",function(){return F}),n.d(t,"b",function(){return oe})},,,,,,,,,,,,,,,function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";n.r(t);var r,o,i=0,a=0,c=0,s=1e3,u=0,l=0,f=0,h="object"==typeof performance&&performance.now?performance:Date,p="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function d(){return l||(p(g),l=h.now()+f)}function g(){l=0}function v(){this._call=this._time=this._next=null}function m(e,t,n){var r=new v;return r.restart(e,t,n),r}function y(){d(),++i;for(var e,t=r;t;)(e=l-t._time)>=0&&t._call.call(null,e),t=t._next;--i}function b(){l=(u=h.now())+f,i=a=0;try{y()}finally{i=0,function(){for(var e,t,n=r,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:r=t);o=e,w(i)}(),l=0}}function x(){var e=h.now(),t=e-u;t>s&&(f-=t,u=e)}function w(e){i||(a&&(a=clearTimeout(a)),e-l>24?(e<1/0&&(a=setTimeout(b,e-h.now()-f)),c&&(c=clearInterval(c))):(c||(u=h.now(),c=setInterval(x,s)),i=1,p(b)))}v.prototype=m.prototype={constructor:v,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?d():+n)+(null==t?0:+t),this._next||o===this||(o?o._next=this:r=this,o=this),this._call=e,this._time=n,w()},stop:function(){this._call&&(this._call=null,this._time=1/0,w())}};var O=function(e,t,n){var r=new v;return t=null==t?0:+t,r.restart(function(n){r.stop(),e(n+t)},t,n),r},S=function(e,t,n){var r=new v,o=t;return null==t?(r.restart(e,t,n),r):(t=+t,n=null==n?d():+n,r.restart(function i(a){a+=o,r.restart(i,o+=t,n),e(a)},t,n),r)};n.d(t,"now",function(){return d}),n.d(t,"timer",function(){return m}),n.d(t,"timerFlush",function(){return y}),n.d(t,"timeout",function(){return O}),n.d(t,"interval",function(){return S})},,function(e,t,n){var r=n(644),o={};r.merge(o,r,{mixin:function(e,t){var n=e.CFG?"CFG":"ATTRS";if(e&&t){e._mixins=t,e[n]=e[n]||{};var r={};o.each(t,function(t){o.augment(e,t);var i=t[n];i&&o.merge(r,i)}),e[n]=o.merge(r,e[n])}}}),e.exports=o},function(e,t,n){var r=n(117),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},,,function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},,,function(e,t,n){var r={},o=n(682),i=n(748),a=n(257),c=n(727),s=n(726),u=n(725);a.mix(r,a,s,u,c,i,o),e.exports=r},,,,,,,,function(e,t,n){var r=n(38),o=n(250),i=n(249),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},,,,function(e,t,n){var r=n(20).Symbol;e.exports=r},function(e,t,n){var r=n(34),o=n(23);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},,,,,function(e,t,n){"use strict";function r(e){return+e}function o(e){return e*e}function i(e){return e*(2-e)}function a(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function c(e){return e*e*e}function s(e){return--e*e*e+1}function u(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}n.r(t);var l=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),f=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),h=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),p=Math.PI,d=p/2;function g(e){return 1-Math.cos(e*d)}function v(e){return Math.sin(e*d)}function m(e){return(1-Math.cos(p*e))/2}function y(e){return Math.pow(2,10*e-10)}function b(e){return 1-Math.pow(2,-10*e)}function x(e){return((e*=2)<=1?Math.pow(2,10*e-10):2-Math.pow(2,10-10*e))/2}function w(e){return 1-Math.sqrt(1-e*e)}function O(e){return Math.sqrt(1- --e*e)}function S(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var E=4/11,_=6/11,P=8/11,C=.75,M=9/11,k=10/11,A=.9375,j=21/22,T=63/64,N=1/E/E;function I(e){return 1-D(1-e)}function D(e){return(e=+e)<E?N*e*e:e<P?N*(e-=_)*e+C:e<k?N*(e-=M)*e+A:N*(e-=j)*e+T}function L(e){return((e*=2)<=1?1-D(1-e):D(e-1)+1)/2}var B=function e(t){function n(e){return e*e*((t+1)*e-t)}return t=+t,n.overshoot=e,n}(1.70158),R=function e(t){function n(e){return--e*e*((t+1)*e+t)+1}return t=+t,n.overshoot=e,n}(1.70158),F=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(1.70158),Y=2*Math.PI,X=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Y);function o(e){return t*Math.pow(2,10*--e)*Math.sin((r-e)/n)}return o.amplitude=function(t){return e(t,n*Y)},o.period=function(n){return e(t,n)},o}(1,.3),G=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Y);function o(e){return 1-t*Math.pow(2,-10*(e=+e))*Math.sin((e+r)/n)}return o.amplitude=function(t){return e(t,n*Y)},o.period=function(n){return e(t,n)},o}(1,.3),V=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Y);function o(e){return((e=2*e-1)<0?t*Math.pow(2,10*e)*Math.sin((r-e)/n):2-t*Math.pow(2,-10*e)*Math.sin((r+e)/n))/2}return o.amplitude=function(t){return e(t,n*Y)},o.period=function(n){return e(t,n)},o}(1,.3);n.d(t,"easeLinear",function(){return r}),n.d(t,"easeQuad",function(){return a}),n.d(t,"easeQuadIn",function(){return o}),n.d(t,"easeQuadOut",function(){return i}),n.d(t,"easeQuadInOut",function(){return a}),n.d(t,"easeCubic",function(){return u}),n.d(t,"easeCubicIn",function(){return c}),n.d(t,"easeCubicOut",function(){return s}),n.d(t,"easeCubicInOut",function(){return u}),n.d(t,"easePoly",function(){return h}),n.d(t,"easePolyIn",function(){return l}),n.d(t,"easePolyOut",function(){return f}),n.d(t,"easePolyInOut",function(){return h}),n.d(t,"easeSin",function(){return m}),n.d(t,"easeSinIn",function(){return g}),n.d(t,"easeSinOut",function(){return v}),n.d(t,"easeSinInOut",function(){return m}),n.d(t,"easeExp",function(){return x}),n.d(t,"easeExpIn",function(){return y}),n.d(t,"easeExpOut",function(){return b}),n.d(t,"easeExpInOut",function(){return x}),n.d(t,"easeCircle",function(){return S}),n.d(t,"easeCircleIn",function(){return w}),n.d(t,"easeCircleOut",function(){return O}),n.d(t,"easeCircleInOut",function(){return S}),n.d(t,"easeBounce",function(){return D}),n.d(t,"easeBounceIn",function(){return I}),n.d(t,"easeBounceOut",function(){return D}),n.d(t,"easeBounceInOut",function(){return L}),n.d(t,"easeBack",function(){return F}),n.d(t,"easeBackIn",function(){return B}),n.d(t,"easeBackOut",function(){return R}),n.d(t,"easeBackInOut",function(){return F}),n.d(t,"easeElastic",function(){return G}),n.d(t,"easeElasticIn",function(){return X}),n.d(t,"easeElasticOut",function(){return G}),n.d(t,"easeElasticInOut",function(){return V})},function(e,t,n){var r=n(115),o=Array.isArray?Array.isArray:function(e){return r(e,"Array")};e.exports=o},function(e,t,n){var r=n(621),o=n(45);e.exports=function(e,t){if(e)if(o(e))for(var n=0,i=e.length;n<i&&!1!==t(e[n],n);n++);else if(r(e))for(var a in e)if(e.hasOwnProperty(a)&&!1===t(e[a],a))break}},,,,,,,,,,,,function(e,t,n){var r=n(19),o=n(742),i=n(641),a=n(613),c=function e(t){e.superclass.constructor.call(this,t)};c.ATTRS={},r.extend(c,i);var s={matrix:"matrix",path:"path",points:"points",lineDash:"lineDash"};r.augment(c,o,{isShape:!0,drawInner:function(e){var t=this._attrs;this.createPath(e);var n=e.globalAlpha;if(this.hasFill()){var o=t.fillOpacity;r.isNil(o)||1===o?e.fill():(e.globalAlpha=o,e.fill(),e.globalAlpha=n)}if(this.hasStroke()&&this._attrs.lineWidth>0){var i=t.strokeOpacity;r.isNil(i)||1===i||(e.globalAlpha=i),e.stroke()}this.afterPath(e)},afterPath:function(){},isHitBox:function(){return!0},isHit:function(e,t){var n=[e,t,1];if(this.invert(n),this.isHitBox()){var r=this.getBBox();if(r&&!a.box(r.minX,r.maxX,r.minY,r.maxY,n[0],n[1]))return!1}var o=this._attrs.clip;return o?(o.invert(n,this.get("canvas")),!!o.isPointInPath(n[0],n[1])&&this.isPointInPath(n[0],n[1])):this.isPointInPath(n[0],n[1])},calculateBox:function(){return null},getHitLineWidth:function(){var e=this._attrs,t=e.lineAppendWidth||0;return(e.lineWidth||0)+t},clearTotalMatrix:function(){this._cfg.totalMatrix=null,this._cfg.region=null},clearBBox:function(){this._cfg.box=null,this._cfg.region=null},getBBox:function(){var e=this._cfg.box;return e||((e=this.calculateBox())&&(e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY),this._cfg.box=e),e},clone:function(){var e=null,t=this._attrs,n={};return r.each(t,function(e,o){s[o]&&r.isArray(t[o])?n[o]=function(e){for(var t=[],n=0;n<e.length;n++)r.isArray(e[n])?t.push([].concat(e[n])):t.push(e[n]);return t}(t[o]):n[o]=t[o]}),(e=new this.constructor({attrs:n}))._cfg.zIndex=this._cfg.zIndex,e}}),e.exports=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setMatrixArrayType=function(e){t.ARRAY_TYPE=e},t.toRadian=function(e){return e*o},t.equals=function(e,t){return Math.abs(e-t)<=r*Math.max(1,Math.abs(e),Math.abs(t))};var r=t.EPSILON=1e-6;t.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,t.RANDOM=Math.random;var o=Math.PI/180},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(115);e.exports=function(e){return r(e,"Function")}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){var n={}.toString;e.exports=function(e,t){return n.call(e)==="[object "+t+"]"}},function(e,t,n){var r;!function(t){"use strict";function o(){}var i=o.prototype,a=t.EventEmitter;function c(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function s(e){return function(){return this[e].apply(this,arguments)}}i.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp)for(n in t={},r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n]);else t=r[e]||(r[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},i.addListener=function(e,t){if(!function e(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&e(t.listener)}(t))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(e),o="object"==typeof t;for(n in r)r.hasOwnProperty(n)&&-1===c(r[n],t)&&r[n].push(o?t:{listener:t,once:!1});return this},i.on=s("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=s("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,t){var n,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&-1!==(n=c(o[r],t))&&o[r].splice(n,1);return this},i.off=s("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var r,o,i=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)i.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(o=t[r])&&("function"==typeof o?i.call(this,r,o):a.call(this,r,o));return this},i.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},i.removeAllListeners=s("removeEvent"),i.emitEvent=function(e,t){var n,r,o,i,a=this.getListenersAsObject(e);for(i in a)if(a.hasOwnProperty(i))for(n=a[i].slice(0),o=0;o<n.length;o++)!0===(r=n[o]).once&&this.removeListener(e,r.listener),r.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},i.trigger=s("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},o.noConflict=function(){return t.EventEmitter=a,o},void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}(this||{})},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(252))},function(e,t){e.exports=function(e){return null!==e&&"function"!=typeof e&&isFinite(e.length)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(115);e.exports=function(e){return r(e,"Number")}},function(e,t){e.exports=function(e){return null===e||void 0===e}},function(e,t,n){"use strict";n.r(t);var r=n(1);function o(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}var i=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],c=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return o((n-r/t)*t,c,i,a,s)}},a=function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],c=e[(r+1)%t],s=e[(r+2)%t];return o((n-r/t)*t,i,a,c,s)}},c=function(e){return function(){return e}};function s(e,t){return function(n){return e+n*t}}function u(e,t){var n=t-e;return n?s(e,n>180||n<-180?n-360*Math.round(n/360):n):c(isNaN(e)?t:e)}function l(e,t){var n=t-e;return n?s(e,n):c(isNaN(e)?t:e)}var f=function e(t){var n=function(e){return 1==(e=+e)?l:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):c(isNaN(t)?n:t)}}(t);function o(e,t){var o=n((e=Object(r.h)(e)).r,(t=Object(r.h)(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),c=l(e.opacity,t.opacity);return function(t){return e.r=o(t),e.g=i(t),e.b=a(t),e.opacity=c(t),e+""}}return o.gamma=e,o}(1);function h(e){return function(t){var n,o,i=t.length,a=new Array(i),c=new Array(i),s=new Array(i);for(n=0;n<i;++n)o=Object(r.h)(t[n]),a[n]=o.r||0,c[n]=o.g||0,s[n]=o.b||0;return a=e(a),c=e(c),s=e(s),o.opacity=1,function(e){return o.r=a(e),o.g=c(e),o.b=s(e),o+""}}}var p,d,g,v,m=h(i),y=h(a),b=function(e,t){var n,r=t?t.length:0,o=e?Math.min(r,e.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=P(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<o;++n)a[n]=i[n](e);return a}},x=function(e,t){var n=new Date;return t-=e=+e,function(r){return n.setTime(e+t*r),n}},w=function(e,t){return t-=e=+e,function(n){return e+t*n}},O=function(e,t){var n,r={},o={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=P(e[n],t[n]):o[n]=t[n];return function(e){for(n in r)o[n]=r[n](e);return o}},S=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,E=new RegExp(S.source,"g"),_=function(e,t){var n,r,o,i=S.lastIndex=E.lastIndex=0,a=-1,c=[],s=[];for(e+="",t+="";(n=S.exec(e))&&(r=E.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),c[a]?c[a]+=o:c[++a]=o),(n=n[0])===(r=r[0])?c[a]?c[a]+=r:c[++a]=r:(c[++a]=null,s.push({i:a,x:w(n,r)})),i=E.lastIndex;return i<t.length&&(o=t.slice(i),c[a]?c[a]+=o:c[++a]=o),c.length<2?s[0]?function(e){return function(t){return e(t)+""}}(s[0].x):function(e){return function(){return e}}(t):(t=s.length,function(e){for(var n,r=0;r<t;++r)c[(n=s[r]).i]=n.x(e);return c.join("")})},P=function(e,t){var n,o=typeof t;return null==t||"boolean"===o?c(t):("number"===o?w:"string"===o?(n=Object(r.a)(t))?(t=n,f):_:t instanceof r.a?f:t instanceof Date?x:Array.isArray(t)?b:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?O:w)(e,t)},C=function(e,t){return t-=e=+e,function(n){return Math.round(e+t*n)}},M=180/Math.PI,k={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},A=function(e,t,n,r,o,i){var a,c,s;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,s/=c),e*r<t*n&&(e=-e,t=-t,s=-s,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*M,skewX:Math.atan(s)*M,scaleX:a,scaleY:c}};function j(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(i,a){var c=[],s=[];return i=e(i),a=e(a),function(e,r,o,i,a,c){if(e!==o||r!==i){var s=a.push("translate(",null,t,null,n);c.push({i:s-4,x:w(e,o)},{i:s-2,x:w(r,i)})}else(o||i)&&a.push("translate("+o+t+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,c,s),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:w(e,t)})):t&&n.push(o(n)+"rotate("+t+r)}(i.rotate,a.rotate,c,s),function(e,t,n,i){e!==t?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:w(e,t)}):t&&n.push(o(n)+"skewX("+t+r)}(i.skewX,a.skewX,c,s),function(e,t,n,r,i,a){if(e!==n||t!==r){var c=i.push(o(i)+"scale(",null,",",null,")");a.push({i:c-4,x:w(e,n)},{i:c-2,x:w(t,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,c,s),i=a=null,function(e){for(var t,n=-1,r=s.length;++n<r;)c[(t=s[n]).i]=t.x(e);return c.join("")}}}var T=j(function(e){return"none"===e?k:(p||(p=document.createElement("DIV"),d=document.documentElement,g=document.defaultView),p.style.transform=e,e=g.getComputedStyle(d.appendChild(p),null).getPropertyValue("transform"),d.removeChild(p),e=e.slice(7,-1).split(","),A(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))},"px, ","px)","deg)"),N=j(function(e){return null==e?k:(v||(v=document.createElementNS("http://www.w3.org/2000/svg","g")),v.setAttribute("transform",e),(e=v.transform.baseVal.consolidate())?(e=e.matrix,A(e.a,e.b,e.c,e.d,e.e,e.f)):k)},", ",")",")"),I=Math.SQRT2;function D(e){return((e=Math.exp(e))+1/e)/2}var L=function(e,t){var n,r,o=e[0],i=e[1],a=e[2],c=t[0],s=t[1],u=t[2],l=c-o,f=s-i,h=l*l+f*f;if(h<1e-12)r=Math.log(u/a)/I,n=function(e){return[o+e*l,i+e*f,a*Math.exp(I*e*r)]};else{var p=Math.sqrt(h),d=(u*u-a*a+4*h)/(2*a*2*p),g=(u*u-a*a-4*h)/(2*u*2*p),v=Math.log(Math.sqrt(d*d+1)-d),m=Math.log(Math.sqrt(g*g+1)-g);r=(m-v)/I,n=function(e){var t=e*r,n=D(v),c=a/(2*p)*(n*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(I*t+v)-function(e){return((e=Math.exp(e))-1/e)/2}(v));return[o+c*l,i+c*f,a*n/D(I*t+v)]}}return n.duration=1e3*r,n};function B(e){return function(t,n){var o=e((t=Object(r.e)(t)).h,(n=Object(r.e)(n)).h),i=l(t.s,n.s),a=l(t.l,n.l),c=l(t.opacity,n.opacity);return function(e){return t.h=o(e),t.s=i(e),t.l=a(e),t.opacity=c(e),t+""}}}var R=B(u),F=B(l);function Y(e,t){var n=l((e=Object(r.f)(e)).l,(t=Object(r.f)(t)).l),o=l(e.a,t.a),i=l(e.b,t.b),a=l(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=o(t),e.b=i(t),e.opacity=a(t),e+""}}function X(e){return function(t,n){var o=e((t=Object(r.d)(t)).h,(n=Object(r.d)(n)).h),i=l(t.c,n.c),a=l(t.l,n.l),c=l(t.opacity,n.opacity);return function(e){return t.h=o(e),t.c=i(e),t.l=a(e),t.opacity=c(e),t+""}}}var G=X(u),V=X(l);function H(e){return function t(n){function o(t,o){var i=e((t=Object(r.b)(t)).h,(o=Object(r.b)(o)).h),a=l(t.s,o.s),c=l(t.l,o.l),s=l(t.opacity,o.opacity);return function(e){return t.h=i(e),t.s=a(e),t.l=c(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,o.gamma=t,o}(1)}var K=H(u),U=H(l),z=function(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n};n.d(t,"interpolate",function(){return P}),n.d(t,"interpolateArray",function(){return b}),n.d(t,"interpolateBasis",function(){return i}),n.d(t,"interpolateBasisClosed",function(){return a}),n.d(t,"interpolateDate",function(){return x}),n.d(t,"interpolateNumber",function(){return w}),n.d(t,"interpolateObject",function(){return O}),n.d(t,"interpolateRound",function(){return C}),n.d(t,"interpolateString",function(){return _}),n.d(t,"interpolateTransformCss",function(){return T}),n.d(t,"interpolateTransformSvg",function(){return N}),n.d(t,"interpolateZoom",function(){return L}),n.d(t,"interpolateRgb",function(){return f}),n.d(t,"interpolateRgbBasis",function(){return m}),n.d(t,"interpolateRgbBasisClosed",function(){return y}),n.d(t,"interpolateHsl",function(){return R}),n.d(t,"interpolateHslLong",function(){return F}),n.d(t,"interpolateLab",function(){return Y}),n.d(t,"interpolateHcl",function(){return G}),n.d(t,"interpolateHclLong",function(){return V}),n.d(t,"interpolateCubehelix",function(){return K}),n.d(t,"interpolateCubehelixLong",function(){return U}),n.d(t,"quantize",function(){return z})},,,,,,,,,function(e,t,n){var r=n(609);e.exports={track:!1,defaultNodeSize:40,labelStyle:{fill:"#595959",textAlign:"center",textBaseline:"middle"},groupStyle:{stroke:"#CED4D9",fill:"#F2F4F5",radius:2},groupBackgroundPadding:[40,10,10,10],updateDuration:450,enterDuration:450,leaveDuration:450,updateEasing:"easeQuadOut",enterEasing:"easeQuadOut",leaveEasing:"easeQuadOut",version:r}},function(e,t,n){e.exports={Canvas:n(747),Group:n(642),Shape:n(58),Arc:n(638),Circle:n(637),Dom:n(636),Ellipse:n(635),Fan:n(634),Image:n(633),Line:n(632),Marker:n(611),Path:n(631),Polygon:n(630),Polyline:n(629),Rect:n(628),Text:n(627),PathSegment:n(600),PathUtil:n(610),Event:n(643),version:"3.3.5"}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(38),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,c=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,c),n=e[c];try{e[c]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[c]=n:delete e[c]),o}},function(e,t,n){var r=n(16),o=n(39),i=NaN,a=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return i;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=s.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):c.test(e)?i:+e}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(20);e.exports=function(){return r.Date.now()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=t.sqrLen=t.len=t.sqrDist=t.dist=t.div=t.mul=t.sub=void 0,t.create=o,t.clone=function(e){var t=new r.ARRAY_TYPE(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},t.length=i,t.fromValues=a,t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},t.set=function(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e},t.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e},t.subtract=c,t.multiply=s,t.divide=u,t.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e},t.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e},t.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e},t.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e},t.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e},t.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e},t.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e},t.distance=l,t.squaredDistance=f,t.squaredLength=h,t.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e},t.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e},t.normalize=p,t.dot=d,t.cross=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[0],c=n[1],s=n[2];return e[0]=o*s-i*c,e[1]=i*a-r*s,e[2]=r*c-o*a,e},t.lerp=function(e,t,n,r){var o=t[0],i=t[1],a=t[2];return e[0]=o+r*(n[0]-o),e[1]=i+r*(n[1]-i),e[2]=a+r*(n[2]-a),e},t.hermite=function(e,t,n,r,o,i){var a=i*i,c=a*(2*i-3)+1,s=a*(i-2)+i,u=a*(i-1),l=a*(3-2*i);return e[0]=t[0]*c+n[0]*s+r[0]*u+o[0]*l,e[1]=t[1]*c+n[1]*s+r[1]*u+o[1]*l,e[2]=t[2]*c+n[2]*s+r[2]*u+o[2]*l,e},t.bezier=function(e,t,n,r,o,i){var a=1-i,c=a*a,s=i*i,u=c*a,l=3*i*c,f=3*s*a,h=s*i;return e[0]=t[0]*u+n[0]*l+r[0]*f+o[0]*h,e[1]=t[1]*u+n[1]*l+r[1]*f+o[1]*h,e[2]=t[2]*u+n[2]*l+r[2]*f+o[2]*h,e},t.random=function(e,t){t=t||1;var n=2*r.RANDOM()*Math.PI,o=2*r.RANDOM()-1,i=Math.sqrt(1-o*o)*t;return e[0]=Math.cos(n)*i,e[1]=Math.sin(n)*i,e[2]=o*t,e},t.transformMat4=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[3]*r+n[7]*o+n[11]*i+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*o+n[8]*i+n[12])/a,e[1]=(n[1]*r+n[5]*o+n[9]*i+n[13])/a,e[2]=(n[2]*r+n[6]*o+n[10]*i+n[14])/a,e},t.transformMat3=function(e,t,n){var r=t[0],o=t[1],i=t[2];return e[0]=r*n[0]+o*n[3]+i*n[6],e[1]=r*n[1]+o*n[4]+i*n[7],e[2]=r*n[2]+o*n[5]+i*n[8],e},t.transformQuat=function(e,t,n){var r=n[0],o=n[1],i=n[2],a=n[3],c=t[0],s=t[1],u=t[2],l=o*u-i*s,f=i*c-r*u,h=r*s-o*c,p=o*h-i*f,d=i*l-r*h,g=r*f-o*l,v=2*a;return l*=v,f*=v,h*=v,p*=2,d*=2,g*=2,e[0]=c+l+p,e[1]=s+f+d,e[2]=u+h+g,e},t.rotateX=function(e,t,n,r){var o=[],i=[];return o[0]=t[0]-n[0],o[1]=t[1]-n[1],o[2]=t[2]-n[2],i[0]=o[0],i[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),i[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e},t.rotateY=function(e,t,n,r){var o=[],i=[];return o[0]=t[0]-n[0],o[1]=t[1]-n[1],o[2]=t[2]-n[2],i[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),i[1]=o[1],i[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e},t.rotateZ=function(e,t,n,r){var o=[],i=[];return o[0]=t[0]-n[0],o[1]=t[1]-n[1],o[2]=t[2]-n[2],i[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),i[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),i[2]=o[2],e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e},t.angle=function(e,t){var n=a(e[0],e[1],e[2]),r=a(t[0],t[1],t[2]);p(n,n),p(r,r);var o=d(n,r);return o>1?0:o<-1?Math.PI:Math.acos(o)},t.str=function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},t.equals=function(e,t){var n=e[0],o=e[1],i=e[2],a=t[0],c=t[1],s=t[2];return Math.abs(n-a)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(o-c)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(i-s)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(59));function o(){var e=new r.ARRAY_TYPE(3);return r.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function i(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}function a(e,t,n){var o=new r.ARRAY_TYPE(3);return o[0]=e,o[1]=t,o[2]=n,o}function c(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function s(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function u(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function l(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return Math.sqrt(n*n+r*r+o*o)}function f(e,t){var n=t[0]-e[0],r=t[1]-e[1],o=t[2]-e[2];return n*n+r*r+o*o}function h(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function p(e,t){var n=t[0],r=t[1],o=t[2],i=n*n+r*r+o*o;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i),e}function d(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}t.sub=c,t.mul=s,t.div=u,t.dist=l,t.sqrDist=f,t.len=i,t.sqrLen=h,t.forEach=function(){var e=o();return function(t,n,r,o,i,a){var c=void 0,s=void 0;for(n||(n=3),r||(r=0),s=o?Math.min(o*n+r,t.length):t.length,c=r;c<s;c+=n)e[0]=t[c],e[1]=t[c+1],e[2]=t[c+2],i(e,e,a),t[c]=e[0],t[c+1]=e[1],t[c+2]=e[2];return t}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=t.sqrLen=t.sqrDist=t.dist=t.div=t.mul=t.sub=t.len=void 0,t.create=o,t.clone=function(e){var t=new r.ARRAY_TYPE(2);return t[0]=e[0],t[1]=e[1],t},t.fromValues=function(e,t){var n=new r.ARRAY_TYPE(2);return n[0]=e,n[1]=t,n},t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e},t.set=function(e,t,n){return e[0]=t,e[1]=n,e},t.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e},t.subtract=i,t.multiply=a,t.divide=c,t.ceil=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e},t.floor=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e},t.min=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e},t.max=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e},t.round=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e},t.scale=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e},t.scaleAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e},t.distance=s,t.squaredDistance=u,t.length=l,t.squaredLength=f,t.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e},t.inverse=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},t.normalize=function(e,t){var n=t[0],r=t[1],o=n*n+r*r;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o),e},t.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},t.cross=function(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e},t.lerp=function(e,t,n,r){var o=t[0],i=t[1];return e[0]=o+r*(n[0]-o),e[1]=i+r*(n[1]-i),e},t.random=function(e,t){t=t||1;var n=2*r.RANDOM()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e},t.transformMat2=function(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[2]*o,e[1]=n[1]*r+n[3]*o,e},t.transformMat2d=function(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[2]*o+n[4],e[1]=n[1]*r+n[3]*o+n[5],e},t.transformMat3=function(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[3]*o+n[6],e[1]=n[1]*r+n[4]*o+n[7],e},t.transformMat4=function(e,t,n){var r=t[0],o=t[1];return e[0]=n[0]*r+n[4]*o+n[12],e[1]=n[1]*r+n[5]*o+n[13],e},t.rotate=function(e,t,n,r){var o=t[0]-n[0],i=t[1]-n[1],a=Math.sin(r),c=Math.cos(r);return e[0]=o*c-i*a+n[0],e[1]=o*a+i*c+n[1],e},t.angle=function(e,t){var n=e[0],r=e[1],o=t[0],i=t[1],a=n*n+r*r;a>0&&(a=1/Math.sqrt(a));var c=o*o+i*i;c>0&&(c=1/Math.sqrt(c));var s=(n*o+r*i)*a*c;return s>1?0:s<-1?Math.PI:Math.acos(s)},t.str=function(e){return"vec2("+e[0]+", "+e[1]+")"},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]},t.equals=function(e,t){var n=e[0],o=e[1],i=t[0],a=t[1];return Math.abs(n-i)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(o-a)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(a))};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(59));function o(){var e=new r.ARRAY_TYPE(2);return r.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0),e}function i(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function a(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function c(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function s(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}function u(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function l(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)}function f(e){var t=e[0],n=e[1];return t*t+n*n}t.len=l,t.sub=i,t.mul=a,t.div=c,t.dist=s,t.sqrDist=u,t.sqrLen=f,t.forEach=function(){var e=o();return function(t,n,r,o,i,a){var c=void 0,s=void 0;for(n||(n=2),r||(r=0),s=o?Math.min(o*n+r,t.length):t.length,c=r;c<s;c+=n)e[0]=t[c],e[1]=t[c+1],i(e,e,a),t[c]=e[0],t[c+1]=e[1];return t}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sub=t.mul=void 0,t.create=function(){var e=new r.ARRAY_TYPE(9);return r.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e},t.fromMat4=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},t.clone=function(e){var t=new r.ARRAY_TYPE(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},t.fromValues=function(e,t,n,o,i,a,c,s,u){var l=new r.ARRAY_TYPE(9);return l[0]=e,l[1]=t,l[2]=n,l[3]=o,l[4]=i,l[5]=a,l[6]=c,l[7]=s,l[8]=u,l},t.set=function(e,t,n,r,o,i,a,c,s,u){return e[0]=t,e[1]=n,e[2]=r,e[3]=o,e[4]=i,e[5]=a,e[6]=c,e[7]=s,e[8]=u,e},t.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},t.transpose=function(e,t){if(e===t){var n=t[1],r=t[2],o=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=o}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},t.invert=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],c=t[5],s=t[6],u=t[7],l=t[8],f=l*a-c*u,h=-l*i+c*s,p=u*i-a*s,d=n*f+r*h+o*p;return d?(d=1/d,e[0]=f*d,e[1]=(-l*r+o*u)*d,e[2]=(c*r-o*a)*d,e[3]=h*d,e[4]=(l*n-o*s)*d,e[5]=(-c*n+o*i)*d,e[6]=p*d,e[7]=(-u*n+r*s)*d,e[8]=(a*n-r*i)*d,e):null},t.adjoint=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],c=t[5],s=t[6],u=t[7],l=t[8];return e[0]=a*l-c*u,e[1]=o*u-r*l,e[2]=r*c-o*a,e[3]=c*s-i*l,e[4]=n*l-o*s,e[5]=o*i-n*c,e[6]=i*u-a*s,e[7]=r*s-n*u,e[8]=n*a-r*i,e},t.determinant=function(e){var t=e[0],n=e[1],r=e[2],o=e[3],i=e[4],a=e[5],c=e[6],s=e[7],u=e[8];return t*(u*i-a*s)+n*(-u*o+a*c)+r*(s*o-i*c)},t.multiply=o,t.translate=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],c=t[4],s=t[5],u=t[6],l=t[7],f=t[8],h=n[0],p=n[1];return e[0]=r,e[1]=o,e[2]=i,e[3]=a,e[4]=c,e[5]=s,e[6]=h*r+p*a+u,e[7]=h*o+p*c+l,e[8]=h*i+p*s+f,e},t.rotate=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],c=t[4],s=t[5],u=t[6],l=t[7],f=t[8],h=Math.sin(n),p=Math.cos(n);return e[0]=p*r+h*a,e[1]=p*o+h*c,e[2]=p*i+h*s,e[3]=p*a-h*r,e[4]=p*c-h*o,e[5]=p*s-h*i,e[6]=u,e[7]=l,e[8]=f,e},t.scale=function(e,t,n){var r=n[0],o=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=o*t[3],e[4]=o*t[4],e[5]=o*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},t.fromTranslation=function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e},t.fromRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},t.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},t.fromMat2d=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e},t.fromQuat=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=n+n,c=r+r,s=o+o,u=n*a,l=r*a,f=r*c,h=o*a,p=o*c,d=o*s,g=i*a,v=i*c,m=i*s;return e[0]=1-f-d,e[3]=l-m,e[6]=h+v,e[1]=l+m,e[4]=1-u-d,e[7]=p-g,e[2]=h-v,e[5]=p+g,e[8]=1-u-f,e},t.normalFromMat4=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],c=t[5],s=t[6],u=t[7],l=t[8],f=t[9],h=t[10],p=t[11],d=t[12],g=t[13],v=t[14],m=t[15],y=n*c-r*a,b=n*s-o*a,x=n*u-i*a,w=r*s-o*c,O=r*u-i*c,S=o*u-i*s,E=l*g-f*d,_=l*v-h*d,P=l*m-p*d,C=f*v-h*g,M=f*m-p*g,k=h*m-p*v,A=y*k-b*M+x*C+w*P-O*_+S*E;return A?(A=1/A,e[0]=(c*k-s*M+u*C)*A,e[1]=(s*P-a*k-u*_)*A,e[2]=(a*M-c*P+u*E)*A,e[3]=(o*M-r*k-i*C)*A,e[4]=(n*k-o*P+i*_)*A,e[5]=(r*P-n*M-i*E)*A,e[6]=(g*S-v*O+m*w)*A,e[7]=(v*x-d*S-m*b)*A,e[8]=(d*O-g*x+m*y)*A,e):null},t.projection=function(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e},t.str=function(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"},t.frob=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))},t.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e},t.subtract=i,t.multiplyScalar=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e},t.multiplyScalarAndAdd=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e},t.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},t.equals=function(e,t){var n=e[0],o=e[1],i=e[2],a=e[3],c=e[4],s=e[5],u=e[6],l=e[7],f=e[8],h=t[0],p=t[1],d=t[2],g=t[3],v=t[4],m=t[5],y=t[6],b=t[7],x=t[8];return Math.abs(n-h)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(o-p)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(i-d)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(a-g)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(c-v)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(v))&&Math.abs(s-m)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(u-y)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(l-b)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(b))&&Math.abs(f-x)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(x))};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(59));function o(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],c=t[4],s=t[5],u=t[6],l=t[7],f=t[8],h=n[0],p=n[1],d=n[2],g=n[3],v=n[4],m=n[5],y=n[6],b=n[7],x=n[8];return e[0]=h*r+p*a+d*u,e[1]=h*o+p*c+d*l,e[2]=h*i+p*s+d*f,e[3]=g*r+v*a+m*u,e[4]=g*o+v*c+m*l,e[5]=g*i+v*s+m*f,e[6]=y*r+b*a+x*u,e[7]=y*o+b*c+x*l,e[8]=y*i+b*s+x*f,e}function i(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}t.mul=o,t.sub=i},function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=5,i=n(819);Math.sign=function(e){return 0===(e=+e)||isNaN(e)?e:e>0?1:-1};var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}({},i,{throttle:n(749),debounce:n(645),omit:function(e,t){var n={};return i.each(e,function(e,r){-1===t.indexOf(r)&&(n[r]=e)}),n},traverseTree:function(e,t,n,r){void 0===r&&(r=!1);var o=n(e);r&&t(e,null,null),o&&a.each(o,function(r,o){t(r,e,o),a.traverseTree(r,t,n)})},toAllPadding:function(e){var t=0,n=0,r=0,o=0;return a.isNumber(e)||a.isString(e)?t=n=r=o=e:a.isArray(e)&&(t=e[0],r=a.isNil(e[1])?e[0]:e[1],o=a.isNil(e[2])?e[0]:e[2],n=a.isNil(e[3])?r:e[3]),[t,r,o,n]},guid:function(){return"xxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},mix:function(){var e,t,n=a.toArray(arguments),r=n[0];if(!0===r)for(r=n[1],t=2;t<n.length;t++)c(r,e=n[t]);else for(t=1;t<n.length;t++)for(var o in e=n[t])e.hasOwnProperty(o)&&"constructor"!==o&&(r[o]=e[o]);return r},mixin:function(e,t){e&&t&&(e._mixins=t,e.ATTRS=e.ATTRS||{},a.each(t,function(t){a.augment(e,t)}),e.ATTRS=a.mix({},e.ATTRS))}});function c(e,t,n){for(var r in n=n||0,t)if(t.hasOwnProperty(r)){var i=t[r];null!==i&&a.isPlainObject(i)?(a.isPlainObject(e[r])||(e[r]={}),n<o?c(e[r],t[r],n+1):e[r]=t[r]):a.isArray(i)?(e[r]=[],e[r]=e[r].concat(i)):void 0!==i&&(e[r]=t[r])}}a.Array={remove:function(e,t){var n=a.indexOf(e,t);-1!==n&&e.splice(n,1)}},e.exports=a},function(e,t,n){var r=n(26),o={},i={draw:function(){}},a={defaultShapeType:null,getShape:function(e,t){return this[e]||this[t]||this[this.defaultShapeType]||i},getExtendShape:function(e,t){var n=this;if(r.isArray(e)){var o={};return e.forEach(function(e){n[e]&&(o=r.mix({},o,n.getShape(e,t)))}),o}return this.getShape(e,t)}};o.registerShapeManager=function(e,t){var n=r.mix({},a,t),i=r.upperFirst(e);return o[i]=n,o["register"+i]=function(e,t,o,i){r.isNil(o)&&r.isNil(i)&&(o=e);var a=n.getExtendShape(o,i),c=r.mix(!0,{},a,t);return c.type=e,n[e]=c,c},n},e.exports=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(19),o=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,i=/[^\s\,]+/gi;e.exports={parseRadius:function(e){var t=0,n=0,o=0,i=0;return r.isArray(e)?1===e.length?t=n=o=i=e[0]:2===e.length?(t=o=e[0],n=i=e[1]):3===e.length?(t=e[0],n=i=e[1],o=e[2]):(t=e[0],n=e[1],o=e[2],i=e[3]):t=n=o=i=e,{r1:t,r2:n,r3:o,r4:i}},parsePath:function(e){return e=e||[],r.isArray(e)?e:r.isString(e)?(e=e.match(o),r.each(e,function(t,n){if((t=t.match(i))[0].length>1){var o=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=o}r.each(t,function(e,n){isNaN(e)||(t[n]=+e)}),e[n]=t}),e):void 0}}},function(e,t,n){var r=n(237);e.exports=function(e){return r(e)?"":e.toString()}},function(e,t,n){var r=n(115);e.exports=function(e){return r(e,"String")}},function(e,t,n){var r=n(619),o=n(115);e.exports=function(e){if(!r(e)||!o(e,"Object"))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},function(e,t,n){var r=function(e){function t(t){var n;return(n=e.call(this)||this).options=t,n}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e),t.prototype.execute=function(){var e=this,t=this.options;this.roots.forEach(function(n){e.layout(n,t).eachNode(function(e){e.data.x=e.x+e.data.width/2+e.hgap,e.data.y=e.y+e.data.height/2+e.vgap})})},t}(n(622));e.exports=r},function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){var r=n(7);e.exports={assign:r}},function(e,t,n){var r=n(3),o=function(){function e(e,t){void 0===t&&(t={}),this.options=t,this.rootNode=r(e,t)}return e.prototype.execute=function(){throw new Error("please override this method")},e}();e.exports=o},function(e,t,n){var r=n(4),o=["LR","RL","TB","BT","H","V"],i=["LR","RL","H"],a=o[0];e.exports=function(e,t,n){var c=t.direction||a;if(t.isHorizontal=function(e){return i.indexOf(e)>-1}(c),c&&-1===o.indexOf(c))throw new TypeError("Invalid direction: "+c);if(c===o[0])n(e,t);else if(c===o[1])n(e,t),e.right2left();else if(c===o[2])n(e,t);else if(c===o[3])n(e,t),e.bottom2top();else if(c===o[4]||c===o[5]){var s=r(e,t),u=s.left,l=s.right;n(u,t),n(l,t),t.isHorizontal?u.right2left():u.bottom2top(),l.translate(u.x-l.x,u.y-l.y),e.x=u.x,e.y=l.y;var f=e.getBoundingBox();t.isHorizontal?f.top<0&&e.translate(0,-f.top):f.left<0&&e.translate(-f.left,0)}return e.translate(-(e.x+e.width/2+e.hgap),-(e.y+e.height/2+e.vgap)),e}},function(e,t,n){var r=n(0),o={getId:function(e){return e.id||e.name},getHGap:function(e){return e.hgap||18},getVGap:function(e){return e.vgap||18},getChildren:function(e){return e.children},getHeight:function(e){return e.height||36},getWidth:function(e){var t=e.name||" ";return e.width||18*t.split("").length}};function i(e,t){var n=this;if(n.vgap=n.hgap=0,e instanceof i)return e;n.data=e;var r=t.getHGap(e),o=t.getVGap(e);return n.width=t.getWidth(e),n.height=t.getHeight(e),n.id=t.getId(e),n.x=n.y=0,n.depth=0,n.children||(n.children=[]),n.addGap(r,o),n}r.assign(i.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(e,t){this.hgap+=e,this.vgap+=t,this.width+=2*e,this.height+=2*t},eachNode:function(e){for(var t,n=[this];t=n.pop();)e(t),n=n.concat(t.children)},DFTraverse:function(e){this.eachNode(e)},BFTraverse:function(e){for(var t,n=[this];t=n.shift();)e(t),n=n.concat(t.children)},getBoundingBox:function(){var e={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(t){e.left=Math.min(e.left,t.x),e.top=Math.min(e.top,t.y),e.width=Math.max(e.width,t.x+t.width),e.height=Math.max(e.height,t.y+t.height)}),e},translate:function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.eachNode(function(n){n.x+=e,n.y+=t})},right2left:function(){var e=this.getBoundingBox();this.eachNode(function(t){t.x=t.x-2*(t.x-e.left)-t.width}),this.translate(e.width,0)},bottom2top:function(){var e=this.getBoundingBox();this.eachNode(function(t){t.y=t.y-2*(t.y-e.top)-t.height}),this.translate(0,e.height)}}),e.exports=function(e,t,n){void 0===t&&(t={});var a,c=new i(e,t=r.assign({},o,t)),s=[c];if(!n&&!e.collapsed)for(;a=s.pop();)if(!a.data.collapsed){var u=t.getChildren(a.data),l=u?u.length:0;if(a.children=new Array(l),u&&l)for(var f=0;f<l;f++){var h=new i(u[f],t);a.children[f]=h,s.push(h),h.parent=a,h.depth=a.depth+1}}return c}},function(e,t,n){var r=n(3);e.exports=function(e,t){for(var n=r(e.data,t,!0),o=r(e.data,t,!0),i=e.children.length,a=Math.round(i/2),c=t.getSide||function(e,t){return t<a?"right":"left"},s=0;s<i;s++){var u=e.children[s];"right"===c(u,s)?o.children.push(u):n.children.push(u)}return n.eachNode(function(e){e.isRoot()||(e.side="left")}),o.eachNode(function(e){e.isRoot()||(e.side="right")}),{left:n,right:o}}},function(e,t,n){var r={compactBox:n(6),dendrogram:n(9),indented:n(11),mindmap:n(13)};e.exports=r},function(e,t,n){var r=n(1),o=n(8),i=n(2),a=n(0),c=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e),t.prototype.execute=function(){return i(this.rootNode,this.options,o)},t}(r),s={};e.exports=function(e,t){return t=a.assign({},s,t),new c(e,t).execute()}},function(e,t){function n(e,t){for(var n in t)t.hasOwnProperty(n)&&"constructor"!==n&&void 0!==t[n]&&(e[n]=t[n])}e.exports=function(e,t,r,o){return t&&n(e,t),r&&n(e,r),o&&n(e,o),e}},function(e,t){function n(e,t,n,r){void 0===r&&(r=[]);var o=this;o.w=e||0,o.h=t||0,o.y=n||0,o.x=0,o.c=r||[],o.cs=r.length,o.prelim=0,o.mod=0,o.shift=0,o.change=0,o.tl=null,o.tr=null,o.el=null,o.er=null,o.msel=0,o.mser=0}n.fromNode=function(e,t){if(!e)return null;var r=[];return e.children.forEach(function(e){r.push(n.fromNode(e,t))}),t?new n(e.height,e.width,e.x,r):new n(e.width,e.height,e.y,r)},e.exports=function(e,t){void 0===t&&(t={});var r=t.isHorizontal;function o(e){0===e.cs?(e.el=e,e.er=e,e.msel=e.mser=0):(e.el=e.c[0].el,e.msel=e.c[0].msel,e.er=e.c[e.cs-1].er,e.mser=e.c[e.cs-1].mser)}function i(e,t,n){for(var r=e.c[t-1],o=r.mod,i=e.c[t],l=i.mod;null!==r&&null!==i;){u(r)>n.low&&(n=n.nxt);var f=o+r.prelim+r.w-(l+i.prelim);f>0&&(l+=f,a(e,t,n.index,f));var h=u(r),p=u(i);h<=p&&null!==(r=s(r))&&(o+=r.mod),h>=p&&null!==(i=c(i))&&(l+=i.mod)}!r&&i?function(e,t,n,r){var o=e.c[0].el;o.tl=n;var i=r-n.mod-e.c[0].msel;o.mod+=i,o.prelim-=i,e.c[0].el=e.c[t].el,e.c[0].msel=e.c[t].msel}(e,t,i,l):r&&!i&&function(e,t,n,r){var o=e.c[t].er;o.tr=n;var i=r-n.mod-e.c[t].mser;o.mod+=i,o.prelim-=i,e.c[t].er=e.c[t-1].er,e.c[t].mser=e.c[t-1].mser}(e,t,r,o)}function a(e,t,n,r){e.c[t].mod+=r,e.c[t].msel+=r,e.c[t].mser+=r,function(e,t,n,r){if(n!==t-1){var o=t-n;e.c[n+1].shift+=r/o,e.c[t].shift-=r/o,e.c[t].change-=r-r/o}}(e,t,n,r)}function c(e){return 0===e.cs?e.tl:e.c[0]}function s(e){return 0===e.cs?e.tr:e.c[e.cs-1]}function u(e){return e.y+e.h}function l(e,t,n){for(;null!==n&&e>=n.low;)n=n.nxt;return{low:e,index:t,nxt:n}}!function e(t,n,r){void 0===r&&(r=0),n?(t.x=r,r+=t.width):(t.y=r,r+=t.height),t.children.forEach(function(t){e(t,n,r)})}(e,r);var f=n.fromNode(e,r);return function e(t){if(0!==t.cs){e(t.c[0]);for(var n=l(u(t.c[0].el),0,null),r=1;r<t.cs;++r){e(t.c[r]);var a=u(t.c[r].er);i(t,r,n),n=l(a,r,n)}!function(e){e.prelim=(e.c[0].prelim+e.c[0].mod+e.c[e.cs-1].mod+e.c[e.cs-1].prelim+e.c[e.cs-1].w)/2-e.w/2}(t),o(t)}else o(t)}(f),function e(t,n){n+=t.mod,t.x=t.prelim+n,function(e){for(var t=0,n=0,r=0;r<e.cs;r++)t+=e.c[r].shift,n+=t+e.c[r].change,e.c[r].mod+=n}(t);for(var r=0;r<t.cs;r++)e(t.c[r],n)}(f,0),function e(t,n,r){r?n.y=t.x:n.x=t.x,t.c.forEach(function(t,o){e(t,n.children[o],r)})}(f,e,r),function(e,t){!function e(t,n,r){r?t.y+=n:t.x+=n,t.children.forEach(function(t){e(t,n,r)})}(e,-function e(t,n){var r=n?t.y:t.x;return t.children.forEach(function(t){r=Math.min(e(t,n),r)}),r}(e,t),t)}(e,r),e}},function(e,t,n){var r=n(1),o=n(10),i=n(2),a=n(0),c=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e),t.prototype.execute=function(){return this.rootNode.width=0,i(this.rootNode,this.options,o)},t}(r),s={};e.exports=function(e,t){return t=a.assign({},s,t),new c(e,t).execute()}},function(e,t,n){var r=n(0),o={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};e.exports=function(e,t){void 0===t&&(t={}),t=r.assign({},o,t);var n,i=0,a=function e(t){if(!t)return null;t.width=0,t.depth&&t.depth>i&&(i=t.depth);var n=t.children,r=n.length,o=new function(e,t){void 0===e&&(e=0),void 0===t&&(t=[]);var n=this;n.x=n.y=0,n.leftChild=n.rightChild=null,n.height=0,n.children=t}(t.height,[]);return n.forEach(function(t,n){var i=e(t);o.children.push(i),0===n&&(o.leftChild=i),n===r-1&&(o.rightChild=i)}),o.originNode=t,o.isLeaf=t.isLeaf(),o}(e);return function e(t){if(t.isLeaf||0===t.children.length)t.drawingDepth=i;else{var n=t.children.map(function(t){return e(t)}),r=Math.min.apply(null,n);t.drawingDepth=r-1}return t.drawingDepth}(a),function e(r){r.x=r.drawingDepth*t.rankSep,r.isLeaf?(r.y=0,n&&(r.y=n.y+n.height+t.nodeSep,r.originNode.parent!==n.originNode.parent&&(r.y+=t.subTreeSep)),n=r):(r.children.forEach(function(t){e(t)}),r.y=(r.leftChild.y+r.rightChild.y)/2)}(a),function e(t,n,r){r?(n.x=t.x,n.y=t.y):(n.x=t.y,n.y=t.x),t.children.forEach(function(t,o){e(t,n.children[o],r)})}(a,e,t.isHorizontal),e}},function(e,t,n){var r=n(1),o=n(12),i=n(4),a=n(0),c=["LR","RL","H"],s=c[0],u=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e),t.prototype.execute=function(){var e=this.options,t=this.rootNode;e.isHorizontal=!0;var n=e.indent,r=e.direction||s;if(r&&-1===c.indexOf(r))throw new TypeError("Invalid direction: "+r);if(r===c[0])o(t,n);else if(r===c[1])o(t,n),t.right2left();else if(r===c[2]){var a=i(t,e),u=a.left,l=a.right;o(u,n),u.right2left(),o(l,n);var f=u.getBoundingBox();l.translate(f.width,0),t.x=l.x-t.width/2}return t},t}(r),l={};e.exports=function(e,t){return t=a.assign({},l,t),new u(e,t).execute()}},function(e,t){e.exports=function(e,t){void 0===t&&(t=20);var n=null;e.eachNode(function(e){!function(e,t,n){e.x+=n*e.depth,e.y=t?t.y+t.height:0}(e,n,t),n=e})}},function(e,t,n){var r=n(1),o=n(14),i=n(2),a=n(0),c=function(e){function t(){return e.apply(this,arguments)||this}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e),t.prototype.execute=function(){return i(this.rootNode,this.options,o)},t}(r),s={};e.exports=function(e,t){return t=a.assign({},s,t),new c(e,t).execute()}},function(e,t,n){var r=n(0),o={getSubTreeSep:function(){return 0}};e.exports=function(e,t){void 0===t&&(t={}),t=r.assign({},o,t),e.parent={x:0,width:0,height:0,y:0},e.BFTraverse(function(e){e.x=e.parent.x+e.parent.width}),e.parent=null,function e(t,n){var r=0;return t.children.length?t.children.forEach(function(t){r+=e(t,n)}):r=t.height,t._subTreeSep=n.getSubTreeSep(t.data),t.totalHeight=Math.max(t.height,r)+2*t._subTreeSep,t.totalHeight}(e,t),e.startY=0,e.y=e.totalHeight/2-e.height/2,e.eachNode(function(e){var t=e.children,n=t.length;if(n){var r=t[0];if(r.startY=e.startY+e._subTreeSep,1===n)r.y=e.y+e.height/2-r.height/2;else{r.y=r.startY+r.totalHeight/2-r.height/2;for(var o=1;o<n;o++){var i=t[o];i.startY=t[o-1].startY+t[o-1].totalHeight,i.y=i.startY+i.totalHeight/2-i.height/2}}}}),function e(t){var n=t.children,r=n.length;if(r){n.forEach(function(t){e(t)});var o=n[0],i=n[r-1],a=i.y-o.y+i.height,c=0;if(n.forEach(function(e){c+=e.totalHeight}),a>t.height)t.y=o.y+a/2-t.height/2;else if(1!==n.length||t.height>c){var s=t.y+(t.height-a)/2-o.y;n.forEach(function(e){e.translate(0,s)})}else t.y=(o.y+o.height/2+i.y+i.height/2)/2-t.height/2}}(e)}}])},function(e,t,n){var r=n(26),o=function(){var e=t.prototype;function t(e){var t=this.getDefaultCfg();r.mix(this,t,e),this._init()}return e.getDefaultCfg=function(){return{}},e._init=function(){},e.destroy=function(){},t}();e.exports=o},function(e,t,n){var r=n(19),o=n(613),i=n(612),a=n(640),c=n(639),s=r.vec3,u=r.mat3,l=["m","l","c","a","q","h","v","t","s","z"];function f(e,t,n){return{x:n.x+e,y:n.y+t}}function h(e,t){return{x:t.x+(t.x-e.x),y:t.y+(t.y-e.y)}}function p(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function d(e,t){return(e[0]*t[0]+e[1]*t[1])/(p(e)*p(t))}function g(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(d(e,t))}var v=function(e,t,n){this.preSegment=t,this.isLast=n,this.init(e,t)};r.augment(v,{init:function(e,t){var n=e[0];t=t||{endPoint:{x:0,y:0}};var o,i,a,c,s=l.indexOf(n)>=0,u=s?n.toUpperCase():n,p=e,v=t.endPoint,m=p[1],y=p[2];switch(u){default:break;case"M":c=s?f(m,y,v):{x:m,y:y},this.command="M",this.params=[v,c],this.subStart=c,this.endPoint=c;break;case"L":c=s?f(m,y,v):{x:m,y:y},this.command="L",this.params=[v,c],this.subStart=t.subStart,this.endPoint=c,this.endTangent=function(){return[c.x-v.x,c.y-v.y]},this.startTangent=function(){return[v.x-c.x,v.y-c.y]};break;case"H":c=s?f(m,0,v):{x:m,y:v.y},this.command="L",this.params=[v,c],this.subStart=t.subStart,this.endPoint=c,this.endTangent=function(){return[c.x-v.x,c.y-v.y]},this.startTangent=function(){return[v.x-c.x,v.y-c.y]};break;case"V":c=s?f(0,m,v):{x:v.x,y:m},this.command="L",this.params=[v,c],this.subStart=t.subStart,this.endPoint=c,this.endTangent=function(){return[c.x-v.x,c.y-v.y]},this.startTangent=function(){return[v.x-c.x,v.y-c.y]};break;case"Q":s?(o=f(m,y,v),i=f(p[3],p[4],v)):(o={x:m,y:y},i={x:p[3],y:p[4]}),this.command="Q",this.params=[v,o,i],this.subStart=t.subStart,this.endPoint=i,this.endTangent=function(){return[i.x-o.x,i.y-o.y]},this.startTangent=function(){return[v.x-o.x,v.y-o.y]};break;case"T":i=s?f(m,y,v):{x:m,y:y},"Q"===t.command?(o=h(t.params[1],v),this.command="Q",this.params=[v,o,i],this.subStart=t.subStart,this.endPoint=i,this.endTangent=function(){return[i.x-o.x,i.y-o.y]},this.startTangent=function(){return[v.x-o.x,v.y-o.y]}):(this.command="TL",this.params=[v,i],this.subStart=t.subStart,this.endPoint=i,this.endTangent=function(){return[i.x-v.x,i.y-v.y]},this.startTangent=function(){return[v.x-i.x,v.y-i.y]});break;case"C":s?(o=f(m,y,v),i=f(p[3],p[4],v),a=f(p[5],p[6],v)):(o={x:m,y:y},i={x:p[3],y:p[4]},a={x:p[5],y:p[6]}),this.command="C",this.params=[v,o,i,a],this.subStart=t.subStart,this.endPoint=a,this.endTangent=function(){return[a.x-i.x,a.y-i.y]},this.startTangent=function(){return[v.x-o.x,v.y-o.y]};break;case"S":s?(i=f(m,y,v),a=f(p[3],p[4],v)):(i={x:m,y:y},a={x:p[3],y:p[4]}),"C"===t.command?(o=h(t.params[2],v),this.command="C",this.params=[v,o,i,a],this.subStart=t.subStart,this.endPoint=a,this.endTangent=function(){return[a.x-i.x,a.y-i.y]},this.startTangent=function(){return[v.x-o.x,v.y-o.y]}):(this.command="SQ",this.params=[v,i,a],this.subStart=t.subStart,this.endPoint=a,this.endTangent=function(){return[a.x-i.x,a.y-i.y]},this.startTangent=function(){return[v.x-i.x,v.y-i.y]});break;case"A":var b=m,x=y,w=p[3],O=p[4],S=p[5];c=s?f(p[6],p[7],v):{x:p[6],y:p[7]},this.command="A";var E=function(e,t,n,o,i,a,c){var s=r.mod(r.toRadian(c),2*Math.PI),u=e.x,l=e.y,f=t.x,h=t.y,p=Math.cos(s)*(u-f)/2+Math.sin(s)*(l-h)/2,v=-1*Math.sin(s)*(u-f)/2+Math.cos(s)*(l-h)/2,m=p*p/(i*i)+v*v/(a*a);m>1&&(i*=Math.sqrt(m),a*=Math.sqrt(m));var y=i*i*(v*v)+a*a*(p*p),b=Math.sqrt((i*i*(a*a)-y)/y);n===o&&(b*=-1),isNaN(b)&&(b=0);var x=b*i*v/a,w=b*-a*p/i,O=(u+f)/2+Math.cos(s)*x-Math.sin(s)*w,S=(l+h)/2+Math.sin(s)*x+Math.cos(s)*w,E=g([1,0],[(p-x)/i,(v-w)/a]),_=[(p-x)/i,(v-w)/a],P=[(-1*p-x)/i,(-1*v-w)/a],C=g(_,P);return d(_,P)<=-1&&(C=Math.PI),d(_,P)>=1&&(C=0),0===o&&C>0&&(C-=2*Math.PI),1===o&&C<0&&(C+=2*Math.PI),[e,O,S,i,a,E,C,s,o]}(v,c,O,S,b,x,w);this.params=E;var _=t.subStart;this.subStart=_,this.endPoint=c;var P=E[5]%(2*Math.PI);r.isNumberEqual(P,2*Math.PI)&&(P=0);var C=E[6]%(2*Math.PI);r.isNumberEqual(C,2*Math.PI)&&(C=0);var M=.001;this.startTangent=function(){0===S&&(M*=-1);var e=E[3]*Math.cos(P-M)+E[1],t=E[4]*Math.sin(P-M)+E[2];return[e-_.x,t-_.y]},this.endTangent=function(){var e=E[6];e-2*Math.PI<1e-4&&(e=0);var t=E[3]*Math.cos(P+e+M)+E[1],n=E[4]*Math.sin(P+e-M)+E[2];return[v.x-t,v.y-n]};break;case"Z":this.command="Z",this.params=[v,t.subStart],this.subStart=t.subStart,this.endPoint=t.subStart}},isInside:function(e,t,n){var r=this.command,i=this.params,a=this.box;if(a&&!o.box(a.minX,a.maxX,a.minY,a.maxY,e,t))return!1;switch(r){default:break;case"M":return!1;case"TL":case"L":case"Z":return o.line(i[0].x,i[0].y,i[1].x,i[1].y,n,e,t);case"SQ":case"Q":return o.quadraticline(i[0].x,i[0].y,i[1].x,i[1].y,i[2].x,i[2].y,n,e,t);case"C":return o.cubicline(i[0].x,i[0].y,i[1].x,i[1].y,i[2].x,i[2].y,i[3].x,i[3].y,n,e,t);case"A":var c=i,l=c[1],f=c[2],h=c[3],p=c[4],d=c[5],g=c[6],v=c[7],m=c[8],y=h>p?h:p,b=h>p?1:h/p,x=h>p?p/h:1;c=[e,t,1];var w=[1,0,0,0,1,0,0,0,1];return u.translate(w,w,[-l,-f]),u.rotate(w,w,-v),u.scale(w,w,[1/b,1/x]),s.transformMat3(c,c,w),o.arcline(0,0,y,d,d+g,1-m,n,c[0],c[1])}return!1},draw:function(e){var t,n,r,o=this.command,i=this.params;switch(o){default:break;case"M":e.moveTo(i[1].x,i[1].y);break;case"TL":case"L":e.lineTo(i[1].x,i[1].y);break;case"SQ":case"Q":t=i[1],n=i[2],e.quadraticCurveTo(t.x,t.y,n.x,n.y);break;case"C":t=i[1],n=i[2],r=i[3],e.bezierCurveTo(t.x,t.y,n.x,n.y,r.x,r.y);break;case"A":var a=i,c=a[1],s=a[2],u=a[3],l=a[4],f=a[5],h=a[6],p=a[7],d=a[8],g=u>l?u:l,v=u>l?1:u/l,m=u>l?l/u:1;e.translate(c,s),e.rotate(p),e.scale(v,m),e.arc(0,0,g,f,f+h,1-d),e.scale(1/v,1/m),e.rotate(-p),e.translate(-c,-s);break;case"Z":e.closePath()}},getBBox:function(e){var t,n,r,o,s=e/2,u=this.params;switch(this.command){default:case"M":case"Z":break;case"TL":case"L":this.box={minX:Math.min(u[0].x,u[1].x)-s,maxX:Math.max(u[0].x,u[1].x)+s,minY:Math.min(u[0].y,u[1].y)-s,maxY:Math.max(u[0].y,u[1].y)+s};break;case"SQ":case"Q":for(r=0,o=(n=a.extrema(u[0].x,u[1].x,u[2].x)).length;r<o;r++)n[r]=a.at(u[0].x,u[1].x,u[2].x,n[r]);for(n.push(u[0].x,u[2].x),r=0,o=(t=a.extrema(u[0].y,u[1].y,u[2].y)).length;r<o;r++)t[r]=a.at(u[0].y,u[1].y,u[2].y,t);t.push(u[0].y,u[2].y),this.box={minX:Math.min.apply(Math,n)-s,maxX:Math.max.apply(Math,n)+s,minY:Math.min.apply(Math,t)-s,maxY:Math.max.apply(Math,t)+s};break;case"C":for(r=0,o=(n=i.extrema(u[0].x,u[1].x,u[2].x,u[3].x)).length;r<o;r++)n[r]=i.at(u[0].x,u[1].x,u[2].x,u[3].x,n[r]);for(r=0,o=(t=i.extrema(u[0].y,u[1].y,u[2].y,u[3].y)).length;r<o;r++)t[r]=i.at(u[0].y,u[1].y,u[2].y,u[3].y,t[r]);n.push(u[0].x,u[3].x),t.push(u[0].y,u[3].y),this.box={minX:Math.min.apply(Math,n)-s,maxX:Math.max.apply(Math,n)+s,minY:Math.min.apply(Math,t)-s,maxY:Math.max.apply(Math,t)+s};break;case"A":var l=u,f=l[1],h=l[2],p=l[3],d=l[4],g=l[5],v=l[6],m=l[7],y=l[8],b=g,x=g+v,w=c.xExtrema(m,p,d),O=1/0,S=-1/0,E=[b,x];for(r=2*-Math.PI;r<=2*Math.PI;r+=Math.PI){var _=w+r;1===y?b<_&&_<x&&E.push(_):x<_&&_<b&&E.push(_)}for(r=0,o=E.length;r<o;r++){var P=c.xAt(m,p,d,f,E[r]);P<O&&(O=P),P>S&&(S=P)}var C=c.yExtrema(m,p,d),M=1/0,k=-1/0,A=[b,x];for(r=2*-Math.PI;r<=2*Math.PI;r+=Math.PI){var j=C+r;1===y?b<j&&j<x&&A.push(j):x<j&&j<b&&A.push(j)}for(r=0,o=A.length;r<o;r++){var T=c.yAt(m,p,d,h,A[r]);T<M&&(M=T),T>k&&(k=T)}this.box={minX:O-s,maxX:S+s,minY:M-s,maxY:k+s}}}}),e.exports=v},function(e,t,n){var r=n(593),o=n(600),i=Math.PI,a=Math.sin,c=Math.cos,s=Math.atan2,u=10,l=i/3;function f(e,t,n,r,o,f,h){var p,d,g,v,m,y,b;if(!t.fill){var x=t.arrowLength||u,w=t.arrowAngle?t.arrowAngle*i/180:l;b=s(r-f,n-o),m=Math.abs(t.lineWidth*c(b))/2,y=Math.abs(t.lineWidth*a(b))/2,h&&(m=-m,y=-y),p=o+x*c(b+w/2),d=f+x*a(b+w/2),g=o+x*c(b-w/2),v=f+x*a(b-w/2),e.beginPath(),e.moveTo(p-m,d-y),e.lineTo(o-m,f-y),e.lineTo(g-m,v-y),e.moveTo(o-m,f-y),e.lineTo(o+m,f+y),e.moveTo(o,f),e.stroke()}}function h(e,t,n,i,a,c,s){var u=s?t.startArrow:t.endArrow,l=u.d,f=0,h=a-n,p=c-i,d=Math.atan(h/p);0===p&&h<0?f=Math.PI:h>0&&p>0?f=Math.PI/2-d:h<0&&p<0?f=-Math.PI/2-d:h>=0&&p<0?f=-d-Math.PI/2:h<=0&&p>0&&(f=Math.PI/2-d);var g=function(e){var t,n=[],i=r.parsePath(e.path);if(!Array.isArray(i)||0===i.length||"M"!==i[0][0]&&"m"!==i[0][0])return!1;for(var a=i.length,c=0;c<i.length;c++){var s=i[c];t=new o(s,t,c===a-1),n.push(t)}return n}(u);if(g){l&&(s?(a+=Math.sin(Math.abs(d))*l,c=c+Math.cos(Math.abs(d))*l-.5*e.lineWidth):(a-=Math.sin(Math.abs(d))*l,c=c-Math.cos(Math.abs(d))*l+.5*e.lineWidth)),e.save(),e.beginPath(),e.translate(a,c),e.rotate(f);for(var v=0;v<g.length;v++)g[v].draw(e);e.setTransform(1,0,0,1,0,0),e.fillStyle=e.strokeStyle,e.fill(),e.restore()}}e.exports={addStartArrow:function(e,t,n,r,o,i){"object"==typeof t.startArrow?h(e,t,n,r,o,i,!0):t.startArrow&&f(e,t,n,r,o,i,!0)},addEndArrow:function(e,t,n,r,o,i){"object"==typeof t.endArrow?h(e,t,n,r,o,i,!1):t.endArrow&&f(e,t,n,r,o,i,!1)}}},function(e,t,n){var r=n(19);function o(e,t,n,r){return{x:Math.cos(r)*n+e,y:Math.sin(r)*n+t}}function i(e,t,n,r){var o,i;return r?e<t?(o=t-e,i=2*Math.PI-n+e):e>n&&(o=2*Math.PI-e+t,i=e-n):(o=e-t,i=n-e),o>i?n:t}function a(e,t,n,o){var a=0;return n-t>=2*Math.PI&&(a=2*Math.PI),t=r.mod(t,2*Math.PI),n=r.mod(n,2*Math.PI)+a,e=r.mod(e,2*Math.PI),o?t>=n?e>n&&e<t?e:i(e,n,t,!0):e<t||e>n?e:i(e,t,n):t<=n?t<e&&e<n?e:i(e,t,n,!0):e>t||e<n?e:i(e,n,t)}function c(e,t,n,o,i,c,s,u,l){var f=[s,u],h=[e,t],p=r.vec2.subtract([],f,h),d=r.vec2.angleTo([1,0],p);d=a(d,o,i,c);var g=[n*Math.cos(d)+e,n*Math.sin(d)+t];return l&&(l.x=g[0],l.y=g[1]),r.vec2.distance(g,f)}e.exports={nearAngle:a,projectPoint:function(e,t,n,r,o,i,a,s){var u={};return c(e,t,n,r,o,i,a,s,u),u},pointDistance:c,box:function(e,t,n,i,c,s){var u=Math.PI/2,l=Math.PI,f=3*Math.PI/2,h=[],p=a(0,i,c,s);0===p&&h.push(o(e,t,n,0)),(p=a(u,i,c,s))===u&&h.push(o(e,t,n,u)),(p=a(l,i,c,s))===l&&h.push(o(e,t,n,l)),(p=a(f,i,c,s))===f&&h.push(o(e,t,n,f)),h.push(o(e,t,n,i)),h.push(o(e,t,n,c));var d=1/0,g=-1/0,v=1/0,m=-1/0;return r.each(h,function(e){d>e.x&&(d=e.x),g<e.x&&(g=e.x),v>e.y&&(v=e.y),m<e.y&&(m=e.y)}),{minX:d,minY:v,maxX:g,maxY:m}}}},function(e,t,n){var r=n(19).vec2;e.exports={at:function(e,t,n){return(t-e)*n+e},pointDistance:function(e,t,n,o,i,a){var c=[n-e,o-t];if(r.exactEquals(c,[0,0]))return NaN;var s=[-c[1],c[0]];r.normalize(s,s);var u=[i-e,a-t];return Math.abs(r.dot(u,s))},box:function(e,t,n,r,o){var i=o/2,a=Math.min(e,n),c=Math.max(e,n);return{minX:a-i,minY:Math.min(t,r)-i,maxX:c+i,maxY:Math.max(t,r)+i}},len:function(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))}}},function(e,t,n){var r=n(118);e.exports=function(e){return r(e)?Array.prototype.slice.call(e):[]}},function(e,t,n){var r=n(118),o=Array.prototype.indexOf;e.exports=function(e,t){return!!r(e)&&o.call(e,t)>-1}},function(e,t){function n(e,t){for(var n in t)t.hasOwnProperty(n)&&"constructor"!==n&&void 0!==t[n]&&(e[n]=t[n])}e.exports=function(e,t,r,o){return t&&n(e,t),r&&n(e,r),o&&n(e,o),e}},,function(e,t,n){var r=n(26),o=function(){function e(e){r.mix(this,{id:"",type:null,model:{},group:null,animate:!1,modelCache:{},isItem:!0,visible:!0},e),this._init()}var t=e.prototype;return t._init=function(){this._initGroup(),this.draw()},t._mapping=function(){var e=this.mapper,t=this.model;e.mapping(t)},t._initGroup=function(){var e=this.group,t=this.model,n=this.type;e.isItemContainer=!0,e.id=t.id,e.itemType=n,e.model=t,e.item=this},t._calculateBBox=function(){var e=this.keyShape,t=this.group,n=r.getBBox(e,t);return n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},t.getLabel=function(){return this.group.findByClass("label")[0]},t.getGraph=function(){return this.graph},t._setShapeObj=function(){var e=this.graph,t=this.type,n=this.getModel();this.shapeObj=e.getShapeObj(t,n)},t._afterDraw=function(){var e=this.graph;this._setGId(),this._cacheModel(),e.emit("afteritemdraw",{item:this})},t._cacheModel=function(){this.modelCache=r.mix({},this.model)},t._setGId=function(){var e=this.group,t=this.id,n=this.type;e.gid=t,e.deepEach(function(e,r,o){var i=r.gid;if(e.id=t,e.eventPreFix=n,e.gid=i+"-"+o,e.isShape){var a=e.get("type");e.gid+="-"+a}})},t._beforeDraw=function(){var e=this.graph,t=this.group;e.emit("beforeitemdraw",{item:this}),t.resetMatrix(),this.updateCollapsedParent()},t._shouldDraw=function(){return!0},t._getDiff=function(){var e=[],t=this.model,n=this.modelCache;return r.each(t,function(t,o){r.isEqual(t,n[o])||e.push(o)}),0!==e.length&&e},t._drawInner=function(){var e=this.animate;this.group.clear(!e),this._mapping(),this._setShapeObj();var t=this.shapeObj,n=t.draw(this);n&&(n.isKeyShape=!0,this.keyShape=n),t.afterDraw&&t.afterDraw(this)},t.deepEach=function(e,t){r.traverseTree(this,e,t||function(e){return e.getChildren()})},t.getShapeObj=function(){return this.shapeObj},t.updateCollapsedParent=function(){var e=this.dataMap;this.collapsedParent=function e(t,n){var r=n[t.parent];if(!r)return!1;if(r){var o=e(r,n);if(o)return o}return r.collapsed?r:void 0}(this.model,e)},t.isVisible=function(){return this.visible},t.hide=function(){var e=this.group,t=this.graph;t.emit("beforeitemhide",{item:this}),e.hide(),this.visible=!1,t.emit("afteritemhide",{item:this})},t.show=function(){var e=this.group,t=this.graph;t.emit("beforeitemshow",{item:this}),e.show(),this.visible=!0,t.emit("afteritemshow",{item:this})},t.draw=function(){this._beforeDraw(),this._shouldDraw()&&this._drawInner(),this._afterDraw()},t.forceUpdate=function(){this._beforeDraw(),this._drawInner(),this._afterDraw()},t.getCenter=function(){var e=this.getBBox();return{x:e.centerX,y:e.centerY}},t.getBBox=function(){return this.bbox||this._calculateBBox()},t.layoutUpdate=function(){this.isVisible()&&this.draw()},t.update=function(){this.draw()},t.getModel=function(){return this.model},t.getKeyShape=function(){return this.keyShape},t.getGraphicGroup=function(){return this.group},t.getHierarchy=function(){return this.graph.getHierarchy(this)},t.getParent=function(){var e=this.model;return this.itemMap[e.parent]},t.getAllParents=function(){for(var e=this.model,t=this.itemMap,n=[],r=e.parent;r&&t[r];){var o=t[r],i=o.getModel();n.push(o),r=i.parent}return n},t.getAllChildren=function(){var e=[];return this.deepEach(function(t){e.push(t)}),e},t.getChildren=function(){var e=this.id;return this.graph.getItems().filter(function(t){return t.model.parent===e})},t.toFront=function(){this.group.toFront()},t.toBack=function(){this.group.toBack()},t.destroy=function(){if(!this.destroyed){var e=this.animate,t=this.graph;t.emit("beforeitemdestroy",{item:this}),this.group.remove(!e),this.destroyed=!0,t.emit("afteritemdestroy",{item:this})}},e}();e.exports=o},function(e,t){e.exports="2.2.6"},function(e,t,n){var r=n(644),o="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",i=new RegExp("([a-z])["+o+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+o+"]*,?["+o+"]*)+)","ig"),a=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+o+"]*,?["+o+"]*","ig"),c=function(e){if(!e)return null;if(typeof e==typeof[])return e;var t={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(e).replace(i,function(e,r,o){var i=[],c=r.toLowerCase();if(o.replace(a,function(e,t){t&&i.push(+t)}),"m"===c&&i.length>2&&(n.push([r].concat(i.splice(0,2))),c="l",r="m"===r?"l":"L"),"o"===c&&1===i.length&&n.push([r,i[0]]),"r"===c)n.push([r].concat(i));else for(;i.length>=t[c]&&(n.push([r].concat(i.splice(0,t[c]))),t[c]););}),n},s=function(e,t){for(var n=[],r=0,o=e.length;o-2*!t>r;r+=2){var i=[{x:+e[r-2],y:+e[r-1]},{x:+e[r],y:+e[r+1]},{x:+e[r+2],y:+e[r+3]},{x:+e[r+4],y:+e[r+5]}];t?r?o-4===r?i[3]={x:+e[0],y:+e[1]}:o-2===r&&(i[2]={x:+e[0],y:+e[1]},i[3]={x:+e[2],y:+e[3]}):i[0]={x:+e[o-2],y:+e[o-1]}:o-4===r?i[3]=i[2]:r||(i[0]={x:+e[r],y:+e[r+1]}),n.push(["C",(-i[0].x+6*i[1].x+i[2].x)/6,(-i[0].y+6*i[1].y+i[2].y)/6,(i[1].x+6*i[2].x-i[3].x)/6,(i[1].y+6*i[2].y-i[3].y)/6,i[2].x,i[2].y])}return n},u=function(e,t,n,r,o){var i=[];if(null===o&&null===r&&(r=n),e=+e,t=+t,n=+n,r=+r,null!==o){var a=Math.PI/180,c=e+n*Math.cos(-r*a),s=e+n*Math.cos(-o*a);i=[["M",c,t+n*Math.sin(-r*a)],["A",n,n,0,+(o-r>180),0,s,t+n*Math.sin(-o*a)]]}else i=[["M",e,t],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return i},l=function(e){if(!(e=c(e))||!e.length)return[["M",0,0]];var t,n,r=[],o=0,i=0,a=0,l=0,f=0;"M"===e[0][0]&&(a=o=+e[0][1],l=i=+e[0][2],f++,r[0]=["M",o,i]);for(var h,p,d=3===e.length&&"M"===e[0][0]&&"R"===e[1][0].toUpperCase()&&"Z"===e[2][0].toUpperCase(),g=f,v=e.length;g<v;g++){if(r.push(h=[]),(t=(p=e[g])[0])!==t.toUpperCase())switch(h[0]=t.toUpperCase(),h[0]){case"A":h[1]=p[1],h[2]=p[2],h[3]=p[3],h[4]=p[4],h[5]=p[5],h[6]=+p[6]+o,h[7]=+p[7]+i;break;case"V":h[1]=+p[1]+i;break;case"H":h[1]=+p[1]+o;break;case"R":for(var m=2,y=(n=[o,i].concat(p.slice(1))).length;m<y;m++)n[m]=+n[m]+o,n[++m]=+n[m]+i;r.pop(),r=r.concat(s(n,d));break;case"O":r.pop(),(n=u(o,i,p[1],p[2])).push(n[0]),r=r.concat(n);break;case"U":r.pop(),r=r.concat(u(o,i,p[1],p[2],p[3])),h=["U"].concat(r[r.length-1].slice(-2));break;case"M":a=+p[1]+o,l=+p[2]+i;break;default:for(var b=1,x=p.length;b<x;b++)h[b]=+p[b]+(b%2?o:i)}else if("R"===t)n=[o,i].concat(p.slice(1)),r.pop(),r=r.concat(s(n,d)),h=["R"].concat(p.slice(-2));else if("O"===t)r.pop(),(n=u(o,i,p[1],p[2])).push(n[0]),r=r.concat(n);else if("U"===t)r.pop(),r=r.concat(u(o,i,p[1],p[2],p[3])),h=["U"].concat(r[r.length-1].slice(-2));else for(var w=0,O=p.length;w<O;w++)h[w]=p[w];if("O"!==(t=t.toUpperCase()))switch(h[0]){case"Z":o=+a,i=+l;break;case"H":o=h[1];break;case"V":i=h[1];break;case"M":a=h[h.length-2],l=h[h.length-1];break;default:o=h[h.length-2],i=h[h.length-1]}}return r},f=function(e,t,n,r){return[e,t,n,r,n,r]},h=function(e,t,n,r,o,i){return[1/3*e+2/3*n,1/3*t+2/3*r,1/3*o+2/3*n,1/3*i+2/3*r,o,i]},p=function(e,t){var n,r=l(e),o=t&&l(t),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c=[],s=[],u="",p="",d=function(e,t,n){var r,o;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(function e(t,n,r,o,i,a,c,s,u,l){r===o&&(r+=1);var f,h,p,d,g,v=120*Math.PI/180,m=Math.PI/180*(+i||0),y=[],b=function(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}};if(l)h=l[0],p=l[1],d=l[2],g=l[3];else{t=(f=b(t,n,-m)).x,n=f.y,s=(f=b(s,u,-m)).x,u=f.y,t===s&&n===u&&(s+=1,u+=1);var x=(t-s)/2,w=(n-u)/2,O=x*x/(r*r)+w*w/(o*o);O>1&&(r*=O=Math.sqrt(O),o*=O);var S=r*r,E=o*o,_=(a===c?-1:1)*Math.sqrt(Math.abs((S*E-S*w*w-E*x*x)/(S*w*w+E*x*x)));d=_*r*w/o+(t+s)/2,g=_*-o*x/r+(n+u)/2,h=Math.asin(((n-g)/o).toFixed(9)),p=Math.asin(((u-g)/o).toFixed(9)),h=t<d?Math.PI-h:h,p=s<d?Math.PI-p:p,h<0&&(h=2*Math.PI+h),p<0&&(p=2*Math.PI+p),c&&h>p&&(h-=2*Math.PI),!c&&p>h&&(p-=2*Math.PI)}var P=p-h;if(Math.abs(P)>v){var C=p,M=s,k=u;p=h+v*(c&&p>h?1:-1),y=e(s=d+r*Math.cos(p),u=g+o*Math.sin(p),r,o,i,0,c,M,k,[p,C,d,g])}P=p-h;var A=Math.cos(h),j=Math.sin(h),T=Math.cos(p),N=Math.sin(p),I=Math.tan(P/4),D=4/3*r*I,L=4/3*o*I,B=[t,n],R=[t+D*j,n-L*A],F=[s+D*N,u-L*T],Y=[s,u];if(R[0]=2*B[0]-R[0],R[1]=2*B[1]-R[1],l)return[R,F,Y].concat(y);for(var X=[],G=0,V=(y=[R,F,Y].concat(y).join().split(",")).length;G<V;G++)X[G]=G%2?b(y[G-1],y[G],m).y:b(y[G],y[G+1],m).x;return X}.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*t.x-t.bx,o=2*t.y-t.by):(r=t.x,o=t.y),e=["C",r,o].concat(e.slice(1));break;case"T":"Q"===n||"T"===n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(h(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(h(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(f(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(f(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(f(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(f(t.x,t.y,t.X,t.Y))}return e},g=function(e,t){if(e[t].length>7){e[t].shift();for(var i=e[t];i.length;)c[t]="A",o&&(s[t]="A"),e.splice(t++,0,["C"].concat(i.splice(0,6)));e.splice(t,1),n=Math.max(r.length,o&&o.length||0)}},v=function(e,t,i,a,c){e&&t&&"M"===e[c][0]&&"M"!==t[c][0]&&(t.splice(c,0,["M",a.x,a.y]),i.bx=0,i.by=0,i.x=e[c][1],i.y=e[c][2],n=Math.max(r.length,o&&o.length||0))};n=Math.max(r.length,o&&o.length||0);for(var m=0;m<n;m++){r[m]&&(u=r[m][0]),"C"!==u&&(c[m]=u,m&&(p=c[m-1])),r[m]=d(r[m],i,p),"A"!==c[m]&&"C"===u&&(c[m]="C"),g(r,m),o&&(o[m]&&(u=o[m][0]),"C"!==u&&(s[m]=u,m&&(p=s[m-1])),o[m]=d(o[m],a,p),"A"!==s[m]&&"C"===u&&(s[m]="C"),g(o,m)),v(r,o,i,a,m),v(o,r,a,i,m);var y=r[m],b=o&&o[m],x=y.length,w=o&&b.length;i.x=y[x-2],i.y=y[x-1],i.bx=parseFloat(y[x-4])||i.x,i.by=parseFloat(y[x-3])||i.y,a.bx=o&&(parseFloat(b[w-4])||a.x),a.by=o&&(parseFloat(b[w-3])||a.y),a.x=o&&b[w-2],a.y=o&&b[w-1]}return o?[r,o]:r},d=/,?([a-z]),?/gi,g=function(e){return e.join(",").replace(d,"$1")},v=function(e,t,n,r,o){return e*(e*(-3*t+9*n-9*r+3*o)+6*t-12*n+6*r)-3*t+3*n},m=function(e,t,n,r,o,i,a,c,s){null===s&&(s=1);for(var u=(s=s>1?1:s<0?0:s)/2,l=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0,p=0;p<12;p++){var d=u*l[p]+u,g=v(d,e,n,o,a),m=v(d,t,r,i,c),y=g*g+m*m;h+=f[p]*Math.sqrt(y)}return u*h},y=function(e,t,n,r,o,i,a,c){if(!(Math.max(e,n)<Math.min(o,a)||Math.min(e,n)>Math.max(o,a)||Math.max(t,r)<Math.min(i,c)||Math.min(t,r)>Math.max(i,c))){var s=(e-n)*(i-c)-(t-r)*(o-a);if(s){var u=((e*r-t*n)*(o-a)-(e-n)*(o*c-i*a))/s,l=((e*r-t*n)*(i-c)-(t-r)*(o*c-i*a))/s,f=+u.toFixed(2),h=+l.toFixed(2);if(!(f<+Math.min(e,n).toFixed(2)||f>+Math.max(e,n).toFixed(2)||f<+Math.min(o,a).toFixed(2)||f>+Math.max(o,a).toFixed(2)||h<+Math.min(t,r).toFixed(2)||h>+Math.max(t,r).toFixed(2)||h<+Math.min(i,c).toFixed(2)||h>+Math.max(i,c).toFixed(2)))return{x:u,y:l}}}},b=function(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height},x=function(e,t,n,r,o){if(o)return[["M",+e+ +o,t],["l",n-2*o,0],["a",o,o,0,0,1,o,o],["l",0,r-2*o],["a",o,o,0,0,1,-o,o],["l",2*o-n,0],["a",o,o,0,0,1,-o,-o],["l",0,2*o-r],["a",o,o,0,0,1,o,-o],["z"]];var i=[["M",e,t],["l",n,0],["l",0,r],["l",-n,0],["z"]];return i.parsePathArray=g,i},w=function(e,t,n,r){return null===e&&(e=t=n=r=0),null===t&&(t=e.y,n=e.width,r=e.height,e=e.x),{x:e,y:t,width:n,w:n,height:r,h:r,x2:e+n,y2:t+r,cx:e+n/2,cy:t+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:x(e,t,n,r),vb:[e,t,n,r].join(" ")}},O=function(e,t,n,o,i,a,c,s){r.isArray(e)||(e=[e,t,n,o,i,a,c,s]);var u=function(e,t,n,r,o,i,a,c){for(var s,u,l,f,h=[],p=[[],[]],d=0;d<2;++d)if(0===d?(u=6*e-12*n+6*o,s=-3*e+9*n-9*o+3*a,l=3*n-3*e):(u=6*t-12*r+6*i,s=-3*t+9*r-9*i+3*c,l=3*r-3*t),Math.abs(s)<1e-12){if(Math.abs(u)<1e-12)continue;(f=-l/u)>0&&f<1&&h.push(f)}else{var g=u*u-4*l*s,v=Math.sqrt(g);if(!(g<0)){var m=(-u+v)/(2*s);m>0&&m<1&&h.push(m);var y=(-u-v)/(2*s);y>0&&y<1&&h.push(y)}}for(var b,x=h.length,w=x;x--;)b=1-(f=h[x]),p[0][x]=b*b*b*e+3*b*b*f*n+3*b*f*f*o+f*f*f*a,p[1][x]=b*b*b*t+3*b*b*f*r+3*b*f*f*i+f*f*f*c;return p[0][w]=e,p[1][w]=t,p[0][w+1]=a,p[1][w+1]=c,p[0].length=p[1].length=w+2,{min:{x:Math.min.apply(0,p[0]),y:Math.min.apply(0,p[1])},max:{x:Math.max.apply(0,p[0]),y:Math.max.apply(0,p[1])}}}.apply(null,e);return w(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)},S=function(e,t,n,r,o,i,a,c,s){var u=1-s,l=Math.pow(u,3),f=Math.pow(u,2),h=s*s,p=h*s,d=e+2*s*(n-e)+h*(o-2*n+e),g=t+2*s*(r-t)+h*(i-2*r+t),v=n+2*s*(o-n)+h*(a-2*o+n),m=r+2*s*(i-r)+h*(c-2*i+r);return{x:l*e+3*f*s*n+3*u*s*s*o+p*a,y:l*t+3*f*s*r+3*u*s*s*i+p*c,m:{x:d,y:g},n:{x:v,y:m},start:{x:u*e+s*n,y:u*t+s*r},end:{x:u*o+s*a,y:u*i+s*c},alpha:90-180*Math.atan2(d-v,g-m)/Math.PI}},E=function(e,t,n){if(!function(e,t){return e=w(e),t=w(t),b(t,e.x,e.y)||b(t,e.x2,e.y)||b(t,e.x,e.y2)||b(t,e.x2,e.y2)||b(e,t.x,t.y)||b(e,t.x2,t.y)||b(e,t.x,t.y2)||b(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}(O(e),O(t)))return n?0:[];for(var r=~~(m.apply(0,e)/8),o=~~(m.apply(0,t)/8),i=[],a=[],c={},s=n?0:[],u=0;u<r+1;u++){var l=S.apply(0,e.concat(u/r));i.push({x:l.x,y:l.y,t:u/r})}for(var f=0;f<o+1;f++){var h=S.apply(0,t.concat(f/o));a.push({x:h.x,y:h.y,t:f/o})}for(var p=0;p<r;p++)for(var d=0;d<o;d++){var g=i[p],v=i[p+1],x=a[d],E=a[d+1],_=Math.abs(v.x-g.x)<.001?"y":"x",P=Math.abs(E.x-x.x)<.001?"y":"x",C=y(g.x,g.y,v.x,v.y,x.x,x.y,E.x,E.y);if(C){if(c[C.x.toFixed(4)]===C.y.toFixed(4))continue;c[C.x.toFixed(4)]=C.y.toFixed(4);var M=g.t+Math.abs((C[_]-g[_])/(v[_]-g[_]))*(v.t-g.t),k=x.t+Math.abs((C[P]-x[P])/(E[P]-x[P]))*(E.t-x.t);M>=0&&M<=1&&k>=0&&k<=1&&(n?s++:s.push({x:C.x,y:C.y,t1:M,t2:k}))}}return s};function _(e,t){var n=[],r=[];return e.length&&function e(t,o){if(1===t.length)n.push(t[0]),r.push(t[0]);else{for(var i=[],a=0;a<t.length-1;a++)0===a&&n.push(t[0]),a===t.length-2&&r.push(t[a+1]),i[a]=[(1-o)*t[a][0]+o*t[a+1][0],(1-o)*t[a][1]+o*t[a+1][1]];e(i,o)}}(e,t),{left:n,right:r.reverse()}}var P=function(e,t){if(e.length!==t.length)return!1;var n=!0;return r.each(e,function(e,r){if(e!==t[r])return n=!1,!1}),n};function C(e,t,n){var r=null,o=n;return t<o&&(o=t,r="add"),e<o&&(o=e,r="del"),{type:r,min:o}}function M(e,t,n){for(var r,o=[].concat(e),i=1/(n+1),a=k(t)[0],c=1;c<=n;c++)i*=c,0===(r=Math.floor(e.length*i))?o.unshift([a[0]*i+e[r][0]*(1-i),a[1]*i+e[r][1]*(1-i)]):o.splice(r,0,[a[0]*i+e[r][0]*(1-i),a[1]*i+e[r][1]*(1-i)]);return o}function k(e){var t=[];switch(e[0]){case"M":case"L":t.push([e[1],e[2]]);break;case"A":t.push([e[6],e[7]]);break;case"Q":t.push([e[3],e[4]]),t.push([e[1],e[2]]);break;case"T":t.push([e[1],e[2]]);break;case"C":t.push([e[5],e[6]]),t.push([e[1],e[2]]),t.push([e[3],e[4]]);break;case"S":t.push([e[3],e[4]]),t.push([e[1],e[2]]);break;case"H":case"V":t.push([e[1],e[1]])}return t}e.exports={parsePathString:c,parsePathArray:g,pathTocurve:p,pathToAbsolute:l,catmullRomToBezier:s,rectPath:x,fillPath:function(e,t){if(1===e.length)return e;var n=e.length-1,r=t.length-1,o=n/r,i=[];if(1===e.length&&"M"===e[0][0]){for(var a=0;a<r-n;a++)e.push(e[0]);return e}for(var c=0;c<r;c++){var s=Math.floor(o*c);i[s]=(i[s]||0)+1}var u=i.reduce(function(t,r,o){return o===n?t.concat(e[n]):t.concat(function(e,t,n){if(1===n)return[[].concat(e)];var r=[];if("L"===t[0]||"C"===t[0]||"Q"===t[0])r=r.concat(function(e,t,n){var r=[[e[1],e[2]]];n=n||2;var o=[];"A"===t[0]?(r.push(t[6]),r.push(t[7])):"C"===t[0]?(r.push([t[1],t[2]]),r.push([t[3],t[4]]),r.push([t[5],t[6]])):"S"===t[0]||"Q"===t[0]?(r.push([t[1],t[2]]),r.push([t[3],t[4]])):r.push([t[1],t[2]]);for(var i=r,a=1/n,c=0;c<n-1;c++){var s=_(i,a/(1-a*c));o.push(s.left),i=s.right}return o.push(i),o.map(function(e){var t=[];return 4===e.length&&(t.push("C"),t=t.concat(e[2])),e.length>=3&&(3===e.length&&t.push("Q"),t=t.concat(e[1])),2===e.length&&t.push("L"),t=t.concat(e[e.length-1])})}(e,t,n));else{var o=[].concat(e);"M"===o[0]&&(o[0]="L");for(var i=0;i<=n-1;i++)r.push(o)}return r}(e[o],e[o+1],r))},[]);return u.unshift(e[0]),"Z"!==t[r]&&"z"!==t[r]||u.push("Z"),u},fillPathByDiff:function(e,t){var n=function(e,t){var n,r,o=e.length,i=t.length,a=0;if(0===o||0===i)return null;for(var c=[],s=0;s<=o;s++)c[s]=[],c[s][0]={min:s};for(var u=0;u<=i;u++)c[0][u]={min:u};for(var l=1;l<=o;l++){n=e[l-1];for(var f=1;f<=i;f++){r=t[f-1],a=P(n,r)?0:1;var h=c[l-1][f].min+1,p=c[l][f-1].min+1,d=c[l-1][f-1].min+a;c[l][f]=C(h,p,d)}}return c}(e,t),r=e.length,o=t.length,i=[],a=1,c=1;if(n[r][o]!==r){for(var s=1;s<=r;s++){var u=n[s][s].min;c=s;for(var l=a;l<=o;l++)n[s][l].min<u&&(u=n[s][l].min,c=l);a=c,n[s][a].type&&i.push({index:s-1,type:n[s][a].type})}for(var f=i.length-1;f>=0;f--)a=i[f].index,"add"===i[f].type?e.splice(a,0,[].concat(e[a])):e.splice(a,1)}var h=o-(r=e.length);if(r<o)for(var p=0;p<h;p++)"z"===e[r-1][0]||"Z"===e[r-1][0]?e.splice(r-2,0,e[r-2]):e.push(e[r-1]),r+=1;return e},formatPath:function(e,t){if(e.length<=1)return e;for(var n,r=0;r<t.length;r++)if(e[r][0]!==t[r][0])switch(n=k(e[r]),t[r][0]){case"M":e[r]=["M"].concat(n[0]);break;case"L":e[r]=["L"].concat(n[0]);break;case"A":e[r]=[].concat(t[r]),e[r][6]=n[0][0],e[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(r>0)){e[r]=t[r];break}n=M(n,e[r-1],1)}e[r]=["Q"].concat(n.reduce(function(e,t){return e.concat(t)},[]));break;case"T":e[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(r>0)){e[r]=t[r];break}n=M(n,e[r-1],2)}e[r]=["C"].concat(n.reduce(function(e,t){return e.concat(t)},[]));break;case"S":if(n.length<2){if(!(r>0)){e[r]=t[r];break}n=M(n,e[r-1],1)}e[r]=["S"].concat(n.reduce(function(e,t){return e.concat(t)},[]));break;default:e[r]=t[r]}return e},intersection:function(e,t){return function(e,t,n){var r,o,i,a,c,s,u,l,f,h;e=p(e),t=p(t);for(var d=[],g=0,v=e.length;g<v;g++){var m=e[g];if("M"===m[0])r=c=m[1],o=s=m[2];else{"C"===m[0]?(r=(f=[r,o].concat(m.slice(1)))[6],o=f[7]):(f=[r,o,r,o,c,s,c,s],r=c,o=s);for(var y=0,b=t.length;y<b;y++){var x=t[y];if("M"===x[0])i=u=x[1],a=l=x[2];else{"C"===x[0]?(i=(h=[i,a].concat(x.slice(1)))[6],a=h[7]):(h=[i,a,i,a,u,l,u,l],i=u,a=l);for(var w=E(f,h,n),O=0,S=w.length;O<S;O++)w[O].segment1=g,w[O].segment2=y,w[O].bez1=f,w[O].bez2=h;d=d.concat(w)}}}}return d}(e,t)}}},function(e,t,n){var r=n(19),o=n(58),i=n(593),a=n(600),c=function e(t){e.superclass.constructor.call(this,t)};c.Symbols={circle:function(e,t,n){return[["M",e,t],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(e,t,n){return[["M",e-n,t-n],["L",e+n,t-n],["L",e+n,t+n],["L",e-n,t+n],["Z"]]},diamond:function(e,t,n){return[["M",e-n,t],["L",e,t-n],["L",e+n,t],["L",e,t+n],["Z"]]},triangle:function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t+r],["L",e,t-r],["L",e+n,t+r],["z"]]},"triangle-down":function(e,t,n){var r=n*Math.sin(1/3*Math.PI);return[["M",e-n,t-r],["L",e+n,t-r],["L",e,t+r],["Z"]]}},c.ATTRS={path:null,lineWidth:1},r.extend(c,o),r.augment(c,{type:"marker",canFill:!0,canStroke:!0,getDefaultAttrs:function(){return{x:0,y:0,lineWidth:1}},calculateBox:function(){var e=this._attrs,t=e.x,n=e.y,r=e.radius,o=this.getHitLineWidth()/2+r;return{minX:t-o,minY:n-o,maxX:t+o,maxY:n+o}},_getPath:function(){var e=this._attrs,t=e.x,n=e.y,o=e.radius||e.r,i=e.symbol||"circle";return(r.isFunction(i)?i:c.Symbols[i])(t,n,o)},createPath:function(e){var t=this._cfg.segments;if(!t||this._cfg.hasUpdate){var n,r=i.parsePath(this._getPath());e.beginPath(),t=[];for(var o=0;o<r.length;o++){var c=r[o];n=new a(c,n,o===r.length-1),t.push(n),n.draw(e)}this._cfg.segments=t,this._cfg.hasUpdate=!1}else{e.beginPath();for(var s=0;s<t.length;s++)t[s].draw(e)}}}),e.exports=c},function(e,t,n){var r=n(19),o=r.vec2;function i(e,t,n,r,o){var i=1-o;return i*i*(i*r+3*o*n)+o*o*(o*e+3*i*t)}function a(e,t,n,r,a,c,s,u,l,f,h){var p,d,g,v,m,y,b,x,w=.005,O=1/0,S=[l,f];for(d=0;d<1;d+=.05)g=[i(e,n,a,s,d),i(t,r,c,u,d)],(v=o.squaredDistance(S,g))<O&&(p=d,O=v);O=1/0;for(var E=0;E<32&&!(w<1e-4);E++)x=p+w,g=[i(e,n,a,s,b=p-w),i(t,r,c,u,b)],v=o.squaredDistance(S,g),b>=0&&v<O?(p=b,O=v):(y=[i(e,n,a,s,x),i(t,r,c,u,x)],m=o.squaredDistance(S,y),x<=1&&m<O?(p=x,O=m):w*=.5);return h&&(h.x=i(e,n,a,s,p),h.y=i(t,r,c,u,p)),Math.sqrt(O)}function c(e,t,n,r,o){return e*(e*(-3*t+9*n-9*r+3*o)+6*t-12*n+6*r)-3*t+3*n}e.exports={at:i,derivativeAt:function(e,t,n,r,o){var i=1-o;return 3*(((t-e)*i+2*(n-t)*o)*i+(r-n)*o*o)},projectPoint:function(e,t,n,r,o,i,c,s,u,l){var f={};return a(e,t,n,r,o,i,c,s,u,l,f),f},pointDistance:a,extrema:function(e,t,n,o){var i,a,c,s=3*e-9*t+9*n-3*o,u=6*t-12*n+6*o,l=3*n-3*o,f=[];if(r.isNumberEqual(s,0))r.isNumberEqual(u,0)||(i=-l/u)>=0&&i<=1&&f.push(i);else{var h=u*u-4*s*l;r.isNumberEqual(h,0)?f.push(-u/(2*s)):h>0&&(a=(-u-(c=Math.sqrt(h)))/(2*s),(i=(-u+c)/(2*s))>=0&&i<=1&&f.push(i),a>=0&&a<=1&&f.push(a))}return f},len:function(e,t,n,o,i,a,s,u,l){r.isNil(l)&&(l=1);for(var f=(l=l>1?1:l<0?0:l)/2,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,g=0;g<12;g++){var v=f*h[g]+f,m=c(v,e,n,i,s),y=c(v,t,o,a,u),b=m*m+y*y;d+=p[g]*Math.sqrt(b)}return f*d}}},function(e,t,n){var r=n(603),o=n(640),i=n(612),a=n(602);e.exports={line:function(e,t,n,o,i,a,c){var s=r.box(e,t,n,o,i);if(!this.box(s.minX,s.maxX,s.minY,s.maxY,a,c))return!1;var u=r.pointDistance(e,t,n,o,a,c);return!isNaN(u)&&u<=i/2},polyline:function(e,t,n,r){var o=e.length-1;if(o<1)return!1;for(var i=0;i<o;i++){var a=e[i][0],c=e[i][1],s=e[i+1][0],u=e[i+1][1];if(this.line(a,c,s,u,t,n,r))return!0}return!1},cubicline:function(e,t,n,r,o,a,c,s,u,l,f){return i.pointDistance(e,t,n,r,o,a,c,s,l,f)<=u/2},quadraticline:function(e,t,n,r,i,a,c,s,u){return o.pointDistance(e,t,n,r,i,a,s,u)<=c/2},arcline:function(e,t,n,r,o,i,c,s,u){return a.pointDistance(e,t,n,r,o,i,s,u)<=c/2},rect:function(e,t,n,r,o,i){return e<=o&&o<=e+n&&t<=i&&i<=t+r},circle:function(e,t,n,r,o){return Math.pow(r-e,2)+Math.pow(o-t,2)<=Math.pow(n,2)},box:function(e,t,n,r,o,i){return e<=o&&o<=t&&n<=i&&i<=r}}},function(e,t,n){var r=n(619),o=n(118),i=n(595);e.exports=function e(t,n){if(t===n)return!0;if(!t||!n)return!1;if(i(t)||i(n))return!1;if(o(t)||o(n)){if(t.length!==n.length)return!1;for(var a=!0,c=0;c<t.length&&(a=e(t[c],n[c]));c++);return a}if(r(t)||r(n)){var s=Object.keys(t),u=Object.keys(n);if(s.length!==u.length)return!1;for(var l=!0,f=0;f<s.length&&(l=e(t[s[f]],n[s[f]]));f++);return l}return!1}},function(e,t,n){var r=n(596),o=n(45),i=5;function a(e,t,n,c){for(var s in n=n||0,c=c||i,t)if(t.hasOwnProperty(s)){var u=t[s];null!==u&&r(u)?(r(e[s])||(e[s]={}),n<c?a(e[s],u,n+1,c):e[s]=t[s]):o(u)?(e[s]=[],e[s]=e[s].concat(u)):void 0!==u&&(e[s]=u)}}e.exports=function(){for(var e=new Array(arguments.length),t=e.length,n=0;n<t;n++)e[n]=arguments[n];for(var r=e[0],o=1;o<t;o++)a(r,e[o]);return r}},function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(45);e.exports=function e(t){if("object"!==(void 0===t?"undefined":r(t))||null===t)return t;var n=void 0;if(o(t)){n=[];for(var i=0,a=t.length;i<a;i++)"object"===r(t[i])&&null!=t[i]?n[i]=e(t[i]):n[i]=t[i]}else for(var c in n={},t)"object"===r(t[c])&&null!=t[c]?n[c]=e(t[c]):n[c]=t[c];return n}},function(e,t,n){var r=n(256);r.translate=function(e,t,n){var o=new Array(9);return r.fromTranslation(o,n),r.multiply(e,o,t)},r.rotate=function(e,t,n){var o=new Array(9);return r.fromRotation(o,n),r.multiply(e,o,t)},r.scale=function(e,t,n){var o=new Array(9);return r.fromScaling(o,n),r.multiply(e,o,t)},e.exports=r},function(e,t){e.exports=function(e,t,n){return e<t?t:e>n?n:e}},function(e,t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return"object"===(void 0===e?"undefined":n(e))&&null!==e}},function(e,t,n){var r=n(46),o=n(118);e.exports=function(e,t){if(!o(e))return e;var n=[];return r(e,function(e,r){t(e,r)&&n.push(e)}),n}},function(e,t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){var t=void 0===e?"undefined":n(e);return null!==e&&"object"===t||"function"===t}},function(e,t){var n=function(){function e(){}return e.prototype.execute=function(){throw new Error("please override this method")},e}();e.exports=n},function(e,t,n){e.exports={CompactBoxTree:n(688),Dendrogram:n(687),IndentedTree:n(686),Mindmap:n(685),Base:n(622)}},function(e,t,n){var r=n(26),o=function(e){function t(t){var n={type:"node",isNode:!0,zIndex:3,edges:[],linkable:!0};return r.mix(n,t),e.call(this,n)||this}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var n=t.prototype;return n.updatePosition=function(){var e=this.group,t=this.model;e.setMatrix([1,0,0,0,1,0,t.x?t.x:0,t.y?t.y:0,1]),this.bbox=this._calculateBBox()},n._shouldDraw=function(){var t=this._getDiff(),n=e.prototype._shouldDraw.call(this);return t&&!(2===t.length&&-1!==t.indexOf("x")&&-1!==t.indexOf("y"))&&!(1===t.length&&("x"===t[0]||"y"===t[0]))&&n},n._afterDraw=function(){this.updatePosition(),e.prototype._afterDraw.call(this)},n.layoutUpdate=function(){this._beforeDraw(),this._afterDraw()},n.getEdges=function(){var e=this;return this.graph.getEdges().filter(function(t){var n=t.getModel();return n.source===e.id||n.target===e.id})},n.getInEdges=function(){var e=this;return this.getEdges().filter(function(t){return t.target===e})},n.getOutEdges=function(){var e=this;return this.getEdges().filter(function(t){return t.source===e})},n.getLinkPoints=function(e){var t=this.getAnchorPoints();if(r.isNumber(e)&&t[e])return[t[e]];var n=e.x,o=e.y,i=this.getBBox(),a=i.centerX,c=i.centerY,s=n-a,u=o-c,l=this.shapeObj,f=l.anchor||{},h=this.defaultIntersectBox,p=[];if(r.isEmpty(t)){switch(l.intersectBox||f.intersectBox||f.type||h){case"rect":p=[r.getIntersectPointRect(i,e)];break;case"path":if(this.keyShape&&"path"===this.keyShape.get("type")){var d=r.parsePathArray(["M",n,o,"L",a,c]);p=[r.intersection(d,this.keyShape.get("path"))]}break;default:p=[r.getIntersectPointCircle(n,o,i.centerX,i.centerY,Math.max(i.width,i.height)/2)]}r.isEmpty(p[0])&&(p=[{x:a,y:c}])}else p=t.map(function(e){var t=e.x-a,n=e.y-c,o=r.getArcOfVectors({x:s,y:u},{x:t,y:n});return r.mix({},e,{arc:o})}).sort(function(e,t){return e.arc-t.arc});return p},n.getAnchorPoints=function(e){var t,n=this.shapeObj,o=this.getBBox(),i=[],a=n.anchor||{};return t=r.isArray(a)?a:r.isFunction(a)?a(this):r.isFunction(a.points)?a.points(this):a.points,r.each(t,function(e,t){var n=r.mix({x:o.minX+e[0]*o.width,y:o.minY+e[1]*o.height},e[2],{index:t});i.push(n)}),this._anchorPoints=i,r.isNumber(e)?this._anchorPoints[e]:this._anchorPoints},t}(n(608));e.exports=o},function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(715),n(714),n(713);var o=n(712),i=n(710),a=n(683),c=n(26),s=n(706),u=n(248),l=n(704),f=n(702),h=n(700),p=n(699),d=n(697),g=n(696),v=n(695),m=n(692),y=n(691),b=[g,f,h,l,v,m,n(690),y,p,d],x=function(e){!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(n,e);var t=n.prototype;function n(t){var n,r={};return b.forEach(function(e){c.mix(r,c.clone(e.CFG),t)}),(n=e.call(this,r)||this)._pluginInit(),n.emit("beforeinit"),n._init(),n.emit("afterinit"),n}return t.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,plugins:[],fontFamily:'"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "\u5fae\u8f6f\u96c5\u9ed1", SimSun, "sans-serif"',nodeDefaultShape:void 0,edgeDefaultShape:void 0,groupDefaultShape:void 0,defaultIntersectBox:"circle",renderer:"canvas",_type:"graph",_controllers:{},_timers:{},_dataMap:{},_itemMap:{},_freezMap:{},_data:{},_delayRunObj:{}}},t._init=function(){var e=this;this._initData(),this._initContainer(),this._initCanvas(),b.forEach(function(t){t.INIT&&e[t.INIT]()}),this.initEvent()},t.initEvent=function(){},t._executeLayout=function(e,t,n,r){c.isFunction(e)?e(t,n,this):c.isObject(e)&&(e.nodes=t,e.edges=n,e.groups=r,e.graph=this,e.execute())},t._pluginInit=function(){var e=this;this.get("plugins").forEach(function(t){e._initPlugin(t)})},t._initPlugin=function(e){e.graph=this,e.init&&e.init()},t._getTimer=function(e){return this.get("_timers")[e]},t._setTimer=function(e,t){this.get("_timers")[e]=t},t._getController=function(e){return this.get("_controllers")[e]},t._initContainer=function(){var e=this.get("container");e||(e=this.get("id")),e=c.initDOMContainer(e,"graph");var t=c.createDOM('<div class="graph-container"></div>',{position:"relative"});e.appendChild(t),this.set("_containerDOM",e),this.set("_graphContainer",t)},t._initCanvas=function(){var e=this.get("_graphContainer"),t=this.get("width"),n=this.get("height"),r=this.get("fontFamily"),o=this.get("renderer"),i={width:t,height:n,fontFamily:r,renderer:o,eventEnable:!1,containerDOM:e};"svg"===o&&(i.pixelRatio=1);var a=new(0,u.Canvas)(i),c=a.get("el");c.style.top=0,c.style.left=0,c.style.overflow="hidden",this.set("_canvas",a);var s=this.getMouseEventWrapper();s.style.outline="none",s.style["user-select"]="none",s.setAttribute("tabindex",20);var l=a.addGroup(),f=l.addGroup();this.set("_itemGroup",f),this.set("_rootGroup",l)},t._initData=function(){this.set("_dataMap",{}),this.set("_itemMap",{_nodes:[],_edges:[],_groups:[],_guides:[]}),this.set("_data",{})},t._refresh=function(){},t.getKeyboardEventWrapper=function(){var e=this.get("keyboardEventWrapper");return e||this.getMouseEventWrapper()},t.getMouseEventWrapper=function(){return this.get("_canvas").get("el")},t.addPlugin=function(e){var t=this.get("plugins");this._initPlugin(e),t.push(e)},t.getGraphContainer=function(){return this.get("_graphContainer")},t._sortGroup=function(e){var t=this.get("_dataMap"),n={};e.forEach(function(e){var r=e.id,o=e.parent;for(n[r]=1;o&&t[o];)n[r]++,o=t[o].parent}),e.sort(function(e,t){return n[t.id]-n[e.id]})},t._addItems=function(e,t){var n=this;this._addDatas(e,t),"group"===e&&this._sortGroup(t);var r=c.upperFirst(e),o=i[r],a=this.get("_itemMap"),s=this.get("_itemGroup"),u=this.get("_dataMap"),l=this.get("animate"),f=this.get("defaultIntersectBox");if(!o)throw new Error("please set valid item type!");t.forEach(function(t){var r=new o({id:t.id,type:e,model:t,group:s.addGroup(),graph:n,mapper:n._getController(e+"Mapper"),itemMap:a,animate:l,dataMap:u,defaultIntersectBox:f});a[t.id]=r,a["_"+e+"s"].push(r)})},t._removeItems=function(e){var t=this.get("_dataMap"),n=this.get("_itemMap");e.forEach(function(e){delete t[e.id],delete n[e.id],c.Array.remove(n["_"+e.type+"s"],e),e.destroy()})},t._updateItems=function(e,t){e.forEach(function(e,n){var r=t[n];r&&c.mix(e.getModel(),r),e.update()})},t._getShowEdge=function(e){var t=e.getSource(),n=e.getTarget();return(t.linkable&&t.isVisible()||!t.linkable)&&(n.linkable&&n.isVisible()||!n.linkable)&&e},t._addDatas=function(e,t){var n=this.get("_dataMap");t.forEach(function(e){if(c.isNil(e.id)&&(e.id=c.guid()),n[e.id])throw new Error("id:"+e.id+" has already been set, please set new one");n[e.id]=e})},t._drawInner=function(){var e=this.get("_data"),t=this.get("_itemGroup"),n=this.get("_dataMap"),r=this.get("_itemMap");e.nodes&&this._addItems("node",e.nodes),e.groups&&this._addItems("group",e.groups),e.edges&&this._addItems("edge",e.edges),e.guides&&this._addItems("guide",e.guides),t.sortBy(function(e){var t=e.id,o=r[t],i=n[t];return i&&!c.isNil(i.index)?i.index:!o||o.destroyed||c.isNil(o.zIndex)?void 0:o.zIndex})},t._clearInner=function(){this.getItems().forEach(function(e){e&&e.destroy()})},t.preventAnimate=function(e){return this.set("_forcePreventAnimate",!0),e(),this.set("_forcePreventAnimate",!1),this},t.getShapeObj=function(e,t){if(!c.isObject(e)){var n=c.upperFirst(e),r=a[n],o=this.get(e+"DefaultShape");return r.getShape(t.shape,o)}return e.getShapeObj()},t.getSource=function(){return this.get("_sourceData")},t.parseSource=function(e){return e},t.getCanvas=function(){return this.get("_canvas")},t.getRootGroup=function(){return this.get("_rootGroup")},t.getItemGroup=function(){return this.get("_itemGroup")},t.source=function(e){return this.emit("beforesource"),this.set("_data",e),this.set("_sourceData",e),this.emit("aftersource"),this},t.render=function(){return this.emit("beforerender"),this.emit("beforedrawinner"),this._drawInner(),this.emit("afterdrawinner"),this.emit("afterrender"),this},t.reRender=function(){var e=this.get("_sourceData");return this.read(e),this},t.setCapture=function(e){this.get("_rootGroup").set("capture",e)},t.destroy=function(){this.emit("beforedestroy");var t=this.get("_canvas"),n=this.get("_graphContainer"),r=this.get("_controllers"),o=this.get("_timers"),i=this.get("_windowForceResizeEvent"),a=this.get("plugins");return c.each(o,function(e){clearTimeout(e)}),c.each(r,function(e){e.destroy()}),a.forEach(function(e){e.destroy&&e.destroy()}),t&&t.destroy(),n.destroy(),window.removeEventListener("resize",i),this.emit("afterdestroy"),e.prototype.destroy.call(this),this},t.save=function(){var e={nodes:[],edges:[],groups:[],guides:[]};return this.get("_itemGroup").get("children").forEach(function(t,n){var r=t.model;if(r){var o=t.itemType,i=c.clone(r);i.index=n,e[o+"s"].push(i)}}),0===e.nodes.length&&delete e.nodes,0===e.edges.length&&delete e.edges,0===e.groups.length&&delete e.groups,0===e.guides.length&&delete e.guides,e},t.add=function(e,t){var n=[],r={action:"add",model:t,affectedItemIds:n};this.emit("beforechange",r);var o=this.get("_itemMap");this._addItems(e,[t]);var i=o[t.id];return i.getAllParents().forEach(function(e){e.update()}),r.item=i,n.push(t.id),this.emit("afterchange",r),i},t.remove=function(e){if((e=this.getItem(e))&&!e.destroyed){var t=[],n=[],r={action:"remove",item:e,affectedItemIds:n};if(e.isNode){var o=e.getEdges();t=t.concat(o)}if(e.isGroup){var i=e.getEdges(),a=e.getAllChildren(),s=e.getCrossEdges(),u=e.getInnerEdges();t=t.concat(i,a,s,u),t=c.uniq(t)}t.push(e);var l=e.getAllParents();return l.forEach(function(e){n.push(e.id)}),t.forEach(function(e){n.push(e.id)}),this.emit("beforechange",r),this._removeItems(t),l.forEach(function(e){e.update()}),this.emit("afterchange",r),this}},t.simpleUpdate=function(e,t){return this._updateItems([e],[t]),this.draw(),this},t.update=function(e,t){var n=this.get("_itemMap");if((e=this.getItem(e))&&!e.destroyed&&t){var r=this.get("animate"),o=[],i=[],a=[],s=e.getModel(),u=c.mix({},s),l={action:"update",item:e,originModel:u,updateModel:t,affectedItemIds:a},f=n[u.parent];if(o.push(e),i.push(t),a.push(e.id),f&&f!==parent&&c.isGroup(f)&&e.getAllParents().forEach(function(e){o.push(e),i.push(null),a.push(e.id)}),t.parent){var h=n[t.parent];if(!h)throw new Error("there is no "+t.parent+" exist, please add a new one!");o.push(h),i.push(null),a.push(h.id),h.getAllParents().forEach(function(e){o.push(e),i.push(null),a.push(e.id)})}return(e.isNode||e.isGroup)&&e.getEdges().forEach(function(e){o.push(e),i.push(null),a.push(e.id)}),e.isGroup&&!c.isNil(t.collapsed)&&(r&&e.deepEach(function(e){a.push(e.id)}),e.getCrossEdges().forEach(function(e){o.push(e),i.push(null),a.push(e.id)})),this.emit("beforechange",l),this._updateItems(o,i),this.emit("afterchange",l),this}},t.read=function(e){var t=this;if(!e)throw new Error("please read valid data!");var n={action:"changeData",data:e};return this.emit("beforechange",n),this.preventAnimate(function(){t.clear(),t.source(e),t.render()}),this.emit("afterchange",n),this},t.clear=function(){return this.emit("beforeclear"),this._clearInner(),this._initData(),this.emit("afterclear"),this},t.hide=function(e){var t=[],n=[],r={item:e=this.getItem(e),affectedItemIds:n};return t.push(e),e.isNode&&e.getEdges().forEach(function(e){t.push(e)}),e.isGroup&&(e.getEdges().forEach(function(e){t.push(e)}),e.deepEach(function(e){t.push(e)})),(t=c.uniq(t)).forEach(function(e){n.push(e.id)}),this.emit("beforehide",r),t.forEach(function(e){e.hide()}),this.emit("afterhide",r),this},t.show=function(e){var t=this,n=[],r=[],o={item:e=this.getItem(e),affectedItemIds:r};if(e.visible=!0,e.isEdge){var i=this._getShowEdge(e);i&&n.push(i)}else n.push(e);return e.isNode&&e.getEdges().forEach(function(e){(e=t._getShowEdge(e))&&n.push(e)}),e.isGroup&&(e.getEdges().forEach(function(e){(e=t._getShowEdge(e))&&n.push(e)}),e.deepEach(function(e){n.push(e)})),(n=c.uniq(n)).forEach(function(e){r.push(e.id)}),this.emit("beforeshow",o),n.forEach(function(e){e.show()}),this.emit("aftershow",o),this},t.getWidth=function(){return this.get("width")},t.getHeight=function(){return this.get("height")},t.changeSize=function(e,t){if(!(Math.abs(e)>=1/0||Math.abs(t)>=1/0)){var n=this.get("_canvas");return e===this.get("width")&&t===this.get("height")||(this.emit("beforechangesize"),n.changeSize(e,t),this.set("width",e),this.set("height",t),this.emit("afterchangesize"),this.draw()),this}console.warn("size parameter more than the maximum")},t.toFront=function(e){e=this.getItem(e);var t=this.get("_itemGroup"),n=e.getGraphicGroup();c.toFront(n,t),this.draw()},t.toBack=function(e){e=this.getItem(e);var t=this.get("_itemGroup"),n=e.getGraphicGroup();c.toBack(n,t),this.draw()},t.css=function(e){var t=this.getGraphContainer();c.modifyCSS(t,e)},t.saveImage=function(e){var t=this.getBBox(),n=this.getFitViewPadding();return new s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}({graph:this,width:t.width+n[1]+n[3],height:t.height+n[0]+n[2]},e)).toCanvas()},n}(o);b.forEach(function(e){c.mix(x.prototype,e.AUGMENT)}),e.exports=x},function(e,t){var n={registerBehaviour:function(e,t,r){t.dependences=r,n[e]=t},resetMode:function(e,t){var r,o=[];t._off();for(var i=0;i<e.length;i++)(r=n[e[i]])&&(r.dependences&&r.dependences.forEach(function(e){e&&-1===o.indexOf(e)&&(n[e](t),o.push(e))}),r&&-1===o.indexOf(r)&&r(t))}};e.exports=n},function(e,t,n){var r=n(19),o=n(58),i=function e(t){e.superclass.constructor.call(this,t)};i.ATTRS={x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineHeight:null,textArr:null},r.extend(i,o),r.augment(i,{canFill:!0,canStroke:!0,type:"text",getDefaultAttrs:function(){return{lineWidth:1,lineCount:1,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"}},initTransform:function(){var e=this._attrs.fontSize;e&&+e<12&&this.transform([["t",-1*this._attrs.x,-1*this._attrs.y],["s",+e/12,+e/12],["t",this._attrs.x,this._attrs.y]])},_assembleFont:function(){var e=this._attrs,t=e.fontSize,n=e.fontFamily,r=e.fontWeight,o=e.fontStyle,i=e.fontVariant;e.font=[o,i,r,t+"px",n].join(" ")},_setAttrText:function(){var e=this._attrs,t=e.text,n=null;if(r.isString(t)&&-1!==t.indexOf("\n")){var o=(n=t.split("\n")).length;e.lineCount=o}e.textArr=n},_getTextHeight:function(){var e=this._attrs,t=e.lineCount,n=1*e.fontSize;return t>1?n*t+this._getSpaceingY()*(t-1):n},isHitBox:function(){return!1},calculateBox:function(){var e=this._attrs,t=this._cfg;t.attrs&&!t.hasUpdate||(this._assembleFont(),this._setAttrText()),e.textArr||this._setAttrText();var n=e.x,r=e.y,o=this.measureText();if(!o)return{minX:n,minY:r,maxX:n,maxY:r};var i=this._getTextHeight(),a=e.textAlign,c=e.textBaseline,s=this.getHitLineWidth(),u={x:n,y:r-i};a&&("end"===a||"right"===a?u.x-=o:"center"===a&&(u.x-=o/2)),c&&("top"===c?u.y+=i:"middle"===c&&(u.y+=i/2)),this.set("startPoint",u);var l=s/2;return{minX:u.x-l,minY:u.y-l,maxX:u.x+o+l,maxY:u.y+i+l}},_getSpaceingY:function(){var e=this._attrs,t=e.lineHeight,n=1*e.fontSize;return t?t-n:.14*n},drawInner:function(e){var t=this._attrs,n=this._cfg;n.attrs&&!n.hasUpdate||(this._assembleFont(),this._setAttrText()),e.font=t.font;var o=t.text;if(o){var i=t.textArr,a=t.x,c=t.y;if(e.beginPath(),this.hasStroke()){var s=t.strokeOpacity;r.isNil(s)||1===s||(e.globalAlpha=s),i?this._drawTextArr(e,!1):e.strokeText(o,a,c),e.globalAlpha=1}if(this.hasFill()){var u=t.fillOpacity;r.isNil(u)||1===u||(e.globalAlpha=u),i?this._drawTextArr(e,!0):e.fillText(o,a,c)}n.hasUpdate=!1}},_drawTextArr:function(e,t){var n,o=this._attrs.textArr,i=this._attrs.textBaseline,a=1*this._attrs.fontSize,c=this._getSpaceingY(),s=this._attrs.x,u=this._attrs.y,l=this.getBBox(),f=l.maxY-l.minY;r.each(o,function(r,o){n=u+o*(c+a)-f+a,"middle"===i&&(n+=f-a-(f-a)/2),"top"===i&&(n+=f-a),t?e.fillText(r,s,n):e.strokeText(r,s,n)})},measureText:function(){var e,t=this._attrs,n=t.text,o=t.font,i=t.textArr,a=0;if(!r.isNil(n)){var c=document.createElement("canvas").getContext("2d");return c.save(),c.font=o,i?r.each(i,function(t){e=c.measureText(t).width,a<e&&(a=e),c.restore()}):(a=c.measureText(n).width,c.restore()),a}}}),e.exports=i},function(e,t,n){var r=n(19),o=n(593).parseRadius,i=n(58),a=function e(t){e.superclass.constructor.call(this,t)};a.ATTRS={x:0,y:0,width:0,height:0,radius:0,lineWidth:1},r.extend(a,i),r.augment(a,{canFill:!0,canStroke:!0,type:"rect",getDefaultAttrs:function(){return{lineWidth:1,radius:0}},calculateBox:function(){var e=this._attrs,t=e.x,n=e.y,r=e.width,o=e.height,i=this.getHitLineWidth()/2;return{minX:t-i,minY:n-i,maxX:t+r+i,maxY:n+o+i}},createPath:function(e){var t=this._attrs,n=t.x,r=t.y,i=t.width,a=t.height,c=t.radius;if((e=e||this.get("context")).beginPath(),0===c)e.rect(n,r,i,a);else{var s=o(c);e.moveTo(n+s.r1,r),e.lineTo(n+i-s.r2,r),0!==s.r2&&e.arc(n+i-s.r2,r+s.r2,s.r2,-Math.PI/2,0),e.lineTo(n+i,r+a-s.r3),0!==s.r3&&e.arc(n+i-s.r3,r+a-s.r3,s.r3,0,Math.PI/2),e.lineTo(n+s.r4,r+a),0!==s.r4&&e.arc(n+s.r4,r+a-s.r4,s.r4,Math.PI/2,Math.PI),e.lineTo(n,r+s.r1),0!==s.r1&&e.arc(n+s.r1,r+s.r1,s.r1,Math.PI,1.5*Math.PI),e.closePath()}}}),e.exports=a},function(e,t,n){var r=n(19),o=n(58),i=n(601),a=n(603),c=function e(t){e.superclass.constructor.call(this,t)};c.ATTRS={points:null,lineWidth:1,startArrow:!1,endArrow:!1,tCache:null},r.extend(c,o),r.augment(c,{canStroke:!0,type:"polyline",tCache:null,getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var e=this._attrs,t=this.getHitLineWidth(),n=e.points;if(!n||0===n.length)return null;var o=1/0,i=1/0,a=-1/0,c=-1/0;r.each(n,function(e){var t=e[0],n=e[1];t<o&&(o=t),t>a&&(a=t),n<i&&(i=n),n>c&&(c=n)});var s=t/2;return{minX:o-s,minY:i-s,maxX:a+s,maxY:c+s}},_setTcache:function(){var e,t,n=this._attrs.points,o=0,i=0,c=[];n&&0!==n.length&&(r.each(n,function(e,t){n[t+1]&&(o+=a.len(e[0],e[1],n[t+1][0],n[t+1][1]))}),o<=0||(r.each(n,function(r,s){n[s+1]&&((e=[])[0]=i/o,t=a.len(r[0],r[1],n[s+1][0],n[s+1][1]),i+=t,e[1]=i/o,c.push(e))}),this.tCache=c))},createPath:function(e){var t,n,r=this._attrs.points;if(!(r.length<2)){for((e=e||this.get("context")).beginPath(),e.moveTo(r[0][0],r[0][1]),n=1,t=r.length-1;n<t;n++)e.lineTo(r[n][0],r[n][1]);e.lineTo(r[t][0],r[t][1])}},getStartTangent:function(){var e=this.__attrs.points,t=[];return t.push([e[1][0],e[1][1]]),t.push([e[0][0],e[0][1]]),t},getEndTangent:function(){var e=this.__attrs.points,t=e.length-1,n=[];return n.push([e[t-1][0],e[t-1][1]]),n.push([e[t][0],e[t][1]]),n},afterPath:function(e){var t=this._attrs,n=t.points,r=n.length-1;e=e||this.get("context"),t.startArrow&&i.addStartArrow(e,t,n[1][0],n[1][1],n[0][0],n[0][1]),t.endArrow&&i.addEndArrow(e,t,n[r-1][0],n[r-1][1],n[r][0],n[r][1])},getPoint:function(e){var t,n,o=this._attrs.points,i=this.tCache;return i||(this._setTcache(),i=this.tCache),r.each(i,function(r,o){e>=r[0]&&e<=r[1]&&(t=(e-r[0])/(r[1]-r[0]),n=o)}),{x:a.at(o[n][0],o[n+1][0],t),y:a.at(o[n][1],o[n+1][1],t)}}}),e.exports=c},function(e,t,n){var r=n(19),o=n(58),i=function e(t){e.superclass.constructor.call(this,t)};i.ATTRS={points:null,lineWidth:1},r.extend(i,o),r.augment(i,{canFill:!0,canStroke:!0,type:"polygon",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var e=this._attrs.points,t=this.getHitLineWidth();if(!e||0===e.length)return null;var n=1/0,o=1/0,i=-1/0,a=-1/0;r.each(e,function(e){var t=e[0],r=e[1];t<n&&(n=t),t>i&&(i=t),r<o&&(o=r),r>a&&(a=r)});var c=t/2;return{minX:n-c,minY:o-c,maxX:i+c,maxY:a+c}},createPath:function(e){var t=this._attrs.points;t.length<2||((e=e||this.get("context")).beginPath(),r.each(t,function(t,n){0===n?e.moveTo(t[0],t[1]):e.lineTo(t[0],t[1])}),e.closePath())}}),e.exports=i},function(e,t,n){var r=n(19),o=n(58),i=n(600),a=n(593),c=n(601),s=n(610),u=n(612),l=function e(t){e.superclass.constructor.call(this,t)};l.ATTRS={path:null,lineWidth:1,startArrow:!1,endArrow:!1},r.extend(l,o),r.augment(l,{canFill:!0,canStroke:!0,type:"path",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},_afterSetAttrPath:function(e){if(r.isNil(e))return this.setSilent("segments",null),void this.setSilent("box",void 0);var t,n=a.parsePath(e),o=[];if(r.isArray(n)&&0!==n.length&&("M"===n[0][0]||"m"===n[0][0])){for(var c=n.length,s=0;s<n.length;s++){var u=n[s];t=new i(u,t,s===c-1),o.push(t)}this.setSilent("segments",o),this.setSilent("tCache",null),this.setSilent("box",null)}},calculateBox:function(){var e=this.get("segments");if(!e)return null;var t=this.getHitLineWidth(),n=1/0,o=-1/0,i=1/0,a=-1/0;return r.each(e,function(e){e.getBBox(t);var r=e.box;r&&(r.minX<n&&(n=r.minX),r.maxX>o&&(o=r.maxX),r.minY<i&&(i=r.minY),r.maxY>a&&(a=r.maxY))}),n===1/0||i===1/0?{minX:0,minY:0,maxX:0,maxY:0}:{minX:n,minY:i,maxX:o,maxY:a}},_setTcache:function(){var e,t,n,o,i=0,a=0,c=[],s=this._cfg.curve;s&&(r.each(s,function(e,t){n=s[t+1],o=e.length,n&&(i+=u.len(e[o-2],e[o-1],n[1],n[2],n[3],n[4],n[5],n[6]))}),r.each(s,function(r,l){n=s[l+1],o=r.length,n&&((e=[])[0]=a/i,t=u.len(r[o-2],r[o-1],n[1],n[2],n[3],n[4],n[5],n[6]),a+=t,e[1]=a/i,c.push(e))}),this._cfg.tCache=c)},_calculateCurve:function(){var e=this._attrs.path;this._cfg.curve=s.pathTocurve(e)},getStartTangent:function(){var e,t,n,o,i=this.get("segments");if(i.length>1)if(e=i[0].endPoint,t=i[1].endPoint,n=i[1].startTangent,o=[],r.isFunction(n)){var a=n();o.push([e.x-a[0],e.y-a[1]]),o.push([e.x,e.y])}else o.push([t.x,t.y]),o.push([e.x,e.y]);return o},getEndTangent:function(){var e,t,n,o,i=this.get("segments"),a=i.length;if(a>1)if(e=i[a-2].endPoint,t=i[a-1].endPoint,n=i[a-1].endTangent,o=[],r.isFunction(n)){var c=n();o.push([t.x-c[0],t.y-c[1]]),o.push([t.x,t.y])}else o.push([e.x,e.y]),o.push([t.x,t.y]);return o},getPoint:function(e){var t,n,o=this._cfg.tCache;o||(this._calculateCurve(),this._setTcache(),o=this._cfg.tCache);var i=this._cfg.curve;if(!o)return i?{x:i[0][1],y:i[0][2]}:null;r.each(o,function(r,o){e>=r[0]&&e<=r[1]&&(t=(e-r[0])/(r[1]-r[0]),n=o)});var a=i[n];if(r.isNil(a)||r.isNil(n))return null;var c=a.length,s=i[n+1];return{x:u.at(a[c-2],s[1],s[3],s[5],1-t),y:u.at(a[c-1],s[2],s[4],s[6],1-t)}},createPath:function(e){var t=this.get("segments");if(r.isArray(t)){(e=e||this.get("context")).beginPath();for(var n=t.length,o=0;o<n;o++)t[o].draw(e)}},afterPath:function(e){var t=this._attrs,n=this.get("segments"),o=t.path;if(e=e||this.get("context"),r.isArray(n)&&1!==n.length&&(t.startArrow||t.endArrow)&&"z"!==o[o.length-1]&&"Z"!==o[o.length-1]&&!t.fill){var i=this.getStartTangent();c.addStartArrow(e,t,i[0][0],i[0][1],i[1][0],i[1][1]);var a=this.getEndTangent();c.addEndArrow(e,t,a[0][0],a[0][1],a[1][0],a[1][1])}}}),e.exports=l},function(e,t,n){var r=n(19),o=n(58),i=n(601),a=n(603),c=function e(t){e.superclass.constructor.call(this,t)};c.ATTRS={x1:0,y1:0,x2:0,y2:0,lineWidth:1,startArrow:!1,endArrow:!1},r.extend(c,o),r.augment(c,{canStroke:!0,type:"line",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var e=this._attrs,t=e.x1,n=e.y1,r=e.x2,o=e.y2,i=this.getHitLineWidth();return a.box(t,n,r,o,i)},createPath:function(e){var t=this._attrs,n=t.x1,r=t.y1,o=t.x2,i=t.y2;(e=e||self.get("context")).beginPath(),e.moveTo(n,r),e.lineTo(o,i)},afterPath:function(e){var t=this._attrs,n=t.x1,r=t.y1,o=t.x2,a=t.y2;e=e||this.get("context"),t.startArrow&&i.addStartArrow(e,t,o,a,n,r),t.endArrow&&i.addEndArrow(e,t,n,r,o,a)},getPoint:function(e){var t=this._attrs;return{x:a.at(t.x1,t.x2,e),y:a.at(t.y1,t.y2,e)}}}),e.exports=c},function(e,t,n){var r=n(19),o=n(58),i=function e(t){e.superclass.constructor.call(this,t)};i.ATTRS={x:0,y:0,img:void 0,width:0,height:0,sx:null,sy:null,swidth:null,sheight:null},r.extend(i,o),r.augment(i,{type:"image",isHitBox:function(){return!1},calculateBox:function(){var e=this._attrs;this._cfg.attrs&&this._cfg.attrs.img===e.img||this._setAttrImg();var t=e.x,n=e.y;return{minX:t,minY:n,maxX:t+e.width,maxY:n+e.height}},_beforeSetLoading:function(e){var t=this.get("canvas");return!1===e&&!0===this.get("toDraw")&&(this._cfg.loading=!1,t.draw()),e},_setAttrImg:function(){var e=this,t=e._attrs,n=t.img;if(!r.isString(n))return n instanceof Image?(t.width||e.attr("width",n.width),t.height||e.attr("height",n.height),n):n instanceof HTMLElement&&r.isString(n.nodeName)&&"CANVAS"===n.nodeName.toUpperCase()?(t.width||e.attr("width",Number(n.getAttribute("width"))),t.height||e.attr("height",Number(n.getAttribute("height"))),n):n instanceof ImageData?(t.width||e.attr("width",n.width),t.height||e.attr("height",n.height),n):null;var o=new Image;o.onload=function(){if(e.get("destroyed"))return!1;e.attr("imgSrc",n),e.attr("img",o);var t=e.get("callback");t&&t.call(e),e.set("loading",!1)},o.src=n,o.crossOrigin="Anonymous",e.set("loading",!0)},drawInner:function(e){this._cfg.hasUpdate&&this._setAttrImg(),this.get("loading")?this.set("toDraw",!0):(this._drawImage(e),this._cfg.hasUpdate=!1)},_drawImage:function(e){var t=this._attrs,n=t.x,o=t.y,i=t.img,a=t.width,c=t.height,s=t.sx,u=t.sy,l=t.swidth,f=t.sheight;this.set("toDraw",!1);var h=i;if(h instanceof ImageData&&((h=new Image).src=i),h instanceof Image||h instanceof HTMLElement&&r.isString(h.nodeName)&&"CANVAS"===h.nodeName.toUpperCase()){if(r.isNil(s)||r.isNil(u)||r.isNil(l)||r.isNil(f))return void e.drawImage(h,n,o,a,c);if(!(r.isNil(s)||r.isNil(u)||r.isNil(l)||r.isNil(f)))return void e.drawImage(h,s,u,l,f,n,o,a,c)}}}),e.exports=i},function(e,t,n){var r=n(19),o=n(58),i=n(602),a=function e(t){e.superclass.constructor.call(this,t)};a.ATTRS={x:0,y:0,rs:0,re:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1},r.extend(a,o),r.augment(a,{canFill:!0,canStroke:!0,type:"fan",getDefaultAttrs:function(){return{clockwise:!1,lineWidth:1,rs:0,re:0}},calculateBox:function(){var e=this._attrs,t=e.x,n=e.y,r=e.rs,o=e.re,a=e.startAngle,c=e.endAngle,s=e.clockwise,u=this.getHitLineWidth(),l=i.box(t,n,r,a,c,s),f=i.box(t,n,o,a,c,s),h=u/2;return{minX:Math.min(l.minX,f.minX)-h,minY:Math.min(l.minY,f.minY)-h,maxX:Math.max(l.maxX,f.maxX)+h,maxY:Math.max(l.maxY,f.maxY)+h}},createPath:function(e){var t=this._attrs,n=t.x,r=t.y,o=t.rs,i=t.re,a=t.startAngle,c=t.endAngle,s=t.clockwise,u={x:Math.cos(a)*o+n,y:Math.sin(a)*o+r},l={x:Math.cos(a)*i+n,y:Math.sin(a)*i+r},f={x:Math.cos(c)*o+n,y:Math.sin(c)*o+r};(e=e||self.get("context")).beginPath(),e.moveTo(u.x,u.y),e.lineTo(l.x,l.y),e.arc(n,r,i,a,c,s),e.lineTo(f.x,f.y),e.arc(n,r,o,c,a,!s),e.closePath()}}),e.exports=a},function(e,t,n){var r=n(19),o=n(58),i=function e(t){e.superclass.constructor.call(this,t)};i.ATTRS={x:0,y:0,rx:1,ry:1,lineWidth:1},r.extend(i,o),r.augment(i,{canFill:!0,canStroke:!0,type:"ellipse",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var e=this._attrs,t=e.x,n=e.y,r=e.rx,o=e.ry,i=this.getHitLineWidth(),a=r+i/2,c=o+i/2;return{minX:t-a,minY:n-c,maxX:t+a,maxY:n+c}},createPath:function(e){var t=this._attrs,n=t.x,o=t.y,i=t.rx,a=t.ry;e=e||self.get("context");var c=i>a?i:a,s=i>a?1:i/a,u=i>a?a/i:1,l=[1,0,0,0,1,0,0,0,1];r.mat3.scale(l,l,[s,u]),r.mat3.translate(l,l,[n,o]),e.beginPath(),e.save(),e.transform(l[0],l[1],l[3],l[4],l[6],l[7]),e.arc(0,0,c,0,2*Math.PI),e.restore(),e.closePath()}}),e.exports=i},function(e,t,n){var r=n(19),o=n(58),i=function e(t){e.superclass.constructor.call(this,t)};r.extend(i,o),r.augment(i,{canFill:!0,canStroke:!0,type:"dom",calculateBox:function(){var e=this._attrs,t=e.x,n=e.y,r=e.width,o=e.height,i=this.getHitLineWidth()/2;return{minX:t-i,minY:n-i,maxX:t+r+i,maxY:n+o+i}}}),e.exports=i},function(e,t,n){var r=n(19),o=n(58),i=function e(t){e.superclass.constructor.call(this,t)};i.ATTRS={x:0,y:0,r:0,lineWidth:1},r.extend(i,o),r.augment(i,{canFill:!0,canStroke:!0,type:"circle",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var e=this._attrs,t=e.x,n=e.y,r=e.r,o=this.getHitLineWidth()/2+r;return{minX:t-o,minY:n-o,maxX:t+o,maxY:n+o}},createPath:function(e){var t=this._attrs,n=t.x,r=t.y,o=t.r;e.beginPath(),e.arc(n,r,o,0,2*Math.PI,!1),e.closePath()}}),e.exports=i},function(e,t,n){var r=n(19),o=n(58),i=n(602),a=n(601);function c(e,t,n){return e+t*Math.cos(n)}function s(e,t,n){return e+t*Math.sin(n)}var u=function e(t){e.superclass.constructor.call(this,t)};u.ATTRS={x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1},r.extend(u,o),r.augment(u,{canStroke:!0,type:"arc",getDefaultAttrs:function(){return{x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var e=this._attrs,t=e.x,n=e.y,r=e.r,o=e.startAngle,a=e.endAngle,c=e.clockwise,s=this.getHitLineWidth()/2,u=i.box(t,n,r,o,a,c);return u.minX-=s,u.minY-=s,u.maxX+=s,u.maxY+=s,u},getStartTangent:function(){var e=this._attrs,t=e.x,n=e.y,r=e.startAngle,o=e.r,i=e.clockwise,a=Math.PI/180;i&&(a*=-1);var u=[],l=c(t,o,r+a),f=s(n,o,r+a),h=c(t,o,r),p=s(n,o,r);return u.push([l,f]),u.push([h,p]),u},getEndTangent:function(){var e=this._attrs,t=e.x,n=e.y,r=e.endAngle,o=e.r,i=e.clockwise,a=Math.PI/180,u=[];i&&(a*=-1);var l=c(t,o,r+a),f=s(n,o,r+a),h=c(t,o,r),p=s(n,o,r);return u.push([h,p]),u.push([l,f]),u},createPath:function(e){var t=this._attrs,n=t.x,r=t.y,o=t.r,i=t.startAngle,a=t.endAngle,c=t.clockwise;(e=e||self.get("context")).beginPath(),e.arc(n,r,o,i,a,c)},afterPath:function(e){var t=this._attrs;if(e=e||this.get("context"),t.startArrow){var n=this.getStartTangent();a.addStartArrow(e,t,n[0][0],n[0][1],n[1][0],n[1][1])}if(t.endArrow){var r=this.getEndTangent();a.addEndArrow(e,t,r[0][0],r[0][1],r[1][0],r[1][1])}}}),e.exports=u},function(e,t){e.exports={xAt:function(e,t,n,r,o){return t*Math.cos(e)*Math.cos(o)-n*Math.sin(e)*Math.sin(o)+r},yAt:function(e,t,n,r,o){return t*Math.sin(e)*Math.cos(o)+n*Math.cos(e)*Math.sin(o)+r},xExtrema:function(e,t,n){return Math.atan(-n/t*Math.tan(e))},yExtrema:function(e,t,n){return Math.atan(n/(t*Math.tan(e)))}}},function(e,t,n){var r=n(19),o=r.vec2;function i(e,t,n,r){var o=1-r;return o*(o*e+2*r*t)+r*r*n}function a(e,t,n,r,a,c,s,u,l){var f,h,p,d,g,v,m,y=.005,b=1/0,x=[s,u];for(g=0;g<1;g+=.05)p=[i(e,n,a,g),i(t,r,c,g)],(h=o.squaredDistance(x,p))<b&&(f=g,b=h);for(b=1/0,m=0;m<32&&!(y<1e-4);m++){var w=f-y,O=f+y;p=[i(e,n,a,w),i(t,r,c,w)],h=o.squaredDistance(x,p),w>=0&&h<b?(f=w,b=h):(d=[i(e,n,a,O),i(t,r,c,O)],v=o.squaredDistance(x,d),O<=1&&v<b?(f=O,b=v):y*=.5)}return l&&(l.x=i(e,n,a,f),l.y=i(t,r,c,f)),Math.sqrt(b)}e.exports={at:i,projectPoint:function(e,t,n,r,o,i,c,s){var u={};return a(e,t,n,r,o,i,c,s,u),u},pointDistance:a,extrema:function(e,t,n){var o=e+n-2*t;if(r.isNumberEqual(o,0))return[.5];var i=(e-t)/o;return i<=1&&i>=0?[i]:[]}}},function(e,t,n){var r=n(19),o=n(746),i=n(745),a=n(744),c=n(116),s=function(e){this._cfg={zIndex:0,capture:!0,visible:!0,destroyed:!1},r.assign(this._cfg,this.getDefaultCfg(),e),this.initAttrs(this._cfg.attrs),this._cfg.attrs={},this.initTransform(),this.init()};s.CFG={id:null,zIndex:0,canvas:null,parent:null,capture:!0,context:null,visible:!0,destroyed:!1},r.augment(s,o,i,c,a,{init:function(){this.setSilent("animable",!0),this.setSilent("animating",!1)},getParent:function(){return this._cfg.parent},getDefaultCfg:function(){return{}},set:function(e,t){return"zIndex"===e&&this._beforeSetZIndex&&this._beforeSetZIndex(t),"loading"===e&&this._beforeSetLoading&&this._beforeSetLoading(t),this._cfg[e]=t,this},setSilent:function(e,t){this._cfg[e]=t},get:function(e){return this._cfg[e]},show:function(){return this._cfg.visible=!0,this},hide:function(){return this._cfg.visible=!1,this},remove:function(e,t){var n=this._cfg,o=n.parent,i=n.el;return o&&r.remove(o.get("children"),this),i&&(t?o&&o._cfg.tobeRemoved.push(i):i.parentNode.removeChild(i)),(e||void 0===e)&&this.destroy(),this},destroy:function(){this.get("destroyed")||(this._attrs=null,this.removeEvent(),this._cfg={destroyed:!0})},toFront:function(){var e=this._cfg,t=e.parent;if(t){var n=t._cfg.children,r=e.el,o=n.indexOf(this);n.splice(o,1),n.push(this),r&&(r.parentNode.removeChild(r),e.el=null)}},toBack:function(){var e=this._cfg,t=e.parent;if(t){var n=t._cfg.children,r=e.el,o=n.indexOf(this);if(n.splice(o,1),n.unshift(this),r){var i=r.parentNode;i.removeChild(r),i.insertBefore(r,i.firstChild)}}},_beforeSetZIndex:function(e){var t=this._cfg.parent;this._cfg.zIndex=e,r.isNil(t)||t.sort();var n=this._cfg.el;if(n){var o=t._cfg.children,i=o.indexOf(this),a=n.parentNode;a.removeChild(n),i===o.length-1?a.appendChild(n):a.insertBefore(n,a.childNodes[i])}return e},_setAttrs:function(e){return this.attr(e),e},setZIndex:function(e){return this._cfg.zIndex=e,this._beforeSetZIndex(e)},clone:function(){return r.clone(this)},getBBox:function(){}}),e.exports=s},function(e,t,n){var r=n(19),o=n(641),i=n(743),a={},c="_INDEX";function s(e,t,n){for(var r,o=e.length-1;o>=0;o--){var i=e[o];if(i._cfg.visible&&i._cfg.capture&&(i.isGroup?r=i.getShape(t,n):i.isHit(t,n)&&(r=i)),r)break}return r}var u=function e(t){e.superclass.constructor.call(this,t),this.set("children",[]),this.set("tobeRemoved",[]),this._beforeRenderUI(),this._renderUI(),this._bindUI()};r.extend(u,o),r.augment(u,{isGroup:!0,type:"group",canFill:!0,canStroke:!0,getDefaultCfg:function(){return function e(t){if(!t._cfg&&t!==u){var n=t.superclass.constructor;n&&!n._cfg&&e(n),t._cfg={},r.merge(t._cfg,n._cfg),r.merge(t._cfg,t.CFG)}}(this.constructor),r.merge({},this.constructor._cfg)},_beforeRenderUI:function(){},_renderUI:function(){},_bindUI:function(){},addShape:function(e,t){var n=this.get("canvas");t=t||{};var o=a[e];if(o||(o=r.upperFirst(e),a[e]=o),t.attrs&&n){var c=t.attrs;if("text"===e){var s=n.get("fontFamily");s&&(c.fontFamily=c.fontFamily?c.fontFamily:s)}}t.canvas=n,t.type=e;var u=new i[o](t);return this.add(u),u},addGroup:function(e,t){var n,o=this.get("canvas");if(t=r.merge({},t),r.isFunction(e))t?(t.canvas=o,t.parent=this,n=new e(t)):n=new e({canvas:o,parent:this}),this.add(n);else if(r.isObject(e))e.canvas=o,n=new u(e),this.add(n);else{if(void 0!==e)return!1;n=new u,this.add(n)}return n},renderBack:function(e,t){var n=this.get("backShape"),o=this.getBBox();return r.merge(t,{x:o.minX-e[3],y:o.minY-e[0],width:o.width+e[1]+e[3],height:o.height+e[0]+e[2]}),n?n.attr(t):n=this.addShape("rect",{zIndex:-1,attrs:t}),this.set("backShape",n),this.sort(),n},removeChild:function(e,t){if(arguments.length>=2)this.contain(e)&&e.remove(t);else{if(1===arguments.length){if(!r.isBoolean(e))return this.contain(e)&&e.remove(!0),this;t=e}0===arguments.length&&(t=!0),u.superclass.remove.call(this,t)}return this},add:function(e){var t=this,n=t.get("children");if(r.isArray(e))r.each(e,function(e){var n=e.get("parent");n&&n.removeChild(e,!1),t._setCfgProperty(e)}),t._cfg.children=n.concat(e);else{var o=e,i=o.get("parent");i&&i.removeChild(o,!1),t._setCfgProperty(o),n.push(o)}return t},_setCfgProperty:function(e){var t=this._cfg;e.set("parent",this),e.set("canvas",t.canvas),t.timeline&&e.set("timeline",t.timeline)},contain:function(e){return this.get("children").indexOf(e)>-1},getChildByIndex:function(e){return this.get("children")[e]},getFirst:function(){return this.getChildByIndex(0)},getLast:function(){var e=this.get("children").length-1;return this.getChildByIndex(e)},getBBox:function(){var e=1/0,t=-1/0,n=1/0,o=-1/0,i=this.get("children");i.length>0?r.each(i,function(r){if(r.get("visible")){if(r.isGroup&&0===r.get("children").length)return;var i=r.getBBox();if(!i)return!0;var a=[i.minX,i.minY,1],c=[i.minX,i.maxY,1],s=[i.maxX,i.minY,1],u=[i.maxX,i.maxY,1];r.apply(a),r.apply(c),r.apply(s),r.apply(u);var l=Math.min(a[0],c[0],s[0],u[0]),f=Math.max(a[0],c[0],s[0],u[0]),h=Math.min(a[1],c[1],s[1],u[1]),p=Math.max(a[1],c[1],s[1],u[1]);l<e&&(e=l),f>t&&(t=f),h<n&&(n=h),p>o&&(o=p)}}):(e=0,t=0,n=0,o=0);var a={minX:e,minY:n,maxX:t,maxY:o};return a.x=a.minX,a.y=a.minY,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a},getCount:function(){return this.get("children").length},sort:function(){var e=this.get("children");return r.each(e,function(e,t){return e[c]=t,e}),e.sort(function(e,t){var n=function(e,t){return e.get("zIndex")-t.get("zIndex")}(e,t);return 0===n?e[c]-t[c]:n}),this},findById:function(e){return this.find(function(t){return t.get("id")===e})},find:function(e){if(r.isString(e))return this.findById(e);var t=this.get("children"),n=null;return r.each(t,function(t){if(e(t)?n=t:t.find&&(n=t.find(e)),n)return!1}),n},findAll:function(e){var t=this.get("children"),n=[],o=[];return r.each(t,function(t){e(t)&&n.push(t),t.findAllBy&&(o=t.findAllBy(e),n=n.concat(o))}),n},findBy:function(e){var t=this.get("children"),n=null;return r.each(t,function(t){if(e(t)?n=t:t.findBy&&(n=t.findBy(e)),n)return!1}),n},findAllBy:function(e){var t=this.get("children"),n=[],o=[];return r.each(t,function(t){e(t)&&n.push(t),t.findAllBy&&(o=t.findAllBy(e),n=n.concat(o))}),n},getShape:function(e,t){var n,r=this._attrs.clip,o=this._cfg.children;if(r){var i=[e,t,1];r.invert(i,this.get("canvas")),r.isPointInPath(i[0],i[1])&&(n=s(o,e,t))}else n=s(o,e,t);return n},clearTotalMatrix:function(){if(this.get("totalMatrix")){this.setSilent("totalMatrix",null);for(var e=this._cfg.children,t=0;t<e.length;t++)e[t].clearTotalMatrix()}},clear:function(e){for(var t=this._cfg.children,n=t.length-1;n>=0;n--)t[n].remove(!0,e);return this._cfg.children=[],this},destroy:function(){this.get("destroyed")||(this.clear(),u.superclass.destroy.call(this))},clone:function(){var e=this._cfg.children,t=new u;return r.each(e,function(e){t.add(e.clone())}),t}}),e.exports=u},function(e,t,n){var r=n(19),o=function(e,t,n,r){this.type=e,this.target=null,this.currentTarget=null,this.bubbles=n,this.cancelable=r,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.removed=!1,this.event=t};r.augment(o,{preventDefault:function(){this.defaultPrevented=this.cancelable&&!0},stopPropagation:function(){this.propagationStopped=!0},remove:function(){this.remove=!0},clone:function(){return r.clone(this)},toString:function(){return"[Event (type="+this.type+")]"}}),e.exports=o},function(e,t,n){e.exports={isFunction:n(84),isObject:n(621),isBoolean:n(653),isNil:n(237),isString:n(595),isArray:n(45),isNumber:n(236),isEmpty:n(647),uniqueId:n(646),clone:n(616),deepMix:n(615),assign:n(606),merge:n(615),upperFirst:n(655),each:n(46),isEqual:n(614),toArray:n(604),extend:n(650),augment:n(651),remove:n(676),isNumberEqual:n(673),toRadian:n(669),toDegree:n(671),mod:n(672),clamp:n(618),createDom:n(681),modifyCSS:n(680),requestAnimationFrame:n(679),getRatio:function(){return window.devicePixelRatio?window.devicePixelRatio:2},mat3:n(617),vec2:n(668),vec3:n(667),transform:n(666)}},function(e,t,n){var r=n(16),o=n(253),i=n(251),a=Math.max,c=Math.min;e.exports=function(e,t,n){var s,u,l,f,h,p,d=0,g=!1,v=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=s,r=u;return s=u=void 0,d=t,f=e.apply(r,n)}function b(e){var n=e-p;return void 0===p||n>=t||n<0||v&&e-d>=l}function x(){var e=o();if(b(e))return w(e);h=setTimeout(x,function(e){var n=t-(e-p);return v?c(n,l-(e-d)):n}(e))}function w(e){return h=void 0,m&&s?y(e):(s=u=void 0,f)}function O(){var e=o(),n=b(e);if(s=arguments,u=this,p=e,n){if(void 0===h)return function(e){return d=e,h=setTimeout(x,t),g?y(e):f}(p);if(v)return h=setTimeout(x,t),y(p)}return void 0===h&&(h=setTimeout(x,t)),f}return t=i(t)||0,r(n)&&(g=!!n.leading,l=(v="maxWait"in n)?a(i(n.maxWait)||0,t):l,m="trailing"in n?!!n.trailing:m),O.cancel=function(){void 0!==h&&clearTimeout(h),d=0,s=p=u=h=void 0},O.flush=function(){return void 0===h?f:w(o())},O}},function(e,t){var n=function(){var e={};return function(t){return e[t=t||"g"]?e[t]+=1:e[t]=1,t+e[t]}}();e.exports=n},function(e,t,n){var r=n(237),o=n(118),i=n(654),a=n(652),c=Object.prototype.hasOwnProperty;e.exports=function(e){if(r(e))return!0;if(o(e))return!e.length;var t=i(e);if("Map"===t||"Set"===t)return!e.size;if(a(e))return!Object.keys(e).length;for(var n in e)if(c.call(e,n))return!1;return!0}},function(e,t,n){var r=n(46),o=n(45),i=Object.prototype.hasOwnProperty;e.exports=function(e,t){if(!t||!o(e))return e;var n={},a=null;return r(e,function(e){a=t(e),i.call(n,a)?n[a].push(e):n[a]=[e]}),n}},function(e,t,n){var r=n(84),o=n(45),i=n(648);e.exports=function(e,t){if(!t)return{0:e};if(!r(t)){var n=o(t)?t:t.replace(/\s+/g,"").split("*");t=function(e){for(var t="_",r=0,o=n.length;r<o;r++)t+=e[n[r]]&&e[n[r]].toString();return t}}return i(e,t)}},function(e,t,n){var r=n(84),o=n(606);e.exports=function(e,t,n,i){r(t)||(n=t,t=e,e=function(){});var a=Object.create?function(e,t){return Object.create(e,{constructor:{value:t}})}:function(e,t){function n(){}n.prototype=e;var r=new n;return r.constructor=t,r},c=a(t.prototype,e);return e.prototype=o(c,e.prototype),e.superclass=a(t.prototype,t),o(c,n),o(e,i),e}},function(e,t,n){var r=n(84),o=n(604),i=n(606);e.exports=function(e){for(var t=o(arguments),n=1;n<t.length;n++){var a=t[n];r(a)&&(a=a.prototype),i(e.prototype,a)}}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(115);e.exports=function(e){return r(e,"Boolean")}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).replace(/^\[object /,"").replace(/\]$/,"")}},function(e,t,n){var r=n(594);e.exports=function(e){var t=r(e);return t.charAt(0).toUpperCase()+t.substring(1)}},function(e,t,n){var r=n(594);e.exports=function(e){return r(e).toUpperCase()}},function(e,t,n){var r=n(594);e.exports=function(e){return r(e).toLowerCase()}},function(e,t){e.exports=function(e,t){for(var n=[],r=0,o=e.length;o-2*!t>r;r+=2){var i=[{x:+e[r-2],y:+e[r-1]},{x:+e[r],y:+e[r+1]},{x:+e[r+2],y:+e[r+3]},{x:+e[r+4],y:+e[r+5]}];t?r?o-4===r?i[3]={x:+e[0],y:+e[1]}:o-2===r&&(i[2]={x:+e[0],y:+e[1]},i[3]={x:+e[2],y:+e[3]}):i[0]={x:+e[o-2],y:+e[o-1]}:o-4===r?i[3]=i[2]:r||(i[0]={x:+e[r],y:+e[r+1]}),n.push(["C",(-i[0].x+6*i[1].x+i[2].x)/6,(-i[0].y+6*i[1].y+i[2].y)/6,(i[1].x+6*i[2].x-i[3].x)/6,(i[1].y+6*i[2].y-i[3].y)/6,i[2].x,i[2].y])}return n}},function(e,t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",o=new RegExp("([a-z])["+r+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+r+"]*,?["+r+"]*)+)","ig"),i=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+r+"]*,?["+r+"]*","ig");e.exports=function(e){if(!e)return null;if((void 0===e?"undefined":n(e))===n([]))return e;var t={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},r=[];return String(e).replace(o,function(e,n,o){var a=[],c=n.toLowerCase();if(o.replace(i,function(e,t){t&&a.push(+t)}),"m"===c&&a.length>2&&(r.push([n].concat(a.splice(0,2))),c="l",n="m"===n?"l":"L"),"o"===c&&1===a.length&&r.push([n,a[0]]),"r"===c)r.push([n].concat(a));else for(;a.length>=t[c]&&(r.push([n].concat(a.splice(0,t[c]))),t[c]););}),r}},function(e,t,n){var r=n(659),o=n(658);function i(e,t,n,r,o){var i=[];if(null===o&&null===r&&(r=n),e=+e,t=+t,n=+n,r=+r,null!==o){var a=Math.PI/180,c=e+n*Math.cos(-r*a),s=e+n*Math.cos(-o*a);i=[["M",c,t+n*Math.sin(-r*a)],["A",n,n,0,+(o-r>180),0,s,t+n*Math.sin(-o*a)]]}else i=[["M",e,t],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return i}e.exports=function(e){if(!(e=r(e))||!e.length)return[["M",0,0]];var t=[],n=0,a=0,c=0,s=0,u=0,l=void 0,f=void 0;"M"===e[0][0]&&(c=n=+e[0][1],s=a=+e[0][2],u++,t[0]=["M",n,a]);for(var h,p,d=3===e.length&&"M"===e[0][0]&&"R"===e[1][0].toUpperCase()&&"Z"===e[2][0].toUpperCase(),g=u,v=e.length;g<v;g++){if(t.push(h=[]),(l=(p=e[g])[0])!==l.toUpperCase())switch(h[0]=l.toUpperCase(),h[0]){case"A":h[1]=p[1],h[2]=p[2],h[3]=p[3],h[4]=p[4],h[5]=p[5],h[6]=+p[6]+n,h[7]=+p[7]+a;break;case"V":h[1]=+p[1]+a;break;case"H":h[1]=+p[1]+n;break;case"R":for(var m=2,y=(f=[n,a].concat(p.slice(1))).length;m<y;m++)f[m]=+f[m]+n,f[++m]=+f[m]+a;t.pop(),t=t.concat(o(f,d));break;case"O":t.pop(),(f=i(n,a,p[1],p[2])).push(f[0]),t=t.concat(f);break;case"U":t.pop(),t=t.concat(i(n,a,p[1],p[2],p[3])),h=["U"].concat(t[t.length-1].slice(-2));break;case"M":c=+p[1]+n,s=+p[2]+a;break;default:for(var b=1,x=p.length;b<x;b++)h[b]=+p[b]+(b%2?n:a)}else if("R"===l)f=[n,a].concat(p.slice(1)),t.pop(),t=t.concat(o(f,d)),h=["R"].concat(p.slice(-2));else if("O"===l)t.pop(),(f=i(n,a,p[1],p[2])).push(f[0]),t=t.concat(f);else if("U"===l)t.pop(),t=t.concat(i(n,a,p[1],p[2],p[3])),h=["U"].concat(t[t.length-1].slice(-2));else for(var w=0,O=p.length;w<O;w++)h[w]=p[w];if("O"!==(l=l.toUpperCase()))switch(h[0]){case"Z":n=+c,a=+s;break;case"H":n=h[1];break;case"V":a=h[1];break;case"M":c=h[h.length-2],s=h[h.length-1];break;default:n=h[h.length-2],a=h[h.length-1]}}return t}},function(e,t,n){var r=n(660),o=function(e,t,n,r){return[e,t,n,r,n,r]},i=function(e,t,n,r,o,i){return[1/3*e+2/3*n,1/3*t+2/3*r,1/3*o+2/3*n,1/3*i+2/3*r,o,i]};e.exports=function(e,t){var n=r(e),a=t&&r(t),c={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=[],l=[],f="",h="",p=void 0,d=function(e,t,n){var r=void 0,a=void 0;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(function e(t,n,r,o,i,a,c,s,u,l){r===o&&(r+=1);var f=120*Math.PI/180,h=Math.PI/180*(+i||0),p=[],d=void 0,g=void 0,v=void 0,m=void 0,y=void 0,b=function(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}};if(l)g=l[0],v=l[1],m=l[2],y=l[3];else{t=(d=b(t,n,-h)).x,n=d.y,s=(d=b(s,u,-h)).x,u=d.y,t===s&&n===u&&(s+=1,u+=1);var x=(t-s)/2,w=(n-u)/2,O=x*x/(r*r)+w*w/(o*o);O>1&&(r*=O=Math.sqrt(O),o*=O);var S=r*r,E=o*o,_=(a===c?-1:1)*Math.sqrt(Math.abs((S*E-S*w*w-E*x*x)/(S*w*w+E*x*x)));m=_*r*w/o+(t+s)/2,y=_*-o*x/r+(n+u)/2,g=Math.asin(((n-y)/o).toFixed(9)),v=Math.asin(((u-y)/o).toFixed(9)),g=t<m?Math.PI-g:g,v=s<m?Math.PI-v:v,g<0&&(g=2*Math.PI+g),v<0&&(v=2*Math.PI+v),c&&g>v&&(g-=2*Math.PI),!c&&v>g&&(v-=2*Math.PI)}var P=v-g;if(Math.abs(P)>f){var C=v,M=s,k=u;v=g+f*(c&&v>g?1:-1),p=e(s=m+r*Math.cos(v),u=y+o*Math.sin(v),r,o,i,0,c,M,k,[v,C,m,y])}P=v-g;var A=Math.cos(g),j=Math.sin(g),T=Math.cos(v),N=Math.sin(v),I=Math.tan(P/4),D=4/3*r*I,L=4/3*o*I,B=[t,n],R=[t+D*j,n-L*A],F=[s+D*N,u-L*T],Y=[s,u];if(R[0]=2*B[0]-R[0],R[1]=2*B[1]-R[1],l)return[R,F,Y].concat(p);for(var X=[],G=0,V=(p=[R,F,Y].concat(p).join().split(",")).length;G<V;G++)X[G]=G%2?b(p[G-1],p[G],h).y:b(p[G],p[G+1],h).x;return X}.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*t.x-t.bx,a=2*t.y-t.by):(r=t.x,a=t.y),e=["C",r,a].concat(e.slice(1));break;case"T":"Q"===n||"T"===n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(i(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(i(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(o(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(o(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(o(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(o(t.x,t.y,t.X,t.Y))}return e},g=function(e,t){if(e[t].length>7){e[t].shift();for(var r=e[t];r.length;)u[t]="A",a&&(l[t]="A"),e.splice(t++,0,["C"].concat(r.splice(0,6)));e.splice(t,1),p=Math.max(n.length,a&&a.length||0)}},v=function(e,t,r,o,i){e&&t&&"M"===e[i][0]&&"M"!==t[i][0]&&(t.splice(i,0,["M",o.x,o.y]),r.bx=0,r.by=0,r.x=e[i][1],r.y=e[i][2],p=Math.max(n.length,a&&a.length||0))};p=Math.max(n.length,a&&a.length||0);for(var m=0;m<p;m++){n[m]&&(f=n[m][0]),"C"!==f&&(u[m]=f,m&&(h=u[m-1])),n[m]=d(n[m],c,h),"A"!==u[m]&&"C"===f&&(u[m]="C"),g(n,m),a&&(a[m]&&(f=a[m][0]),"C"!==f&&(l[m]=f,m&&(h=l[m-1])),a[m]=d(a[m],s,h),"A"!==l[m]&&"C"===f&&(l[m]="C"),g(a,m)),v(n,a,c,s,m),v(a,n,s,c,m);var y=n[m],b=a&&a[m],x=y.length,w=a&&b.length;c.x=y[x-2],c.y=y[x-1],c.bx=parseFloat(y[x-4])||c.x,c.by=parseFloat(y[x-3])||c.y,s.bx=a&&(parseFloat(b[w-4])||s.x),s.by=a&&(parseFloat(b[w-3])||s.y),s.x=a&&b[w-2],s.y=a&&b[w-1]}return a?[n,a]:n}},function(e,t){var n=/,?([a-z]),?/gi;e.exports=function(e){return e.join(",").replace(n,"$1")}},function(e,t,n){var r=n(662);e.exports=function(e,t,n,o,i){if(i)return[["M",+e+ +i,t],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,o-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-o],["a",i,i,0,0,1,i,-i],["z"]];var a=[["M",e,t],["l",n,0],["l",0,o],["l",-n,0],["z"]];return a.parsePathArray=r,a}},function(e,t,n){var r=n(46),o=n(84),i=Object.values?function(e){return Object.values(e)}:function(e){var t=[];return r(e,function(n,r){o(e)&&"prototype"===r||t.push(n)}),t};e.exports=i},function(e,t){e.exports=function(e,t){return e.hasOwnProperty(t)}},function(e,t,n){var r=n(616),o=n(46),i=n(617);e.exports=function(e,t){return e=r(e),o(t,function(t){switch(t[0]){case"t":i.translate(e,e,[t[1],t[2]]);break;case"s":i.scale(e,e,[t[1],t[2]]);break;case"r":i.rotate(e,e,t[1]);break;case"m":i.multiply(e,e,t[1]);break;default:return!1}}),e}},function(e,t,n){var r=n(254);e.exports=r},function(e,t,n){var r=n(255),o=n(618);r.angle=function(e,t){var n=r.dot(e,t)/(r.length(e)*r.length(t));return Math.acos(o(n,-1,1))},r.direction=function(e,t){return e[0]*t[1]-t[0]*e[1]},r.angleTo=function(e,t,n){var o=r.angle(e,t),i=r.direction(e,t)>=0;return n?i?2*Math.PI-o:o:i?o:2*Math.PI-o},r.vertical=function(e,t,n){return n?(e[0]=t[1],e[1]=-1*t[0]):(e[0]=-1*t[1],e[1]=t[0]),e},e.exports=r},function(e,t){var n=Math.PI/180;e.exports=function(e){return n*e}},function(e,t){e.exports=parseInt},function(e,t){var n=180/Math.PI;e.exports=function(e){return n*e}},function(e,t){e.exports=function(e,t){return(e%t+t)%t}},function(e,t){e.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-5;return Math.abs(e-t)<n}},function(e,t,n){var r=n(46),o=n(605);e.exports=function(e){var t=[];return r(e,function(e){o(t,e)||t.push(e)}),t}},function(e,t,n){var r=n(118),o=Array.prototype.splice;e.exports=function(e,t){if(!r(e))return[];for(var n=e?t.length:0,i=n-1;n--;){var a=void 0,c=t[n];n!==i&&c===a||(a=c,o.call(e,c,1))}return e}},function(e,t){var n=Array.prototype,r=n.splice,o=n.indexOf,i=n.slice;e.exports=function(e){for(var t=i.call(arguments,1),n=0;n<t.length;n++)for(var a=t[n],c=-1;(c=o.call(e,a))>-1;)r.call(e,c,1);return e}},function(e,t,n){var r=n(46),o=n(84),i=Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];return r(e,function(n,r){o(e)&&"prototype"===r||t.push(r)}),t};e.exports=i},function(e,t,n){var r=n(677),o=n(237);e.exports=function(e,t){var n=r(t),i=n.length;if(o(e))return!i;for(var a=0;a<i;a+=1){var c=n[a];if(t[c]!==e[c]||!(c in e))return!1}return!0}},function(e,t){e.exports=function(e){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return setTimeout(e,16)})(e)}},function(e,t){e.exports=function(e,t){if(e)for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);return e}},function(e,t){var n=document.createElement("table"),r=document.createElement("tr"),o=/^\s*<(\w+|!)[^>]*>/,i={tr:document.createElement("tbody"),tbody:n,thead:n,tfoot:n,td:r,th:r,"*":document.createElement("div")};e.exports=function(e){var t=o.test(e)&&RegExp.$1;t in i||(t="*");var n=i[t];e=e.replace(/(^\s*)|(\s*$)/g,""),n.innerHTML=""+e;var r=n.childNodes[0];return n.removeChild(r),r}},function(e,t,n){var r=n(257),o={isBetween:function(e,t,n){return e>=t&&e<=n},getLineIntersect:function(e,t,n,r){var i=n.x-e.x,a=n.y-e.y,c=t.x-e.x,s=t.y-e.y,u=r.x-n.x,l=r.y-n.y,f=c*l-s*u,h=null;if(f*f>.001*(c*c+s*s)*(u*u+l*l)){var p=(i*l-a*u)/f,d=(i*s-a*c)/f;o.isBetween(p,0,1)&&o.isBetween(d,0,1)&&(h={x:e.x+p*c,y:e.y+p*s})}return h},getIntersectPointRect:function(e,t){var n=e.minX,r=e.minY,i=e.maxX-e.minX,a=e.maxY-e.minY,c=[],s={x:n+i/2,y:r+a/2};c.push({x:n,y:r}),c.push({x:n+i,y:r}),c.push({x:n+i,y:r+a}),c.push({x:n,y:r+a}),c.push({x:n,y:r});for(var u=null,l=1;l<c.length&&!(u=o.getLineIntersect(c[l-1],c[l],s,t));l++);return u},getIntersectPointCircle:function(e,t,n,r,o){if(Math.sqrt(Math.pow(e-n,2)+Math.pow(t-r,2))<o)return null;var i=e-n,a=t-r,c=Math.sign(i),s=Math.sign(a),u=Math.atan(a/i);return{x:n+Math.abs(o*Math.cos(u))*c,y:r+Math.abs(o*Math.sin(u))*s}},applyMatrix:function(e,t,n){void 0===n&&(n=1);var o=[e.x,e.y,n];return r.vec3.transformMat3(o,o,t),{x:o[0],y:o[1]}},invertMatrix:function(e,t,n){void 0===n&&(n=1);var o=r.mat3.invert([],t),i=[e.x,e.y,n];return r.vec3.transformMat3(i,i,o),{x:i[0],y:i[1]}},radixSort:function(e,t){var n,r,o,i,a,c,s,u=10,l=1,f=[],h=1;for(o=0;o<e.length;o++)n=t(e[o]),r=(n=parseInt(n,10)).toString().length,n.toString().length>h&&(h=r);for(o=0;o<h;o++,l*=10,u*=10){for(i=0;i<e.length;i++)a=t(e[i]),void 0===f[a=parseInt(a%u/l,10)]&&(f[a]=[]),f[a].push(e[i]);for(c=0,i=0;i<f.length;i++)if(s=void 0,void 0!==f[i])for(s=f[i].shift();void 0!==s;)e[c++]=s,s=f[i].shift()}return e},getArcOfVectors:function(e,t){var n=e.x,r=e.y,o=t.x,i=t.y,a=Math.sqrt(n*n+r*r),c=Math.sqrt(o*o+i*i);return Math.acos((n*o+r*i)/(a*c))}};e.exports=r.mix({},r,o)},function(e,t,n){var r=n(258);r.registerShapeManager("node",{defaultShapeType:"common"}),r.registerShapeManager("edge",{defaultShapeType:"common"}),r.registerShapeManager("group",{defaultShapeType:"common"}),r.registerShapeManager("guide",{defaultShapeType:"common"}),n(724),n(721),n(719),n(717),e.exports=r},function(e,t,n){var r=n(247),o=n(609),i=n(26);setTimeout(function(){var e=r.track;if(r.track){var t=new Image,n={pg:document.URL,r:(new Date).getTime(),g6:!0,version:o,page_type:"syslog"};i.isObject(e)&&i.mix(n,e);var a=encodeURIComponent(JSON.stringify([n]));t.src="https://kcart.alipay.com/web/bi.do?BIProfile=merge&d="+a}},2e3)},function(e,t,n){var r=n(598),o=function(e){function t(t){var n;return(n=e.call(this,t)||this).layout=r.mindmap,n}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e),t}(n(597));e.exports=o},function(e,t,n){var r=n(598),o=function(e){function t(t){var n;return(n=e.call(this,t)||this).layout=r.indented,n}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e),t}(n(597));e.exports=o},function(e,t,n){var r=n(598),o=function(e){function t(t){var n;return(n=e.call(this,t)||this).layout=r.dendrogram,n}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e),t}(n(597));e.exports=o},function(e,t,n){var r=n(598),o=function(e){function t(t){var n;return(n=e.call(this,t)||this).layout=r.compactBox,n}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e),t}(n(597));e.exports=o},function(e,t,n){var r=n(26),o=n(625),i=n(623),a=function(e){function t(t){var n=r.mix({layout:new i.CompactBoxTree({getHGap:function(){return 10},getVGap:function(){return 10}}),_type:"tree"},t);return e.call(this,n)||this}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var n=t.prototype;return n.initEvent=function(){var e=this;this.on("afterdrawinner",function(){e.get("_sourceData").roots.forEach(function(t){var n=e.find(t.id);e._setVisibleByCollapsed(n)})})},n._executeLayout=function(e){var t=this.get("_sourceData");r.isFunction(e)?e(t.roots,this):r.isObject(e)&&(e.roots=t.roots,e.graph=this,e.execute())},n.getHierarchy=function(e){e=this.getItem(e);for(var t=this.get("_dataMap"),n=e.getModel().parent,r=1;n;)n=t[n].parent,r++;return r},n.parseSource=function(e){var t=e.roots,n=this.get("_dataMap"),o=[],i=[];if(!t)throw new Error("please set data.roots!");return t.forEach(function(e){r.traverseTree(e,function(e,t){e.id||(e.id=r.guid()),t||(t=n[e.parent]),t&&(e.parent=t.id,t.id||(t.id=r.guid()),i.push({source:t.id,target:e.id,id:t.id+"-"+e.id})),o.push(e)},function(e){return e.children},!0)}),{nodes:o,edges:i}},n._setVisibleByCollapsed=function(e){var t=e.getModel();e.collapsedParent?(e.hide(),e.getEdges().forEach(function(e){e.hide()}),e.deepEach(function(e){e.hide(),e.getEdges().forEach(function(e){e.hide()})})):t.collapsed?e.deepEach(function(e){e.hide(),e.getEdges().forEach(function(e){e.hide()})}):e.deepEach(function(e){e.collapsedParent&&(e.hide(),e.getEdges().forEach(function(e){e.hide()}))})},n.source=function(e){var t=this.parseSource(e);this.emit("beforesource"),this.set("_sourceData",e),this.set("_data",t),this.emit("aftersource")},n._setNodeNth=function(e,t){var n=(e=this.getItem(e)).getModel(),o=e.getParent().getModel().children;r.Array.remove(o,n),o.splice(t,0,n)},n.getNth=function(e){var t=(e=this.getItem(e)).getModel();return e.getParent().getModel().children.indexOf(t)},n.add=function(e,t){var n,o=this.get("_dataMap")[t.parent],i={action:"add",model:t};if("node"===e||"guide"===e){if(this.emit("beforechange",i),"node"===e){if(!o)throw new Error("please set available parent Id !");r.isArray(o.children)?o.children.push(t):o.children=[t];var a=this.parseSource({roots:[t]});this._addItems("node",a.nodes),this._addItems("edge",a.edges),n=this.find(t.id),this._setVisibleByCollapsed(n),r.isNil(t.nth)||this._setNodeNth(n,t.nth),this.find(o.id).forceUpdate()}else this._addItems(e,[t]),n=this.find(t.id);return i.item=n,this.emit("afterchange",i),n}console.warn("Tree do not support add type "+e+"!")},n.update=function(e,t){var n=this;if(t){var o=(e=this.getItem(e)).getModel(),i=r.mix({},o),a={action:"update",item:e,originModel:i,updateModel:t};if(this.emit("beforechange",a),this._updateItems([e],[t]),e.isNode){if("collapsed"in t&&(t.collapsed?e.deepEach(function(e){e.hide(),e.getEdges().forEach(function(e){e.hide()})}):e.deepEach(function(e){e.show(),e.getInEdges().forEach(function(e){e.show()})},function(e){return e.model.collapsed?null:e.getChildren()})),t.parent&&t.parent!==i.parent){var c=this.find(i.parent).getModel(),s=this.find(t.parent).getModel(),u=this.find(c.id+"-"+i.id),l={id:s.id+"-"+i.id,source:s.id,target:i.id};r.Array.remove(c.children,o),s.children?s.children.push(o):s.children=[o],this._removeItems([u]),this._addItems("edge",[l]),this.find(s.id).forceUpdate()}r.isArray(t.children)&&(i.children&&r.each(i.children,function(e){var t=n.find(e.id),r=[t];t.getEdges().forEach(function(e){r.push(e)}),n._removeItems(r)}),r.each(t.children,function(e){var t=n.parseSource({roots:[e]}),o=r.isNil(e.id)?r.guid():e.id;n._addItems("node",t.nodes),n._addItems("edge",t.edges),!e.parent&&n._addItems("edge",[{id:i.id+"-"+o,source:i.id,target:o}])})),r.isNil(t.nth)||this._setNodeNth(e,t.nth);var f=this.find(o.parent);f&&f.forceUpdate()}return this.emit("afterchange",a),this}},n.remove=function(e){var t=this.get("_dataMap"),n=[];if((e=this.getItem(e))&&!e.destroyed){var o={action:"remove",item:e};if(this.emit("beforechange",o),n.push(e),"node"===e.type){e.getEdges().forEach(function(e){n.push(e)});var i=e.getModel(),a=t[i.parent];e.deepEach(function(e){n.push(e),e.getEdges().forEach(function(e){n.push(e)})}),r.Array.remove(a.children,i),this.find(a.id).forceUpdate()}return this._removeItems(r.uniq(n)),this.emit("afterchange",o),this}},n.getRoots=function(){var e=this;return this.getSource().roots.map(function(t){return e.find(t.id)})},n.save=function(){var e={roots:r.clone(this.getSource().roots),guides:this.getGuides().map(function(e){return e.getModel()})};return 0===e.roots.length&&delete e.roots,0===e.guides.length&&delete e.guides,e},t}(o);e.exports=a},function(e,t,n){var r=n(26),o={INIT:"_initForceFit"};o.AUGMENT={_initForceFit:function(){var e=this.get("width"),t=this.get("height");return e||t?e?t?void 0:(this.forceFit("height"),void this._bindForceEvent("height")):(this.forceFit("width"),void this._bindForceEvent("width")):(this.forceFit(),void this._bindForceEvent())},_bindForceEvent:function(e){var t=this,n=this._getTimer("forceFit"),r=function(){var r=setTimeout(function(){t.forceFit(e)},200);n&&clearTimeout(n),t._setTimer("forceFit",r)};window.addEventListener("resize",r),this.set("_windowForceResizeEvent",r)},forceFit:function(e){var t=this.get("_containerDOM"),n=this.get("width"),o=this.get("height"),i=r.getHeight(t),a=r.getWidth(t);return"width"===e?(this.changeSize(a,o),this):"height"===e?(this.changeSize(n,i),this):(this.changeSize(a,i),this)}},e.exports=o},function(e,t,n){var r=n(26),o={CFG:{fitView:void 0,fitViewPadding:10,minZoom:.2,maxZoom:10}};o.AUGMENT={getBBox:function(){var e=this.get("_itemGroup"),t=this.get("_itemMap"),n=e.get("children");return n.length>0?(n=n.filter(function(e){var n=t[e.id];return!!n&&!1!==n.getShapeObj().bboxCalculation}),r.getChildrenBBox(n)):{minX:0,minY:0,maxX:this.get("width"),maxY:this.get("height")}},getFitViewPadding:function(){return r.toAllPadding(this.get("fitViewPadding"))},setFitView:function(e){if(!e)return this;if("autoZoom"===e)return this.autoZoom(),this;var t=this.getFitViewPadding(),n=this.get("width"),o=this.get("height"),i=this.getBBox(),a=i.maxX-i.minX,c=i.maxY-i.minY,s={x:0,y:0,width:n,height:o},u=r.getNineBoxPosition(e,s,a,c,t),l=[1,0,0,0,1,0,0,0,1];r.mat3.translate(l,l,[-i.minX+u.x,-i.minY+u.y]),this.updateMatrix(l)},_getZoomRatio:function(e){var t=this.get("maxZoom"),n=this.get("minZoom");return e<n&&(e=n),e>t&&(e=t),e},autoZoom:function(e){var t=this;e||(e=this.getFitViewPadding());var n=this.get("width"),o=this.get("height"),i=this.getBBox(),a=r.getAutoZoomMatrix({minX:0,minY:0,maxX:n,maxY:o},i,e,function(e){return t._getZoomRatio(e)});this.updateMatrix(a)},getZoom:function(){return this.getMatrix()[0]},updateMatrix:function(e){var t=this.getMatrix(),n={updateMatrix:e,originMatrix:t},r=t[0]!==e[0];return this.emit("beforeviewportchange",n),r&&this.emit("beforezoom",n),this.setMatrix(e),r&&this.emit("afterzoom",n),this.emit("afterviewportchange",n),this.draw(),this},zoom:function(e,t){if(!r.isNumber(e)){t=this._getZoomRatio(t);var n=this.get("_rootGroup"),o=r.clone(n.getMatrix()),i=o[6]+o[0]*e.x-t*e.x,a=o[7]+o[0]*e.y-t*e.y;return o[6]=0,o[7]=0,o[0]=t,o[4]=t,r.mat3.translate(o,o,[i,a]),this.updateMatrix(o),this}var c=this.get("width"),s=this.get("height");this.zoomByDom({x:c/2,y:s/2},e)},zoomByDom:function(e,t){var n=this.getPoint(e);return this.zoom(n,t),this},translate:function(e,t){var n=this.get("_rootGroup").getMatrix();return r.mat3.translate(n,n,[e,t]),this.updateMatrix(n),this},translateByDom:function(e,t){var n=this.get("_rootGroup").getMatrix()[0];return this.translate(e/n,t/n),this},getMatrix:function(){return this.get("_rootGroup").getMatrix()},setMatrix:function(e){this.get("_rootGroup").setMatrix(e)},getPoint:function(e){return this.getPointByDom(e)},getPointByDom:function(e){var t=this.get("_rootGroup").getMatrix();return r.invertMatrix(e,t)},getPointByCanvas:function(e){var t=this.get("_canvas").get("pixelRatio");return this.getPoint({x:e.x/t,y:e.y/t})},getPointByClient:function(e){var t=this.get("_canvas").getPointByClient(e.x,e.y);return this.getPointByCanvas(t)},getDomPoint:function(e){var t=this.get("_rootGroup").getMatrix();return r.applyMatrix(e,t)},getCanvasPoint:function(e){var t=this.get("_canvas").get("pixelRatio"),n=this.getDomPoint(e);return{x:n.x*t,y:n.y*t}},getClientPoint:function(e){var t=this.getCanvasPoint(e),n=this.get("_canvas").getClientByPoint(t.x,t.y);return{x:n.clientX,y:n.clientY}},focus:function(e){if(r.isString(e)&&(e=this.find(e)),e){var t=e.getCenter();this.focusPoint(t)}return this},focusPoint:function(e){var t=this.get("_rootGroup").getMatrix(),n=this.get("width"),r=this.get("height"),o=-t[6]+n/2-t[0]*e.x,i=-t[7]+r/2-t[0]*e.y;return this.translate(o,i),this},focusPointByDom:function(e){var t=this.getPoint(e);return this.focusPoint(t),this}},e.exports=o},function(e,t){e.exports={INIT:"_initDraw",AUGMENT:{_initDraw:function(){var e=this,t=this.get("_controllers").animate;["clear","show","hide","change","updatenodeposition"].forEach(function(n){t&&e.on("before"+n,function(n){var r=e.get("_forcePreventAnimate"),o=n?n.affectedItemIds:void 0;!0!==r&&t&&t.cacheGraph("startCache",o)}),e.on("after"+n,function(n){var r=n?n.affectedItemIds:void 0,o=e.get("_forcePreventAnimate");if(n&&"changeData"===n.action){var i=e.get("fitView");i&&e.setFitView(i)}!0!==o&&t?(t.cacheGraph("endCache",r),t.run()):e.draw()})})},draw:function(){this.get("_canvas").draw()},animateDraw:function(){this.get("_controllers").animate.run()}}}},function(e,t,n){var r=n(247);function o(e,t){var n=e.getGraphicGroup(),o=e.getBBox(),i=(o.minX+o.maxX)/2,a=(o.minY+o.maxY)/2,c=n.getMatrix()[0];n.transform([["t",-i,-a],["s",.01/c,.01/c],["t",i,a]]),n.animate({transform:[["t",-i,-a],["s",100*c,100*c],["t",i,a]]},r.enterDuration,r.enterEasing,t)}function i(e,t){var n=e.getGraphicGroup(),o=e.getBBox(),i=(o.minX+o.maxX)/2,a=(o.minY+o.maxY)/2,c=n.getMatrix()[0];n.animate({transform:[["t",-i,-a],["s",.01/c,.01/c],["t",i,a]]},r.leaveDuration,r.leaveEasing,t)}function a(e,t){e.deepEach(function(e){if(e.isShape){var n=e.attr("fillOpacity"),o=e.attr("strokeOpacity");e.attr({fillOpacity:0,strokeOpacity:0}),e.animate({fillOpacity:n,strokeOpacity:o},r.enterDuration,r.enterEasing,t)}})}function c(e,t){e.deepEach(function(e){var n=e.attr("fillOpacity"),o=e.attr("strokeOpacity");e.isShape&&e.animate({fillOpacity:0,strokeOpacity:0},r.leaveDuration,r.leaveEasing,function(){e.attr({fillOpacity:n,strokeOpacity:o}),t()})})}e.exports={enterScaleIn:function(e){var t=e.item;e.element.isItemContainer&&t.getKeyShape()&&o(t)},showScaleIn:function(e){var t=e.item;e.element.isItemContainer&&t.getKeyShape()&&o(t)},leaveScaleOut:function(e){var t=e.item,n=e.element,r=e.done;n.isItemContainer&&i(t,function(){r()})},hideScaleOut:function(e){var t=e.item,n=e.element,r=e.done;n.isItemContainer&&i(t,function(){r()})},enterFadeIn:function(e){var t=e.element,n=e.item;t.isItemContainer&&n.getKeyShape()&&a(t)},showFadeIn:function(e){var t=e.element,n=e.item;t.isItemContainer&&n.getKeyShape()&&a(t)},leaveFadeOut:function(e){var t=e.element,n=e.item,r=e.done;t.isItemContainer&&n.getKeyShape()&&c(t,r)},hideFadeOut:function(e){var t=e.element,n=e.item,r=e.done;t.isItemContainer&&n.getKeyShape()&&c(t,r)}}},function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(599),i=n(693),a=n(26),c=n(247),s=["matrix","fillStyle","strokeStyle","endArrow","startArrow"],u=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var n=t.prototype;return n.getDefaultCfg=function(){return{show:"scaleIn",hide:"scaleOut",enter:"scaleIn",leave:"scaleOut",update:function(e){var t=e.element,n=e.endKeyFrame.props;t.animate(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}({matrix:n.matrix},n.attrs),c.updateDuration,c.updateEasing)},graph:null,startCache:{},endCache:{},keykeyCache:{}}},n._init=function(){var e=this,t=this.graph,n=this.keykeyCache;t.on("afteritemdraw",function(t){t.item.getGraphicGroup().deepEach(function(t){n[t.gid]=e._getCache(t)},!0)})},n.cacheGraph=function(e,t){var n,r=this,o=this.graph;n=t?t.map(function(e){return o.find(e)}):o.getItems(),this[e]={},n.forEach(function(t){t&&r.cache(t,r[e],e)})},n._getCache=function(e){var t=this.keykeyCache;if(!a.isObject(e))return t[e];var n={props:{matrix:a.clone(e.getMatrix()),attrs:{}}};if(e.isShape){var r=e.attr();r=a.omit(r,s),n.props.attrs=a.clone(r)}return n},n._getAnimation=function(e,t){var n=this.graph,r=e.shapeObj,o=this[t],c=r[t+"Animation"]||r[t+"Animate"],s=n.get("_"+t+"Animation"),u=c||s||o;return a.isString(u)?i[t+a.upperFirst(u)]:u},n.cache=function(e,t,n){var r=this;e.getGraphicGroup().deepEach(function(o){var i=o.gid,a="startCache"===n?r._getCache(o):r._getCache(o.gid);a.enterAnimate=r._getAnimation(e,"enter"),a.leaveAnimate=r._getAnimation(e,"leave"),a.showAnimate=r._getAnimation(e,"show"),a.hideAnimate=r._getAnimation(e,"hide"),a.updateAnimate=r._getAnimation(e,"update"),a.item=e,a.element=o,a.visible=o.get("visible"),t[i]=a},!0)},n._compare=function(){var e=this.startCache,t=this.endCache,n=[],r=[],o=[],i=[],c=[];a.each(t,function(t,r){var a=e[r];a?a.element.get("type")===t.element.get("type")&&(a.visible&&t.visible?o.push(r):a.visible&&!t.visible?i.push(r):!a.visible&&t.visible&&c.push(r)):n.push(r)}),a.each(e,function(e,n){t[n]||r.push(n)}),this.enterElements=n,this.leaveElements=r,this.updateElements=o,this.hideElements=i,this.showElements=c},n._addTween=function(){var e=this.enterElements,t=this.leaveElements,n=this.updateElements,r=this.hideElements,o=this.showElements,i=this.startCache,c=this.endCache;e.forEach(function(e){var t=c[e],n=t.enterAnimate;n&&n({element:t.element,item:t.item,endKeyFrame:t,startKeyFrame:null,startCache:i,endCache:c,done:function(){}})}),t.forEach(function(e){var t=i[e],n=t.leaveAnimate;if(n){var r=i[e].element;r.isItemContainer&&r.getParent().add(r),n({element:r,item:t.item,endKeyFrame:null,startKeyFrame:t,startCache:i,endCache:c,done:function(){r.isItemContainer&&r.remove()}})}}),n.forEach(function(e){var t=c[e],n=i[e],r=t.element,o=n.element,s=n.props,u=t.props,l=t.updateAnimate;s.attrs&&r.attr(s.attrs),a.isEqual(s.matrix,u.matrix)||r.setMatrix(s.matrix),l({element:r,item:t,endKeyFrame:t,startKeyFrame:n,startCache:i,endCache:c,done:function(){}}),o!==r&&o.remove()}),r.forEach(function(e){var t=c[e],n=i[e],r=t.hideAnimate;r&&(t.element.show(),r({element:t.element,item:t.item,endKeyFrame:t,startKeyFrame:n,startCache:i,endCache:c,done:function(){var e=t.item,n=e.getGraphicGroup();!e.visible&&n.hide()}}))}),o.forEach(function(e){var t=c[e],n=i[e],r=t.showAnimate;r&&r({element:t.element,item:t.item,endKeyFrame:t,startKeyFrame:n,startCache:i,endCache:c,done:function(){}})})},n.run=function(){this.graph.destroyed||(this._compare(),this._addTween())},t}(o);e.exports=u},function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(26),i=n(694),a={INIT:"_initAnimate",CFG:{animate:!1}};a.AUGMENT={_initAnimate:function(){var e=this.get("animate");if(e){var t=this.get("_controllers"),n={graph:this};o.isPlainObject(e)&&(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}({},n,e)),t.animate=new i(n)}}},e.exports=a},function(e,t,n){var r=n(26),o={INIT:"_initFilter",CFG:{filters:[]}};o.AUGMENT={_initFilter:function(){var e=this,t=this.get("filters");r.isFunction(t)&&this.set("filters",[t]),this.on("afterchange",function(n){var r=n.action;t.length>0&&"changeData"===r&&!e.destroyed&&e.filter()})},addFilter:function(e){return this.get("filters").push(e),e},removeFilter:function(e){var t=this.get("filters");this.set("filters",r.filter(t,e))},filter:function(){this.emit("beforefilter");var e=this.get("filters"),t=this.getItems(),n=this._getFilterItems();e.forEach(function(e){n=n.filter(e)}),t.forEach(function(e){-1===n.indexOf(e)?e.hide():e.show()}),this.draw(),this.emit("afterfilter")},_getFilterItems:function(){return this.getItems().filter(function(e){return!1!==e.getShapeObj().filter})}},e.exports=o},function(e,t,n){var r=n(26),o=n(626),i={CFG:{modes:{default:[]},mode:"default",_eventCache:{}},INIT:"_initModes"};i.AUGMENT={_initModes:function(){var e=this.get("mode");this.changeMode(e)},changeMode:function(e){var t=this.get("modes");r.isEmpty(t)||r.isEmpty(t[e])||(o.resetMode(t[e],this),this.set("mode",e))},addBehaviour:function(e,t){var n=this.get("modes");t=t||this.get("mode"),r.isEmpty(n[t])&&(n[t]=[]);var i=n[t],a=[].concat(e);return r.each(a,function(e){-1===i.indexOf(e)&&i.push(e)}),o.resetMode(n[t],this),this},removeBehaviour:function(e){var t=this.get("modes"),n=this.get("mode"),i=t[n];if(!r.isEmpty(i)){var a=[].concat(e);return i=i.filter(function(e){return-1===a.indexOf(e)}),t[n]=i,o.resetMode(i,this),this}},behaviourOn:function(e,t){var n=this._eventCache;n[e]||(n[e]=[]),n[e].push(t),this.on(e,t)},_off:function(){var e=this,t=this._eventCache;r.each(t,function(t,n){r.each(t,function(t){e.off(n,t)})}),this._eventCache={}}},e.exports=i},function(e,t,n){var r=n(599),o=n(26),i={MOUSEMOVE:"mousemove",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",CLICK:"click",DBLCLICK:"dblclick",DRAGSTART:"dragstart",DRAG:"drag",DRAGENTER:"dragenter",DRAGLEAVE:"dragleave",DRAGEND:"dragend",DROP:"drop",CONTEXTMENU:"contextmenu",WHEEL:"wheel",KEYDOWN:"keydown",KEYUP:"keyup",KEYPRESS:"keypress",MOUSEWHEEL:"mousewheel"},a=[i.DBLCLICK,i.MOUSEDOWN,i.MOUSEUP,i.MOUSEENTER,i.MOUSELEAVE,i.MOUSEMOVE,i.CONTEXTMENU,i.WHEEL,i.MOUSEWHEEL],c=[i.KEYDOWN,i.KEYUP,i.KEYPRESS],s=function(e){function t(t){var n;return(n=e.call(this,t)||this)._domEvents=[],n._initEventStates(),n._registerEvents(),n}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var n=t.prototype;return n._initEventStates=function(){this._pressing=!1,this._dragging=!1,this._currentEventObj={},this._dragEventObj={}},n._registerEvents=function(){this._registerMouseEvents(),this._registerKeyboardEvents()},n._registerKeyboardEvents=function(){var e=this.graph,t=e.getKeyboardEventWrapper(),n=this._domEvents,r=e.get("keyboardEnable");o.each(c,function(i){n.push(o.addEventListener(t,i,function(t){var n=!0;o.isFunction(r)&&(n=r()),n&&e.emit(i,{domEvent:t})}))})},n._registerMouseEvents=function(){var e=this,t=this,n=this.graph.getMouseEventWrapper(),r=this._domEvents;o.each(a,function(a){r.push(o.addEventListener(n,a,function(n){if(n.type!==i.MOUSEENTER||!n.fromElement||n.fromElement.parentNode&&!function(e,t){for(var n=e.parentNode;n;){if("foreignObject"===n.tagName)return!0;n=n.parentNode}return!1}(n.fromElement)){var r=e._currentEventObj;e._oldEventObj=r,e._processEventObj(n);var a=e._currentEventObj;t._simulateEvents(n,r,a),-1!==[i.MOUSELEAVE,i.MOUSEENTER].indexOf(n.type)&&t._triggerEvent("canvas:"+n.type),t._triggerEvent(n.type),n.type===i.MOUSELEAVE&&(e._dragging&&t._triggerEvent(i.DRAGLEAVE,o.mix({},a,{item:null,shape:null,currentItem:e._dragEventObj.item,currentShape:e._dragEventObj.shape})),t._initEventStates())}}))})},n.destroy=function(){var e=this._domEvents;o.each(e,function(e){e&&e.remove()}),this._domEvents=null},n._triggerEvent=function(e,t){if(t||(t="mouseleave"===e?this._oldEventObj:this._currentEventObj),"mousedown"===e&&(t.button=this._button),t._type=e,this.emitGraphEvent(e,t),-1===["canvas:"+i.MOUSELEAVE,"canvas:"+i.MOUSEENTER].indexOf(e)){var n=t.shape&&t.shape.eventPreFix;if(-1!==[i.DRAGSTART,i.DRAG,i.DRAGEND].indexOf(e)&&(n=t.currentShape&&t.currentShape.eventPreFix),n){var r=n+":"+e;t._type=r,o.isBoolean(t._isItemChange)?t._isItemChange&&this.emitGraphEvent(r,t):this.emitGraphEvent(r,t)}}},n.emitGraphEvent=function(e,t){this.graph.emit(e,t)},n._getDistanceToPress=function(e){return Math.pow(e.clientX-this._pressX,2)+Math.pow(e.clientY-this._pressY,2)},n._simulateEvents=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});var r=this._dragEventObj.item,a=this._dragEventObj.shape;switch(e.type){case i.MOUSEDOWN:this._pressing=!0,this._button=e.button,this._pressX=e.clientX,this._pressY=e.clientY;break;case i.MOUSEMOVE:if(this._dragging){if(this._triggerEvent(i.DRAG,o.mix({},n,{button:this._button,currentItem:r,currentShape:a})),t.shape!==n.shape){var c=this._isItemChange(t,n);t.shape&&this._triggerEvent(i.DRAGLEAVE,o.mix({},n,{button:this._button,item:t.item,shape:t.shape,toItem:n.item,toShape:n.shape,currentItem:r,currentShape:a,_isItemChange:c})),n.shape&&this._triggerEvent(i.DRAGENTER,o.mix({},n,{button:this._button,currentItem:r,currentShape:a,fromItem:t.item,fromShape:t.shape,_isItemChange:c}))}}else this._pressing&&this._getDistanceToPress(e)>9&&(this._dragging=!0,this._dragEventObj=t,r=this._dragEventObj.item,a=this._dragEventObj.shape,this._triggerEvent(i.DRAGSTART,o.mix({},t,{button:this._button,currentItem:r,currentShape:a})));if(t.shape!==n.shape){var s=this._isItemChange(t,n);t.shape&&this._triggerEvent(i.MOUSELEAVE,o.mix({},n,{item:t.item,shape:t.shape,toItem:n.item,toShape:n.shape,_isItemChange:s})),n.shape&&this._triggerEvent(i.MOUSEENTER,o.mix({},n,{fromtItem:t.item,fromShape:t.shape,_isItemChange:s}))}break;case i.MOUSEUP:!this._dragging&&this._pressing?this._triggerEvent(i.CLICK,o.mix({},n,{button:this._button})):(this._triggerEvent(i.DROP,o.mix({},n,{button:this._button,currentItem:r,currentShape:a})),this._triggerEvent(i.DRAGEND,o.mix({},n,{button:this._button,currentItem:r,currentShape:a}))),this._pressing=!1,this._dragging=!1,this._dragEventObj={};break;default:return}},n._isItemChange=function(e,t){var n=e.shape,r=t.shape,i=n&&r&&(n.get("isItemChange")||r.get("isItemChange"));return i?i(r,n):o.isObject(e.item)&&o.isObject(t.item)?e.item.id!==t.item.id:e.item!==t.item},n._processEventObj=function(e){var t=this.graph.get("_canvas"),n=this._getEventObj(e,t);this._currentEventObj=n},n._parsePoint=function(e,t){return this.graph.getPointByCanvas({x:e,y:t})},n._getEventObj=function(e,t){var n=this.graph,r=e.clientX,o=e.clientY,i=t.getPointByClient(r,o),a=this._parsePoint(i.x,i.y),c=t.getShape(i.x,i.y,e),s=n.getItemByShape(c),u=t.get("pixelRatio");return{item:s,shape:c,x:a.x,y:a.y,domX:i.x/u,domY:i.y/u,domEvent:e}},t}(r);e.exports=s},function(e,t,n){var r={},o=n(698);r.INIT="_initEvents",r.CFG={keyboardEnable:!0},r.AUGMENT={_initEvents:function(){this.get("_controllers").events=new o({graph:this})}},e.exports=r},function(e,t,n){var r=n(26),o={};o.AUGMENT={find:function(e){return this.get("_itemMap")[e]},getNodes:function(){return this.get("_itemMap")._nodes},getEdges:function(){return this.get("_itemMap")._edges},getGroups:function(){return this.get("_itemMap")._groups},getGuides:function(){return this.get("_itemMap")._guides},getItems:function(){var e=this.get("_itemMap"),t=[];return r.each(e,function(e){e.type&&t.push(e)}),t},getItemByShape:function(e){return e?this.getItem(e.id):null},getItem:function(e){var t=this.get("_itemMap");return r.isObject(e)?e.destroyed&&(e=t[e.id]):e=t[e],e}},e.exports=o},function(e,t,n){var r=n(599),o=n(26),i=["color","shape","size","label","style"],a=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var n=t.prototype;return n._init=function(){var e=this,t={};o.each(i,function(n){t[n]={},e[n]=function(r){return t[n].input=r,e}}),this.channels=t},n.addChannels=function(e){var t=this.channels;o.each(e,function(e,n){t[n]={input:e}})},n.mapping=function(e){var t=this.channels;o.each(t,function(t,n){o.isFunction(t.input)?e[n]=t.input(e):t.input&&(e[n]=t.input)})},t}(r);e.exports=a},function(e,t,n){var r=n(701),o={INIT:"_initMapper"};o.AUGMENT={_initMapper:function(){var e=this.get("_controllers");e.nodeMapper=new r({graph:this}),e.edgeMapper=new r({graph:this}),e.groupMapper=new r({graph:this}),e.guideMapper=new r({graph:this})},node:function(e){var t=this._getController("nodeMapper");return e&&t.addChannels(e),t},edge:function(e){var t=this._getController("edgeMapper");return e&&t.addChannels(e),t},group:function(e){var t=this._getController("groupMapper");return e&&t.addChannels(e),this._getController("groupMapper")},guide:function(e){var t=this._getController("guideMapper");return e&&t.addChannels(e),this._getController("guideMapper")}},e.exports=o},function(e,t,n){var r=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var n=t.prototype;return n.getDefaultCfg=function(){return{graph:null,auto:!0,processor:null}},n._init=function(){var e=this,t=this.graph;t.on("afteritemdraw",function(e){var t=e.item,n=t.getKeyShape(),r=t.getModel();if(t.isEdge)r.lineWidth=n.attr("lineWidth");else if(t.isNode||t.isGroup){var o=t.getBBox();r.width=o.width,r.height=o.height}}),t.on("afterchange",function(n){var r=n.action;"once"===e.auto?"changeData"===r&&(t.destroyed||t.preventAnimate(function(){e.layout()})):e.auto&&!t.destroyed&&t.preventAnimate(function(){e.layout()})})},n.changeLayout=function(e){this.processor=e,this.layout()},n.layout=function(){var e=this.graph,t=this.getLayoutProcessor();e.emit("beforelayout");var n=e.getNodes().filter(function(e){return e.isVisible()}).map(function(e){return e.getModel()}),r=e.getEdges().filter(function(e){return e.isVisible()}).map(function(e){return e.getModel()}),o=e.getGroups().filter(function(e){return e.isVisible()}).map(function(e){return e.getModel()});e._executeLayout(t,n,r,o),e.updateNodePosition(),e.emit("afterlayout")},n.getLayoutProcessor=function(){return this.processor?this.processor:this.processer},t}(n(599));e.exports=r},function(e,t,n){var r=n(26),o=n(703),i={CFG:{layout:void 0},INIT:"_initLayout"};i.AUGMENT={_initLayout:function(){var e=this.get("_controllers"),t=this._getLayoutCfg();t&&(e.layout=new o(r.mix({graph:this},t)))},_getLayoutCfg:function(){var e=this.get("layout");return r.isPlainObject(e)?e:r.isFunction(e)||r.isObject(e)?{processor:e}:null},layout:function(){return this._getController("layout").layout(),this},updateNodePosition:function(e){var t=this.getGuides(),n=[],o=[];return this.emit("beforeupdatenodeposition"),e?(e.forEach(function(e){e.getEdges().forEach(function(e){o.push(e)});var t=e.getParent();t&&n.push(t)}),o=r.uniq(o),n=r.uniq(n)):(e=this.getNodes(),n=this.getGroups(),o=this.getEdges()),e.forEach(function(e){e.layoutUpdate()}),n.forEach(function(e){e.layoutUpdate()}),o.forEach(function(e){e.layoutUpdate()}),t.forEach(function(e){e.layoutUpdate()}),this.emit("afterupdatenodeposition"),this},changeLayout:function(e){return this._getController("layout").changeLayout(e),this},getLayout:function(){return this._getController("layout").getLayoutProcessor()}},e.exports=i},function(e,t,n){!function(t){"use strict";var n=function(){return{escape:function(e){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:e,mimeType:function(t){var n=e(t).toLowerCase();return function(){var e="application/font-woff";return{woff:e,woff2:e,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}()[n]||""},dataAsUrl:function(e,t){return"data:"+t+";base64,"+e},isDataUrl:function(e){return-1!==e.search(/^(data:)/)},canvasToBlob:function(e){return e.toBlob?new Promise(function(t){e.toBlob(t)}):function(e){return new Promise(function(t){for(var n=window.atob(e.toDataURL().split(",")[1]),r=n.length,o=new Uint8Array(r),i=0;i<r;i++)o[i]=n.charCodeAt(i);t(new Blob([o],{type:"image/png"}))})}(e)},resolveUrl:function(e,t){var n=document.implementation.createHTMLDocument(),r=n.createElement("base");n.head.appendChild(r);var o=n.createElement("a");return n.body.appendChild(o),r.href=t,o.href=e,o.href},getAndEncode:function(e){return c.impl.options.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime()),new Promise(function(t){var n,r=new XMLHttpRequest;if(r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status){var o=new FileReader;o.onloadend=function(){var e=o.result.split(/,/)[1];t(e)},o.readAsDataURL(r.response)}else n?t(n):i("cannot fetch resource: "+e+", status: "+r.status)},r.ontimeout=function(){n?t(n):i("timeout of 30000ms occured while fetching resource: "+e)},r.responseType="blob",r.timeout=3e4,r.open("GET",e,!0),r.send(),c.impl.options.imagePlaceholder){var o=c.impl.options.imagePlaceholder.split(/,/);o&&o[1]&&(n=o[1])}function i(e){console.error(e),t("")}})},uid:function(){var e=0;return function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+e++}}(),delay:function(e){return function(t){return new Promise(function(n){setTimeout(function(){n(t)},e)})}},asArray:function(e){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t},escapeXhtml:function(e){return e.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src=e})},width:function(e){var n=t(e,"border-left-width"),r=t(e,"border-right-width");return e.scrollWidth+n+r},height:function(e){var n=t(e,"border-top-width"),r=t(e,"border-bottom-width");return e.scrollHeight+n+r}};function e(e){var t=/\.([^\.\/]*?)$/g.exec(e);return t?t[1]:""}function t(e,t){var n=window.getComputedStyle(e).getPropertyValue(t);return parseFloat(n.replace("px",""))}}(),r=function(){var e=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(e,n,i){return t(e)?Promise.resolve(e).then(r).then(function(t){var r=Promise.resolve(e);return t.forEach(function(e){r=r.then(function(t){return o(t,e,n,i)})}),r}):Promise.resolve(e)},shouldProcess:t,impl:{readUrls:r,inline:o}};function t(t){return-1!==t.search(e)}function r(t){for(var r,o=[];null!==(r=e.exec(t));)o.push(r[1]);return o.filter(function(e){return!n.isDataUrl(e)})}function o(e,t,r,o){return Promise.resolve(t).then(function(e){return r?n.resolveUrl(e,r):e}).then(o||n.getAndEncode).then(function(e){return n.dataAsUrl(e,n.mimeType(t))}).then(function(r){return e.replace(function(e){return new RegExp("(url\\(['\"]?)("+n.escape(e)+")(['\"]?\\))","g")}(t),"$1"+r+"$3")})}}(),o=function(){return{resolveAll:function(){return e(document).then(function(e){return Promise.all(e.map(function(e){return e.resolve()}))}).then(function(e){return e.join("\n")})},impl:{readAll:e}};function e(){return Promise.resolve(n.asArray(document.styleSheets)).then(function(e){var t=[];return e.forEach(function(e){try{n.asArray(e.cssRules||[]).forEach(t.push.bind(t))}catch(t){console.log("Error while reading CSS rules from "+e.href,t.toString())}}),t}).then(function(e){return e.filter(function(e){return e.type===CSSRule.FONT_FACE_RULE}).filter(function(e){return r.shouldProcess(e.style.getPropertyValue("src"))})}).then(function(t){return t.map(e)});function e(e){return{resolve:function(){var t=(e.parentStyleSheet||{}).href;return r.inlineAll(e.cssText,t)},src:function(){return e.style.getPropertyValue("src")}}}}}(),i=function(){return{inlineAll:function t(o){return o instanceof Element?function(e){var t=e.style.getPropertyValue("background");return t?r.inlineAll(t).then(function(t){e.style.setProperty("background",t,e.style.getPropertyPriority("background"))}).then(function(){return e}):Promise.resolve(e)}(o).then(function(){return o instanceof HTMLImageElement?e(o).inline():Promise.all(n.asArray(o.childNodes).map(function(e){return t(e)}))}):Promise.resolve(o)},impl:{newImage:e}};function e(e){return{inline:function(t){return n.isDataUrl(e.src)?Promise.resolve():Promise.resolve(e.src).then(t||n.getAndEncode).then(function(t){return n.dataAsUrl(t,n.mimeType(e.src))}).then(function(t){return new Promise(function(n,r){e.onload=n,e.onerror=r,e.src=t})})}}}}(),a={imagePlaceholder:void 0,cacheBust:!1},c={toSvg:s,toPng:function(e,t){return u(e,t||{}).then(function(e){return e.toDataURL()})},toJpeg:function(e,t){return u(e,t=t||{}).then(function(e){return e.toDataURL("image/jpeg",t.quality||1)})},toBlob:function(e,t){return u(e,t||{}).then(n.canvasToBlob)},toPixelData:function(e,t){return u(e,t||{}).then(function(t){return t.getContext("2d").getImageData(0,0,n.width(e),n.height(e)).data})},impl:{fontFaces:o,images:i,util:n,inliner:r,options:{}}};function s(e,t){return function(e){void 0===e.imagePlaceholder?c.impl.options.imagePlaceholder=a.imagePlaceholder:c.impl.options.imagePlaceholder=e.imagePlaceholder,void 0===e.cacheBust?c.impl.options.cacheBust=a.cacheBust:c.impl.options.cacheBust=e.cacheBust}(t=t||{}),Promise.resolve(e).then(function(e){return function(e,t,r){return Promise.resolve(e).then(function(e){return e instanceof HTMLCanvasElement?n.makeImage(e.toDataURL()):e.cloneNode(!1)}).then(function(r){return function(e,t,r){var o=e.childNodes;return 0===o.length?Promise.resolve(t):function(e,t,n){var r=Promise.resolve();return t.forEach(function(t){r=r.then(function(){return l(t,n)}).then(function(t){t&&e.appendChild(t)})}),r}(t,n.asArray(o),r).then(function(){return t})}(e,r,t)}).then(function(t){return function(e,t){return t instanceof Element?Promise.resolve().then(function(){!function(e,t){e.cssText?t.cssText=e.cssText:function(e,t){n.asArray(e).forEach(function(n){t.setProperty(n,e.getPropertyValue(n),e.getPropertyPriority(n))})}(e,t)}(window.getComputedStyle(e),t.style)}).then(function(){[":before",":after"].forEach(function(r){!function(r){var o=window.getComputedStyle(e,r),i=o.getPropertyValue("content");if(""!==i&&"none"!==i){var a=n.uid();t.className=t.className+" "+a;var c=document.createElement("style");c.appendChild(function(e,t,r){var o=".0:"+t,i=r.cssText?function(e){var t=e.getPropertyValue("content");return e.cssText+" content: "+t+";"}(r):function(e){return n.asArray(e).map(function(t){return t+": "+e.getPropertyValue(t)+(e.getPropertyPriority(t)?" !important":"")}).join("; ")+";"}(r);return document.createTextNode(o+"{"+i+"}")}(0,r,o)),t.appendChild(c)}}(r)})}).then(function(){e instanceof HTMLTextAreaElement&&(t.innerHTML=e.value),e instanceof HTMLInputElement&&t.setAttribute("value",e.value)}).then(function(){t instanceof SVGElement&&(t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t instanceof SVGRectElement&&["width","height"].forEach(function(e){var n=t.getAttribute(e);n&&t.style.setProperty(e,n)}))}).then(function(){return t}):t}(e,t)})}(e,t.filter)}).then(f).then(h).then(function(e){return t.bgcolor&&(e.style.backgroundColor=t.bgcolor),t.width&&(e.style.width=t.width+"px"),t.height&&(e.style.height=t.height+"px"),t.style&&Object.keys(t.style).forEach(function(n){e.style[n]=t.style[n]}),e}).then(function(r){return function(e,t,r){return Promise.resolve(e).then(function(e){return e.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(e)}).then(n.escapeXhtml).then(function(e){return'<foreignObject x="0" y="0" width="100%" height="100%">'+e+"</foreignObject>"}).then(function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+r+'">'+e+"</svg>"}).then(function(e){return"data:image/svg+xml;charset=utf-8,"+e})}(r,t.width||n.width(e),t.height||n.height(e))})}function u(e,t){return s(e,t).then(n.makeImage).then(n.delay(100)).then(function(r){var o=function(e){var r=document.createElement("canvas");if(r.width=t.width||n.width(e),r.height=t.height||n.height(e),t.bgcolor){var o=r.getContext("2d");o.fillStyle=t.bgcolor,o.fillRect(0,0,r.width,r.height)}return r}(e);return o.getContext("2d").drawImage(r,0,0),o})}function l(e,t,r){return r||!t||t(e)?Promise.resolve(e).then(function(e){return e instanceof HTMLCanvasElement?n.makeImage(e.toDataURL()):e.cloneNode(!1)}).then(function(n){return o(e,n,t)}).then(function(t){return function(e,t){return t instanceof Element?Promise.resolve().then(function(){!function(e,t){e.cssText?t.cssText=e.cssText:function(e,t){n.asArray(e).forEach(function(n){t.setProperty(n,e.getPropertyValue(n),e.getPropertyPriority(n))})}(e,t)}(window.getComputedStyle(e),t.style)}).then(function(){[":before",":after"].forEach(function(r){!function(r){var o=window.getComputedStyle(e,r),i=o.getPropertyValue("content");if(""!==i&&"none"!==i){var a=n.uid();t.className=t.className+" "+a;var c=document.createElement("style");c.appendChild(function(e,t,r){var o="."+e+":"+t,i=r.cssText?function(e){var t=e.getPropertyValue("content");return e.cssText+" content: "+t+";"}(r):function(e){return n.asArray(e).map(function(t){return t+": "+e.getPropertyValue(t)+(e.getPropertyPriority(t)?" !important":"")}).join("; ")+";"}(r);return document.createTextNode(o+"{"+i+"}")}(a,r,o)),t.appendChild(c)}}(r)})}).then(function(){e instanceof HTMLTextAreaElement&&(t.innerHTML=e.value),e instanceof HTMLInputElement&&t.setAttribute("value",e.value)}).then(function(){t instanceof SVGElement&&(t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t instanceof SVGRectElement&&["width","height"].forEach(function(e){var n=t.getAttribute(e);n&&t.style.setProperty(e,n)}))}).then(function(){return t}):t}(e,t)}):Promise.resolve();function o(e,t,r){var o=e.childNodes;return 0===o.length?Promise.resolve(t):function(e,t,n){var r=Promise.resolve();return t.forEach(function(t){r=r.then(function(){return l(t,n)}).then(function(t){t&&e.appendChild(t)})}),r}(t,n.asArray(o),r).then(function(){return t})}}function f(e){return o.resolveAll().then(function(t){var n=document.createElement("style");return e.appendChild(n),n.appendChild(document.createTextNode(t)),e})}function h(e){return i.inlineAll(e).then(function(){return e})}e.exports=c}()},function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(26),i=n(248),a=n(705),c=function(){function e(e){this.options=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}({graph:null,width:null,height:null,canvas:null,beforeTransform:function(){},afterTransform:function(){},drawCount:0},e)}var t=e.prototype;return t.getCanvas=function(){var e=this.options,t=e.width,n=e.height,r=e.canvas;if(!r){var a=o.createDOM("<canvas></canvas>");r=new i.Canvas({containerDOM:a,width:t,height:n})}return r.drawCount||(r.drawCount=0),r},t.drawInner=function(e,t){var n=this.options.graph,r=n.getCanvas(),o=n.get("renderer"),i=e.drawCount;if("svg"===o){var c=[];r.deepEach(function(e){"dom"===e.get("type")&&c.push(e)}),c.length>0?c.forEach(function(n){var r=n.get("el");if(r){n.domImageOnload=!1;var o=n.attr("width"),s=n.attr("height");a.toPng(r,{width:o,height:s}).then(function(r){var o=new Image;o.src=r,o.onload=function(){if(i===e.drawCount-1){n.domImage=o,n.domImageOnload=!0;for(var r=0;r<c.length;r++){var a=c[r];if(!a.domImageOnload||a.get("destroyed"))break;a.domImageOnload&&r===c.length-1&&t()}}}})}}):t()}else t();e.drawCount+=1},t.toCanvas=function(){var e=this.options,t=e.graph,n=e.width,r=e.height,i=e.beforeTransform,a=e.limitRatio,c=e.afterTransform,s=this.getCanvas(),u=t.getBBox(),l=o.clone(t.getMatrix()),f=t.getFitViewPadding(),h=t.getCanvas(),p=o.getAutoZoomMatrix({minX:0,minY:0,maxX:n,maxY:r},u,f,a);return this.drawInner(s,function(){var e=h.get("children");s.set("children",e),i(p,l),t.setMatrix(p),s.draw(),t.setMatrix(l),c(p,l)}),s.matrix=p,s.get("el")},e}();e.exports=c},function(e,t,n){var r=n(26),o=function(e){function t(t){var n={type:"guide",isGuide:!0,zIndex:4};return r.mix(n,t),e.call(this,n)||this}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e),t}(n(608));e.exports=o},function(e,t,n){var r=n(26),o=function(e){function t(t){var n={type:"group",isNode:!1,isGroup:!0,zIndex:1};return r.mix(n,t),e.call(this,n)||this}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var n=t.prototype;return n._beforeDraw=function(){this.deepEach(function(e,t){t&&(e.zIndex=t.zIndex+1),e.updateCollapsedParent(),e.collapsedParent?e.hide():e.show()}),this.getInnerEdges().forEach(function(e){e.linkedItemVisible()?e.show():e.hide()}),e.prototype._beforeDraw.call(this)},n.updatePosition=function(){},n._shouldDraw=function(){return!0},n.getCrossEdges=function(){var e=[],t=this.getInnerEdges();this.deepEach(function(t){e.push(t.id)});var n=t.filter(function(t){var n=t.getModel();return-1===e.indexOf(n.source)||-1===e.indexOf(n.target)});return r.uniq(n)},n.getInnerEdges=function(){var e=[];return this.deepEach(function(t){t.getEdges().forEach(function(t){e.push(t)})}),r.uniq(e)},n.getChildrenBBox=function(){var e=this.getChildren().map(function(e){return e.getGraphicGroup()});return r.getChildrenBBox(e)},t}(n(624));e.exports=o},function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(26),i=function(e){function t(t){var n={type:"edge",isEdge:!0,zIndex:2};return o.mix(n,t),e.call(this,n)||this}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var n=t.prototype;return n._init=function(){e.prototype._init.call(this)},n._beforeDraw=function(){var t=this.model,n=this.itemMap;o.isObject(t.source)?this.source=t.source:this.source=n[t.source],o.isObject(t.target)?this.target=t.target:this.target=n[t.target],e.prototype._beforeDraw.call(this)},n._afterDraw=function(){this.linkedItemVisible()||this.hide(),this._addArrow(),e.prototype._afterDraw.call(this)},n._addArrow=function(){var e=this.model,t=this.keyShape;if("path"===t.get("type")){var n=this.shapeObj,r=t.attr("endArrow"),o=t.attr("startArrow"),i=e.endArrow||r,a=e.startArrow||o;o&&t.attr("startArrow",!1),r&&t.attr("endArrow",!1),i&&this._drawArrow(n.endArrow,"end"),a&&this._drawArrow(n.startArrow,"start")}},n._drawArrow=function(e,t){var n=e.path,i=e.shorten,a=e.tangent,c=e.ratio,s=e.style;a=a(this),i=i(this),n=n(this),s=s(this),c=c();var u=this.group,l=this.keyShape,f=o.parsePathString(l.attr("path")),h=f[f.length-1],p=f[0],d=l.getPoint(c);if(d&&!isNaN(d.x)){var g=u.addShape("path",{attrs:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}({path:n},s)}),v=a[1][0]-a[0][0],m=a[1][1]-a[0][1],y=i/Math.sqrt(v*v+m*m),b=[-v*y,-m*y],x=0,w=Math.atan(v/m);0===m&&v<0?x=Math.PI:v>0&&m>0?x=Math.PI/2-w:v<0&&m<0?x=-Math.PI/2-w:v>=0&&m<0?x=-w-Math.PI/2:v<=0&&m>0&&(x=Math.PI/2-w),g.rotate(x),g.translate(d.x,d.y),"end"===t?(h[h.length-1]=b[1]+d.y,h[h.length-2]=b[0]+d.x):(p[p.length-1]=b[1]+d.y,p[p.length-2]=b[0]+d.x),l.attr("path",f),this[t+"Arrow"]=g}},n._getControlPoints=function(){var e=this.model.controlPoints;return o.isArray(e)?e:[]},n._shouldDraw=function(){return e.prototype._shouldDraw.call(this)&&this.linkedItemVisible()},n._getPoint=function(e){if(e.isItem){var t=e.getBBox();return{x:t.centerX,y:t.centerY}}return{x:e.x,y:e.y}},n.linkedItemVisible=function(){var e=this.source,t=this.target;return o.isPlainObject(e)||o.isPlainObject(t)||e.isVisible()||t.isVisible()||e.collapsedParent!==t.collapsedParent},n.getSource=function(){var e=this.source,t=e.collapsedParent,n=this.itemMap;return t?n[t.id]:e},n.getTarget=function(){var e=this.target,t=e.collapsedParent,n=this.itemMap;return t?n[t.id]:e},n.getPoints=function(){var e=this.getSource(),t=this.getTarget(),n=this.model,r=this._getControlPoints(),i=this._getPoint(e),a=this._getPoint(t),c=[i].concat(r).concat([a]),s=c.length;if(e.isItem){var u=o.isNumber(this.model.sourceAnchor)&&e.id===n.source?this.model.sourceAnchor:c[1],l=e.getLinkPoints(u);c[0]=l[0]}if(t.isItem){var f=o.isNumber(this.model.targetAnchor)&&t.id===n.target?this.model.targetAnchor:c[s-2],h=t.getLinkPoints(f);c[s-1]=h[0]}return c},n.destroy=function(){var t=this.itemMap,n=this.model,r=t[n.source],i=t[n.target];r&&r.isItem&&o.Array.remove(r.edges,this),i&&i.isItem&&o.Array.remove(i.edges,this),e.prototype.destroy.call(this)},t}(n(608));e.exports=i},function(e,t,n){e.exports={Node:n(624),Edge:n(709),Group:n(708),Guide:n(707)}},function(e,t,n){var r;!function(t){"use strict";function o(){}var i=o.prototype,a=t.EventEmitter;function c(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function s(e){return function(){return this[e].apply(this,arguments)}}i.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp)for(n in t={},r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n]);else t=r[e]||(r[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},i.addListener=function(e,t){if(!function e(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&e(t.listener)}(t))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(e),o="object"==typeof t;for(n in r)r.hasOwnProperty(n)&&-1===c(r[n],t)&&r[n].push(o?t:{listener:t,once:!1});return this},i.on=s("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=s("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,t){var n,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&-1!==(n=c(o[r],t))&&o[r].splice(n,1);return this},i.off=s("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var r,o,i=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)i.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(o=t[r])&&("function"==typeof o?i.call(this,r,o):a.call(this,r,o));return this},i.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},i.removeAllListeners=s("removeEvent"),i.emitEvent=function(e,t){var n,r,o,i,a=this.getListenersAsObject(e);for(i in a)if(a.hasOwnProperty(i))for(n=a[i].slice(0),o=0;o<n.length;o++)!0===(r=n[o]).once&&this.removeListener(e,r.listener),r.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},i.trigger=s("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},o.noConflict=function(){return t.EventEmitter=a,o},void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}("undefined"!=typeof window?window:this||{})},function(e,t,n){var r=n(26),o=function(e){!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(n,e);var t=n.prototype;function n(t){var n,o=(n=e.call(this)||this).getDefaultCfg();return n._cfg=r.mix({},o,t),n}return t.getDefaultCfg=function(){return{}},t.get=function(e){return this._cfg[e]},t.set=function(e,t){this._cfg[e]=t},t.destroy=function(){this._cfg={},this.removeAllListeners(),this.destroyed=!0},n}(n(711));e.exports=o},function(e,t,n){var r=n(26),o=n(248),i=function(){};r.augment(i,{drawInner:function(e){var t=r.clone(this.getTotalMatrix()),n=this._attrs,o=n.x,i=n.y,a=n.width,c=n.height;e.setTransform(t[0],t[1],t[3],t[4],t[6],t[7]),e.drawImage(this.domImage,o,i,a,c)}}),r.mixin(o.Dom,[i]),e.exports=i},function(e,t,n){var r=n(26),o=n(248),i=function(){};r.augment(i,{hasClass:function(e){var t=this.get("class");return!(!t||-1===t.indexOf(e))}}),r.mixin(o.Shape,[i]),e.exports=i},function(e,t,n){var r=n(248),o=n(26),i=function(){};o.augment(i,{findByClass:function(e){var t=[];return this.deepEach(function(n){n.hasClass(e)&&t.push(n)}),t},hasClass:function(e){var t=this.get("class");return!(!t||-1===t.indexOf(e))},deepEach:function(e,t){o.traverseTree(this,e,function(e){return e.get("children")},t)},sort:function(){var e=this.get("children");this.set("children",o.radixSort(e,function(e){return e.get("zIndex")}))},sortBy:function(e){var t=this.get("children");this.set("children",o.radixSort(t,e))},clear:function(e){for(var t=this._cfg.children,n=t.length-1;n>=0;n--)t[n].remove(e);return this._cfg.children=[],this}}),o.mixin(r.Group,[i]),e.exports=i},function(e,t,n){n(258).registerGuide("common",{draw:function(){console.warn("do not have this guide, please register one")}})},function(e,t,n){e.exports={common:n(716)}},function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(258),i=n(26),a=n(247);o.registerGroup("common",{draw:function(e){return e.getModel().collapsed?this.drawCollapsed(e):this.drawExpanded(e)},defaultWidth:184,defaultHeight:40,getLabel:function(e){return e.getModel().label},drawLabel:function(e,t,n){var r=this.getLabel(e);if(r){var o=e.getGraphicGroup(),c=[8,8];t+=c[0],n+=c[1];var s=e.getModel(),u=s.labelOffsetX,l=s.labelOffsetY,f=s.labelRotate;t=u?u+t:t,n=l?l+n:n;var h=i.mix(!0,{},a.labelStyle,{x:t,y:n,textAlign:"left",textBaseline:"top"});i.isObject(r)?i.mix(h,r):h.text=r;var p=o.addShape("text",{class:"label",attrs:h});if(f){var d=p.getBBox(),g=(d.maxX+d.minX)/2,v=(d.maxY+d.minY)/2;p.transform([["t",-g,-v],["r",f,f],["t",g,v]])}}},drawKeyShape:function(e,t){var n=t.x,r=t.y,o=t.width,c=t.height,s=e.getModel(),u=e.getGraphicGroup(),l=i.mix({},a.groupStyle,s.style),f=i.getRectPath(n,r,o,c,l.radius);return e.lastChildrenBox=t,u.addShape("path",{attrs:i.mix({},l,{path:f})})},getChildrenBBox:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}({},e.lastChildrenBox),n=e.getModel();if(e.getChildren().length>0){var o=e.getChildrenBBox();t.x=o.minX-a.groupBackgroundPadding[3],t.y=o.minY-a.groupBackgroundPadding[0],t.width=o.maxX-o.minX+a.groupBackgroundPadding[3]+a.groupBackgroundPadding[1],t.height=o.maxY-o.minY+a.groupBackgroundPadding[0]+a.groupBackgroundPadding[2]}else t.width=this.defaultWidth,t.height=this.defaultHeight;return i.isNil(t.x)&&!i.isNil(n.x)&&(t.x=n.x),i.isNil(t.y)&&!i.isNil(n.y)&&(t.y=n.y),t},drawExpanded:function(e){var t=this.getChildrenBBox(e),n=this.drawKeyShape(e,t);return this.drawLabel(e,t.x,t.y),n},drawCollapsed:function(e){var t=this.getChildrenBBox(e);t.width=this.defaultWidth,t.height=this.defaultHeight;var n=this.drawKeyShape(e,t);return this.drawLabel(e,t.x,t.y),n},anchor:{intersectBox:"rect"}})},function(e,t,n){e.exports={common:n(718)}},function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(258),a=n(26),c=n(247),s={path:function(e){var t=e.getKeyShape().attr("lineWidth"),n=10*(t=t>3?t:3)/3,r=4*t/3,o=4*t;return[["M",-n,r],["L",0,0],["L",-n,-r],["A",o,o,0,0,1,-n,r],["Z"]]},shorten:function(e){var t=e.getKeyShape().attr("lineWidth");return 3.1*(t>3?t:3)},style:function(e){var t=e.getKeyShape().attr();return{fillOpacity:t.strokeOpacity,fill:t.stroke}}};i.registerEdge("common",{draw:function(e){var t=this.drawKeyShape(e);return this.drawLabel(e,t),t},drawKeyShape:function(e){var t=e.getGraphicGroup(),n=this.getStyle(e),r=this.getPath(e);return t.addShape("path",{attrs:a.mix({},n,{path:r})})},getStyle:function(e){var t=e.getModel();return a.mix(!0,{},{stroke:t.color||"#A3B1BF",strokeOpacity:.92,lineAppendWidth:4,lineWidth:t.size||1},t.style)},getPath:function(e){var t=e.getPoints();return a.pointsToPolygon(t)},getLabel:function(e){return e.getModel().label},getDefaultLabelRectStyle:function(){return{fill:"white"}},getDefaultLabelRectPadding:function(){return a.toAllPadding([4,8])},drawLabel:function(e,t){var n=this.getLabel(e),r=e.getGraphicGroup(),o=e.getModel(),i=o.labelOffsetX,s=o.labelOffsetY,u=o.labelRotate;if(n){var l=t.getPoint(.5);if(!l)return;l.x=i?l.x+i:l.x,l.y=s?l.y+s:l.y;var f=a.mix(!0,{},c.labelStyle,l);a.isObject(n)?a.mix(f,n):f.text=n,n=r.addShape("text",{class:"label",attrs:f});var h=this.getDefaultLabelRectPadding(e),p=this.getDefaultLabelRectStyle(e),d=n.getBBox(),g=o.labelRectStyle?a.mix({},p,o.labelRectStyle):p,v=r.addShape("rect",{attrs:a.mix({},g,{x:d.minX-h[3],y:d.minY-h[0],width:d.maxX-d.minX+h[1]+h[3],height:d.maxY-d.minY+h[0]+h[2]})});if(u){var m=(d.maxX+d.minX)/2,y=(d.maxY+d.minY)/2;n.transform([["t",-m,-y],["r",u,u],["t",m,y]]),v.transform([["t",-m,-y],["r",u,u],["t",m,y]])}a.toFront(n)}},startArrow:r({},s,{tangent:function(e){return e.getKeyShape().getStartTangent()},ratio:function(){return 0}}),endArrow:r({},s,{tangent:function(e){return e.getKeyShape().getEndTangent()},ratio:function(){return 1}})})},function(e,t,n){e.exports={common:n(720)}},function(e,t,n){var r=n(258),o=n(26);r.registerNode("html",{getHtml:function(e){return e.getModel().html},cssSize:!0,draw:function(e){var t=o.createDOM('<div class="g6-html-node-container"></div>'),n=e.getGraphicGroup(),r=e.getGraph();if("svg"!==r.get("renderer"))throw new Error("please use svg renderer draw html element !");var i=r.getGraphContainer(),a=this.getSize(e),c=this.getStyle(e),s=this.cssSize,u=this.getHtml(e);u=o.createDOM(u),t.css({position:"absolute",padding:"0px",margin:"0px"}),t.appendChild(u),i.appendChild(t),s&&(a[0]=t.width(),a[1]=t.height());var l=-a[0]/2,f=-a[1]/2,h=a[0],p=a[1],d=n.addShape("rect",{attrs:o.mix({},c,{x:l,y:f,width:h,height:p})});return n.addShape("dom",{attrs:o.mix({x:l,y:f,width:h,height:p,html:t})}),d}})},function(e,t,n){var r=n(258),o=n(26),i=n(247);r.registerNode("common",{draw:function(e){var t=e.getGraphicGroup(),n=this.drawLabel(e),r=this.drawKeyShape(e);return n&&o.toFront(n,t),r},getSize:function(e){var t=e.getModel().size;return o.isArray(t)?t:o.isNumber(t)?[t,t]:[i.defaultNodeSize,i.defaultNodeSize]},getStyle:function(e){var t=e.getModel();return o.mix(!0,{lineWidth:1,fill:t.color||"#40a9ff",stroke:t.color||"#096dd9",fillOpacity:.92},t.style)},getLabel:function(e){return e.getModel().label},drawKeyShape:function(e){var t=e.getGraphicGroup(),n=this.getStyle(e),r=this.getPath(e);return t.addShape("path",{attrs:o.mix({},n,{path:r})})},drawLabel:function(e){var t=e.getGraphicGroup(),n=this.getLabel(e),r=e.getModel(),a=r.labelOffsetX,c=r.labelOffsetY,s=r.labelRotate;if(!o.isNil(n)){var u=o.mix(!0,{},i.labelStyle,{x:a||0,y:c||0});o.isObject(n)?o.mix(u,n):u.text=n;var l=t.addShape("text",{class:"label",attrs:u});return s&&l.rotate(s),l}},getPath:function(e){var t=this.getSize(e);return o.getEllipsePath(0,0,t[0]/2,t[1]/2)}})},function(e,t,n){e.exports={common:n(723),html:n(722)}},function(e,t,n){var r=n(682),o=n(257),i={getAutoZoomMatrix:function(e,t,n,o){var i=[1,0,0,0,1,0,0,0,1],a=e.maxX-e.minX,c=e.maxY-e.minY,s=(t.maxX+t.minX)/2,u=(t.maxY+t.minY)/2,l=a-n[1]-n[3],f=c-n[0]-n[2],h=t.maxX-t.minX,p=t.maxY-t.minY,d=Math.min(f/p,l/h);return o&&(d=o(d)),r.mat3.translate(i,i,[-s,-u]),r.mat3.scale(i,i,[d,d]),r.mat3.translate(i,i,[a/2,c/2]),i},getNineBoxPosition:function(e,t,n,r,o){var i={};switch(e){case"tl":i.y=t.x+o[0],i.x=t.y+o[3];break;case"lc":i.y=(t.height-r)/2,i.x=o[3];break;case"bl":i.y=t.height-r-o[2],i.x=o[3];break;case"cc":i.y=(t.height-r)/2,i.x=(t.width-n)/2;break;case"tc":i.y=o[0],i.x=(t.width-n)/2;break;case"tr":i.y=o[0],i.x=t.width-n-o[1];break;case"rc":i.y=(t.height-r)/2,i.x=t.width-n-o[1];break;case"br":i.y=t.height-r-o[2],i.x=t.width-n-o[1];break;case"bc":i.y=t.height-r-o[2],i.x=(t.width-n)/2;break;default:i.y=t.x+o[0],i.x=t.y+o[3]}return i.x+=t.x,i.y+=t.y,i},getTotalBBox:function(e){var t=1/0,n=-1/0,r=1/0,o=-1/0;return e.forEach(function(e){e.minX<t&&(t=e.minX),e.maxX>n&&(n=e.maxX),e.minY<r&&(r=e.minY),e.maxY>o&&(o=e.maxY)}),{minX:t,minY:r,maxX:n,maxY:o,width:n-t,height:o-r}},getChildrenBBox:function(e){var t=1/0,n=-1/0,r=1/0,a=-1/0;o.each(e,function(e){var o=e.isGroup?i.getChildrenBBox(e.get("children")):e.getBBox();if(!o)return!0;var c=[o.minX,o.minY,1],s=[o.minX,o.maxY,1],u=[o.maxX,o.minY,1],l=[o.maxX,o.maxY,1];e.apply(c),e.apply(s),e.apply(u),e.apply(l);var f=Math.min(c[0],s[0],u[0],l[0]),h=Math.max(c[0],s[0],u[0],l[0]),p=Math.min(c[1],s[1],u[1],l[1]),d=Math.max(c[1],s[1],u[1],l[1]);f<t&&(t=f),h>n&&(n=h),p<r&&(r=p),d>a&&(a=d)});var c={minX:t,minY:r,maxX:n,maxY:a};return c.x=c.minX,c.y=c.minY,c.width=c.maxX-c.minX,c.height=c.maxY-c.minY,c.centerX=(c.minX+c.maxX)/2,c.centerY=(c.minY+c.maxY)/2,c},getBBox:function(e,t){var n,o=e.getBBox(),i={x:o.minX,y:o.minY},a={x:o.maxX,y:o.maxY};if(t.isGroup){for(n=e;n!==t;){var c=n.getMatrix();i=r.applyMatrix(i,c),a=r.applyMatrix(a,c),n=n.getParent()}var s=n.getMatrix();i=r.applyMatrix(i,s),a=r.applyMatrix(a,s)}else i=r.applyMatrix(i,t),a=r.applyMatrix(a,t);return{minX:i.x,minY:i.y,maxX:a.x,maxY:a.y}},toBack:function(e){e.toBack()},toFront:function(e){e.toFront()}};e.exports=i},function(e,t,n){var r=n(257);e.exports={isNode:function(e){return e&&r.isObject(e)&&"node"===e.type},isEdge:function(e){return e&&r.isObject(e)&&"edge"===e.type},isGroup:function(e){return e&&r.isObject(e)&&"group"===e.type}}},function(e,t,n){var r=n(257),o={};r.mix(o,{addEventListener:function(e,t,n){return e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):void 0},createDOM:function(e,t){var n;return(n=r.isString(e)?r.createDom(e):e).bbox=n.getBoundingClientRect(),n.hide=function(){return n.style.visibility="hidden",n},n.show=function(){return n.style.visibility="visible",n},n.css=function(e){return r.modifyCSS(n,e),n},n.width=function(){return r.getWidth(n)},n.height=function(){return r.getHeight(n)},n.destroy=function(){n.parentNode&&n.parentNode.removeChild(n)},n.on=function(e,t){n.addEventListener(e,t)},n.off=function(e,t){n.removeEventListener(e,t)},n.css(t),n},initDOMContainer:function(e,t){if(!e)throw new Error("please set the container for the "+t+" !");return r.isString(e)&&(e=document.getElementById(e)),e}}),e.exports=o},function(e,t){var n={svg:"svg",circle:"circle",rect:"rect",text:"text",path:"path",foreignObject:"foreignObject",polygon:"polygon",ellipse:"ellipse",image:"image"};e.exports=function(e,t,r){var o=r.target||r.srcElement;if(!n[o.tagName]){for(var i=o.parentNode;i&&!n[i.tagName];)i=i.parentNode;o=i}return this._cfg.el===o?this:this.find(function(e){return e._cfg&&e._cfg.el===o})}},function(e,t,n){var r=n(19),o=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,i=function(){function e(e){var t=document.createElementNS("http://www.w3.org/2000/svg","pattern");t.setAttribute("patternUnits","userSpaceOnUse");var n=document.createElementNS("http://www.w3.org/2000/svg","image");t.appendChild(n);var i=r.uniqueId("pattern_");t.id=i,this.el=t,this.id=i,this.cfg=e;var a=o.exec(e)[2];n.setAttribute("href",a);var c=new Image;function s(){console.log(c.width,c.height),t.setAttribute("width",c.width),t.setAttribute("height",c.height)}return a.match(/^data:/i)||(c.crossOrigin="Anonymous"),c.src=a,c.complete?s():(c.onload=s,c.src=c.src),this}return e.prototype.match=function(e,t){return this.cfg===t},e}();e.exports=i},function(e,t,n){var r=n(19),o=function(){function e(e){this.type="clip";var t=document.createElementNS("http://www.w3.org/2000/svg","clipPath");this.el=t,this.id=r.uniqueId("clip_"),t.id=this.id;var n=e._cfg.el;return t.appendChild(n.cloneNode(!0)),this.cfg=e,this}var t=e.prototype;return t.match=function(){return!1},t.remove=function(){var e=this.el;e.parentNode.removeChild(e)},e}();e.exports=o},function(e,t,n){var r=n(19),o=function(){function e(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","marker"),o=r.uniqueId("marker_");n.setAttribute("id",o);var i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("stroke","none"),i.setAttribute("fill",e.stroke||"#000"),n.appendChild(i),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=i,this.id=o,this.cfg=e["marker-start"===t?"startArrow":"endArrow"],this.stroke=e.stroke||"#000",!0===this.cfg?this._setDefaultPath(t,i):this._setMarker(e.lineWidth,i),this}var t=e.prototype;return t.match=function(){return!1},t._setDefaultPath=function(e,t){var n=this.el;t.setAttribute("d","M0,0 L6,3 L0,6 L3,3Z"),n.setAttribute("refX",3),n.setAttribute("refY",3)},t._setMarker=function(e,t){var n=this.el,o=this.cfg.path,i=this.cfg.d;r.isArray(o)&&(o=o.map(function(e){return e.join(" ")}).join("")),t.setAttribute("d",o),n.appendChild(t),i&&n.setAttribute("refX",i/e)},t.update=function(e){var t=this.child;t.attr?t.attr("fill",e):t.setAttribute("fill",e)},e}();e.exports=o},function(e,t,n){var r=n(19),o={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},i={x:"-40%",y:"-40%",width:"200%",height:"200%"},a=function(){function e(e){this.type="filter";var t=document.createElementNS("http://www.w3.org/2000/svg","filter");return r.each(i,function(e,n){t.setAttribute(n,e)}),this.el=t,this.id=r.uniqueId("filter_"),this.el.id=this.id,this.cfg=e,this._parseShadow(e,t),this}var t=e.prototype;return t.match=function(e,t){if(this.type!==e)return!1;var n=!0,o=this.cfg;return r.each(Object.keys(o),function(e){if(o[e]!==t[e])return n=!1,!1}),n},t.update=function(e,t){var n=this.cfg;return n[o[e]]=t,this._parseShadow(n,this.el),this},t._parseShadow=function(e,t){var n='<feDropShadow \n      dx="'+(e.dx||0)+'" \n      dy="'+(e.dy||0)+'" \n      stdDeviation="'+(e.blur?e.blur/10:0)+'"\n      flood-color="'+(e.color?e.color:"#000")+'"\n      flood-opacity="'+(e.opacity?e.opacity:1)+'"\n      />';t.innerHTML=n},e}();e.exports=a},function(e,t,n){var r=n(19),o=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,i=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,a=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function c(e){var t=e.match(a);if(!t)return"";var n="";return t.sort(function(e,t){return e=e.split(":"),t=t.split(":"),Number(e[0])-Number(t[0])}),r.each(t,function(e){e=e.split(":"),n+='<stop offset="'+e[0]+'" stop-color="'+e[1]+'"></stop>'}),n}var s=function(){function e(e){var t=null,n=r.uniqueId("gradient_");return"l"===e.toLowerCase()[0]?function(e,t){var n,i,a=o.exec(e),s=r.mod(r.toRadian(parseFloat(a[1])),2*Math.PI),u=a[2];s>=0&&s<.5*Math.PI?(n={x:0,y:0},i={x:1,y:1}):.5*Math.PI<=s&&s<Math.PI?(n={x:1,y:0},i={x:0,y:1}):Math.PI<=s&&s<1.5*Math.PI?(n={x:1,y:1},i={x:0,y:0}):(n={x:0,y:1},i={x:1,y:0});var l=Math.tan(s),f=l*l,h=(i.x-n.x+l*(i.y-n.y))/(f+1)+n.x,p=l*(i.x-n.x+l*(i.y-n.y))/(f+1)+n.y;t.setAttribute("x1",n.x),t.setAttribute("y1",n.y),t.setAttribute("x2",h),t.setAttribute("y2",p),t.innerHTML=c(u)}(e,t=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")):function(e,t){var n=i.exec(e),r=parseFloat(n[1]),o=parseFloat(n[2]),a=parseFloat(n[3]),s=n[4];t.setAttribute("cx",r),t.setAttribute("cy",o),t.setAttribute("r",a),t.innerHTML=c(s)}(e,t=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")),t.setAttribute("id",n),this.el=t,this.id=n,this.cfg=e,this}return e.prototype.match=function(e,t){return this.cfg===t},e}();e.exports=s},function(e,t,n){var r=n(19),o=n(733),i=n(732),a=n(731),c=n(730),s=n(729),u=function(){function e(e){var t=document.createElementNS("http://www.w3.org/2000/svg","defs"),n=r.uniqueId("defs_");t.id=n,e.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=e}var t=e.prototype;return t.find=function(e,t){for(var n=this.children,r=null,o=0;o<n.length;o++)if(n[o].match(e,t)){r=n[o].id;break}return r},t.findById=function(e){for(var t=this.children,n=null,r=0;r<t.length;r++)if(t[r].id===e){n=t[r];break}return n},t.add=function(e){this.children.push(e),e.canvas=this.canvas,e.parent=this},t.getDefaultArrow=function(e,t){var n=e.stroke||e.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var r=new a(e,t);return this.defaultArrow[n]=r,this.el.appendChild(r.el),r.id},t.addGradient=function(e){var t=new o(e);return this.el.appendChild(t.el),this.add(t),t.id},t.addArrow=function(e,t){var n=new a(e,t);return this.el.appendChild(n.el),n.id},t.addShadow=function(e){var t=new i(e);return this.el.appendChild(t.el),this.add(t),t.id},t.addPattern=function(e){var t=new s(e);return this.el.appendChild(t.el),this.add(t),t.id},t.addClip=function(e){var t=new c(e);return this.el.appendChild(t.el),this.add(t),t.id},e}();e.exports=u},function(e,t,n){var r=n(19),o=n(593).parseRadius,i=n(611),a=n(734),c={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject",fan:"path",group:"g"},s={opacity:"opacity",fillStyle:"fill",strokeOpacity:"stroke-opacity",fillOpacity:"fill-opacity",strokeStyle:"stroke",x:"x",y:"y",r:"r",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},u={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},l={left:"left",start:"left",center:"middle",right:"end",end:"end"},f=function(){function e(e){if(!e)return null;var t=r.uniqueId("canvas_"),n=r.createDom('<svg id="'+t+'"></svg>');return e.appendChild(n),this.type="svg",this.canvas=n,this.context=new a(n),this.toDraw=!1,this}var t=e.prototype;return t.draw=function(e){var t=this;t.animateHandler?t.toDraw=!0:function n(){t.animateHandler=r.requestAnimationFrame(function(){t.animateHandler=void 0,t.toDraw&&n()});try{t._drawChildren(e)}catch(e){console.warn("error in draw canvas, detail as:"),console.warn(e),t.toDraw=!1}t.toDraw=!1}()},t.drawSync=function(e){this._drawChildren(e)},t._drawGroup=function(e,t){var n=e._cfg;n.removed||n.destroyed||(n.tobeRemoved&&(r.each(n.tobeRemoved,function(e){e.parentNode&&e.parentNode.removeChild(e)}),n.tobeRemoved=[]),this._drawShape(e,t),n.children&&n.children.length>0&&this._drawChildren(e))},t._drawChildren=function(e){var t,n=e._cfg.children;if(n)for(var r=0;r<n.length;r++)(t=n[r]).isGroup?this._drawGroup(t,r):this._drawShape(t,r)},t._drawShape=function(e,t){var n=e._attrs,r=e._cfg,o=r.el;r.removed||r.destroyed?o&&o.parentNode.removeChild(r.el):(!o&&r.parent&&(this._createDom(e,t),this._updateShape(e)),o=r.el,!1!==r.visible?(r.visible&&o.hasAttribute("visibility")&&o.removeAttribute("visibility"),r.hasUpdate&&this._updateShape(e),n.clip&&n.clip._cfg.hasUpdate&&this._updateShape(n.clip)):o.setAttribute("visibility","hidden"))},t._updateShape=function(e){var t=e._attrs,n=e._cfg.attrs;if(n)if(e._cfg.el||this._createDom(e),"clip"in t&&this._setClip(e,t.clip),("shadowOffsetX"in t||"shadowOffsetY"in t||"shadowBlur"in t||"shadowColor"in t)&&this._setShadow(e),"text"!==e.type){for(var o in"fan"===e.type&&this._updateFan(e),"marker"===e.type&&e._cfg.el.setAttribute("d",this._assembleMarker(t)),"rect"===e.type&&e._cfg.el.setAttribute("d",this._assembleRect(t)),t)t[o]!==n[o]&&this._setAttribute(e,o,t[o]);e._cfg.attrs=r.deepMix({},e._attrs),e._cfg.hasUpdate=!1}else this._updateText(e)},t._setAttribute=function(e,t,n){var o=e.type,i=e._attrs,a=e._cfg.el,c=this.context;if("marker"!==o&&"rect"!==o||!~["x","y","radius","r"].indexOf(t))if(~["circle","ellipse"].indexOf(o)&&~["x","y"].indexOf(t))a.setAttribute("c"+t,parseInt(n,10));else{if("polygon"===o&&"points"===t)return n&&0!==n.length||(n=""),r.isArray(n)&&(n=(n=n.map(function(e){return e[0]+","+e[1]})).join(" ")),void a.setAttribute("points",n);if("path"===t&&r.isArray(n))a.setAttribute("d",this._formatPath(n));else if("img"!==t){if("transform"===t)return n?void this._setTransform(e):void a.removeAttribute("transform");if("rotate"===t)return n?void this._setTransform(e):void a.removeAttribute("transform");if("matrix"!==t)if("fillStyle"!==t&&"strokeStyle"!==t){if("clip"!==t)if(~t.indexOf("Arrow"))if(t=s[t],n){var u=null;u="boolean"==typeof n?c.getDefaultArrow(i,t):c.addArrow(i,t),a.setAttribute(t,"url(#"+u+")"),e._cfg[t]=u}else e._cfg[t]=null,a.removeAttribute(t);else"html"===t&&("string"==typeof n?a.innerHTML=n:(a.innerHTML="",a.appendChild(n))),s[t]&&a.setAttribute(s[t],n)}else this._setColor(e,t,n);else this._setTransform(e)}else this._setImage(e,n)}},t._createDom=function(e,t){var n=c[e.type],r=e._attrs,o=e._cfg.parent,i=o._cfg.el;if(!n)throw new Error("the type"+e.type+"is not supported by svg");var a=document.createElementNS("http://www.w3.org/2000/svg",n);if(e._cfg.el=a,o)if(void 0===t)i.appendChild(a);else{var s=o._cfg.el.childNodes;"svg"===i.tagName&&(t+=1),s.length<=t?i.appendChild(a):i.insertBefore(a,s[t])}return e._cfg.attrs={},"text"===e.type?(a.setAttribute("paint-order","stroke"),a.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")):(r.stroke||r.strokeStyle||a.setAttribute("stroke","none"),r.fill||r.fillStyle||a.setAttribute("fill","none")),a},t._assembleMarker=function(e){var t=e.r;if(void 0===e.r&&(t=e.radius),isNaN(Number(e.x))||isNaN(Number(e.y))||isNaN(Number(t)))return"";var n="";return n="function"==typeof e.symbol?e.symbol(e.x,e.y,t):i.Symbols[e.symbol||"circle"](e.x,e.y,t),r.isArray(n)&&(n=n.map(function(e){return e.join(" ")}).join("")),n},t._assembleRect=function(e){var t=e.x,n=e.y,i=e.width,a=e.height,c=e.radius;if(!c)return"M "+t+","+n+" l "+i+",0 l 0,"+a+" l"+-i+" 0 z";var s=o(c);return r.isArray(c)?1===c.length?s.r1=s.r2=s.r3=s.r4=c[0]:2===c.length?(s.r1=s.r3=c[0],s.r2=s.r4=c[1]):3===c.length?(s.r1=c[0],s.r2=s.r4=c[1],s.r3=c[2]):(s.r1=c[0],s.r2=c[1],s.r3=c[2],s.r4=c[3]):s.r1=s.r2=s.r3=s.r4=c,[["M "+(t+s.r1)+","+n],["l "+(i-s.r1-s.r2)+",0"],["a "+s.r2+","+s.r2+",0,0,1,"+s.r2+","+s.r2],["l 0,"+(a-s.r2-s.r3)],["a "+s.r3+","+s.r3+",0,0,1,"+-s.r3+","+s.r3],["l "+(s.r3+s.r4-i)+",0"],["a "+s.r4+","+s.r4+",0,0,1,"+-s.r4+","+-s.r4],["l 0,"+(s.r4+s.r1-a)],["a "+s.r1+","+s.r1+",0,0,1,"+s.r1+","+-s.r1],["z"]].join(" ")},t._formatPath=function(e){return~(e=e.map(function(e){return e.join(" ")}).join("")).indexOf("NaN")?"":e},t._setTransform=function(e){for(var t=e._attrs.matrix,n=e._cfg.el,r=[],o=0;o<9;o+=3)r.push(t[o]+","+t[o+1]);-1===(r=r.join(",")).indexOf("NaN")?n.setAttribute("transform","matrix("+r+")"):console.warn("invalid matrix:",t)},t._setImage=function(e,t){var n=e._attrs,o=e._cfg.el;if(r.isString(t))o.setAttribute("href",t);else if(t instanceof Image)n.width||(o.setAttribute("width",t.width),e._attrs.width=t.width),n.height||(o.setAttribute("height",t.height),e._attrs.height=t.height),o.setAttribute("href",t.src);else if(t instanceof HTMLElement&&r.isString(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase())o.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var i=document.createElement("canvas");i.setAttribute("width",t.width),i.setAttribute("height",t.height),i.getContext("2d").putImageData(t,0,0),n.width||(o.setAttribute("width",t.width),e._attrs.width=t.width),n.height||(o.setAttribute("height",t.height),e._attrs.height=t.height),o.setAttribute("href",i.toDataURL())}},t._updateFan=function(e){function t(e,t,n){return{x:t*Math.cos(e)+n.x,y:t*Math.sin(e)+n.y}}var n=e._attrs,o=e._cfg,i={x:n.x,y:n.y},a=[],c=n.startAngle,s=n.endAngle;r.isNumberEqual(s-c,2*Math.PI)&&(s-=1e-5);var u=t(c,n.re,i),l=t(s,n.re,i),f=s>c?1:0,h=Math.abs(s-c)>Math.PI?1:0,p=n.rs,d=n.re,g=t(c,n.rs,i),v=t(s,n.rs,i);n.rs>0?(a.push("M "+l.x+","+l.y),a.push("L "+v.x+","+v.y),a.push("A "+p+","+p+",0,"+h+","+(1===f?0:1)+","+g.x+","+g.y),a.push("L "+u.x+" "+u.y)):(a.push("M "+i.x+","+i.y),a.push("L "+u.x+","+u.y)),a.push("A "+d+","+d+",0,"+h+","+f+","+l.x+","+l.y),n.rs>0?a.push("L "+v.x+","+v.y):a.push("Z"),o.el.setAttribute("d",a.join(" "))},t._updateText=function(e){var t=e._attrs,n=e._cfg.attrs,r=e._cfg.el;for(var o in this._setFont(e),t)if(t[o]!==n[o]){if("text"===o){this._setText(e,""+t[o]);continue}if("fillStyle"===o||"strokeStyle"===o){this._setColor(e,o,t[o]);continue}if("matrix"===o){this._setTransform(e);continue}s[o]&&r.setAttribute(s[o],t[o])}e._cfg.attrs=Object.assign({},e._attrs),e._cfg.hasUpdate=!1},t._setFont=function(e){var t=e.get("el"),n=e._attrs,r=n.fontSize;t.setAttribute("alignment-baseline",u[n.textBaseline]||"baseline"),t.setAttribute("text-anchor",l[n.textAlign]||"left"),r&&+r<12&&(n.matrix=[1,0,0,0,1,0,0,0,1],e.transform([["t",-n.x,-n.y],["s",+r/12,+r/12],["t",n.x,n.y]]))},t._setText=function(e,t){var n=e._cfg.el,o=e._attrs.textBaseline||"bottom";if(t)if(~t.indexOf("\n")){var i=e._attrs.x,a=t.split("\n"),c=a.length-1,s="";r.each(a,function(e,t){0===t?"alphabetic"===o?s+='<tspan x="'+i+'" dy="'+-c+'em">'+e+"</tspan>":"top"===o?s+='<tspan x="'+i+'" dy="0.9em">'+e+"</tspan>":"middle"===o?s+='<tspan x="'+i+'" dy="'+-(c-1)/2+'em">'+e+"</tspan>":"bottom"===o?s+='<tspan x="'+i+'" dy="-'+(c+.3)+'em">'+e+"</tspan>":"hanging"===o&&(s+='<tspan x="'+i+'" dy="'+(-(c-1)-.3)+'em">'+e+"</tspan>"):s+='<tspan x="'+i+'" dy="1em">'+e+"</tspan>"}),n.innerHTML=s}else n.innerHTML=t;else n.innerHTML=""},t._setClip=function(e,t){var n=e._cfg.el;if(t)if(n.hasAttribute("clip-path"))t._cfg.hasUpdate&&this._updateShape(t);else{this._createDom(t),this._updateShape(t);var r=this.context.addClip(t);n.setAttribute("clip-path","url(#"+r+")")}else n.removeAttribute("clip-path")},t._setColor=function(e,t,n){var r=e._cfg.el,o=this.context;if(n)if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)){var i=o.find("gradient",n);i||(i=o.addGradient(n)),r.setAttribute(s[t],"url(#"+i+")")}else if(/^[p,P]{1}[\s]*\(/.test(n)){var a=o.find("pattern",n);a||(a=o.addPattern(n)),r.setAttribute(s[t],"url(#"+a+")")}else r.setAttribute(s[t],n);else r.setAttribute(s[t],"none")},t._setShadow=function(e){var t=e._cfg.el,n=e._attrs,r={dx:n.shadowOffsetX,dy:n.shadowOffsetY,blur:n.shadowBlur,color:n.shadowColor};if(r.dx||r.dy||r.blur||r.color){var o=this.context.find("filter",r);o||(o=this.context.addShadow(r,this)),t.setAttribute("filter","url(#"+o+")")}else t.removeAttribute("filter")},e}();e.exports=f},function(e,t,n){e.exports={painter:n(735),getShape:n(728)}},function(e,t,n){var r=n(19),o=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,i=/[^\s\,]+/gi,a=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,c=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,s=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,u=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function l(e,t){var n=e.match(u);r.each(n,function(e){e=e.split(":"),t.addColorStop(e[0],e[1])})}e.exports={parsePath:function(e){return e=e||[],r.isArray(e)?e:r.isString(e)?(e=e.match(o),r.each(e,function(t,n){if((t=t.match(i))[0].length>1){var o=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=o}r.each(t,function(e,n){isNaN(e)||(t[n]=+e)}),e[n]=t}),e):void 0},parseStyle:function(e,t,n){if(r.isString(e)){if("("===e[1]||"("===e[2]){if("l"===e[0])return function(e,t,n){var o,i,c=a.exec(e),s=r.mod(r.toRadian(parseFloat(c[1])),2*Math.PI),u=c[2],f=t.getBBox();s>=0&&s<.5*Math.PI?(o={x:f.minX,y:f.minY},i={x:f.maxX,y:f.maxY}):.5*Math.PI<=s&&s<Math.PI?(o={x:f.maxX,y:f.minY},i={x:f.minX,y:f.maxY}):Math.PI<=s&&s<1.5*Math.PI?(o={x:f.maxX,y:f.maxY},i={x:f.minX,y:f.minY}):(o={x:f.minX,y:f.maxY},i={x:f.maxX,y:f.minY});var h=Math.tan(s),p=h*h,d=(i.x-o.x+h*(i.y-o.y))/(p+1)+o.x,g=h*(i.x-o.x+h*(i.y-o.y))/(p+1)+o.y,v=n.createLinearGradient(o.x,o.y,d,g);return l(u,v),v}(e,t,n);if("r"===e[0])return function(e,t,n){var r=c.exec(e),o=parseFloat(r[1]),i=parseFloat(r[2]),a=parseFloat(r[3]),s=r[4];if(0===a){var f=s.match(u);return f[f.length-1].split(":")[1]}var h=t.getBBox(),p=h.maxX-h.minX,d=h.maxY-h.minY,g=Math.sqrt(p*p+d*d)/2,v=n.createRadialGradient(h.minX+p*o,h.minY+d*i,a*g,h.minX+p/2,h.minY+d/2,g);return l(s,v),v}(e,t,n);if("p"===e[0])return function(e,t,n){if(t.get("patternSource")&&t.get("patternSource")===e)return t.get("pattern");var r,o,i=s.exec(e),a=i[1],c=i[2];function u(){r=n.createPattern(o,a),t.setSilent("pattern",r),t.setSilent("patternSource",e)}switch(a){case"a":a="repeat";break;case"x":a="repeat-x";break;case"y":a="repeat-y";break;case"n":a="no-repeat";break;default:a="no-repeat"}return o=new Image,c.match(/^data:/i)||(o.crossOrigin="Anonymous"),o.src=c,o.complete?u():(o.onload=u,o.src=o.src),r}(e,t,n)}return e}}}},function(e,t,n){var r=n(19),o=n(737),i=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash","lineDashOffset"],a=function(){function e(e){if(!e)return null;var t=r.uniqueId("canvas_"),n=r.createDom('<canvas id="'+t+'"></canvas>');return e.appendChild(n),this.type="canvas",this.canvas=n,this.context=n.getContext("2d"),this.toDraw=!1,this}var t=e.prototype;return t.beforeDraw=function(){var e=this.canvas;this.context&&this.context.clearRect(0,0,e.width,e.height)},t.draw=function(e){var t=this;t.animateHandler?t.toDraw=!0:function n(){t.animateHandler=r.requestAnimationFrame(function(){t.animateHandler=void 0,t.toDraw&&n()}),t.beforeDraw();try{t._drawGroup(e)}catch(e){console.warn("error in draw canvas, detail as:"),console.warn(e),t.toDraw=!1}t.toDraw=!1}()},t.drawSync=function(e){this.beforeDraw(),this._drawGroup(e)},t._drawGroup=function(e){if(!e._cfg.removed&&!e._cfg.destroyed&&e._cfg.visible){var t=e._cfg.children,n=null;this.setContext(e);for(var r=0;r<t.length;r++)n=t[r],t[r].isGroup?this._drawGroup(n):this._drawShape(n);this.restoreContext(e)}},t._drawShape=function(e){e._cfg.removed||e._cfg.destroyed||!e._cfg.visible||(this.setContext(e),e.drawInner(this.context),this.restoreContext(e),e._cfg.attrs=e._attrs,e._cfg.hasUpdate=!1)},t.setContext=function(e){var t=this.context,n=e._attrs.clip;t.save(),n&&(n.resetTransform(t),n.createPath(t),t.clip()),this.resetContext(e),e.resetTransform(t)},t.restoreContext=function(){this.context.restore()},t.resetContext=function(e){var t=this.context,n=e._attrs;if(!e.isGroup)for(var a in n)if(i.indexOf(a)>-1){var c=n[a];"fillStyle"===a&&(c=o.parseStyle(c,e,t)),"strokeStyle"===a&&(c=o.parseStyle(c,e,t)),"lineDash"===a&&t.setLineDash?r.isArray(c)?t.setLineDash(c):r.isString(c)&&t.setLineDash(c.split(" ")):t[a]=c}},e}();e.exports=a},function(e,t,n){e.exports={painter:n(738)}},function(e,t,n){e.exports={canvas:n(739),svg:n(736)}},function(e,t,n){var r=n(19),o=n(610),i=n(17),a=n(44),c=n(238),s=c.interpolate,u=c.interpolateArray,l=function(e){this._animators=[],this._current=0,this._timer=null,this.canvas=e};function f(e,t,n){var i,c=t.startTime;if(n<c+t.delay||t.isPaused)return!1;var l=t.duration,f=t.easing;if(n=n-c-t.delay,t.toAttrs.repeat)i=n%l/l,i=a[f](i);else{if(!((i=n/l)<1))return e.attr(t.toAttrs),t.toMatrix&&e.setMatrix(t.toMatrix),!0;i=a[f](i)}return function(e,t,n){var i={},a=t.toAttrs,c=t.fromAttrs,l=t.toMatrix;if(!e.get("destroyed")){var f;for(var h in a)if(!r.isEqual(c[h],a[h]))if("path"===h){var p=a[h],d=c[h];p.length>d.length?(p=o.parsePathString(a[h]),d=o.parsePathString(c[h]),d=o.fillPathByDiff(d,p),d=o.formatPath(d,p),t.fromAttrs.path=d,t.toAttrs.path=p):t.pathFormatted||(p=o.parsePathString(a[h]),d=o.parsePathString(c[h]),d=o.formatPath(d,p),t.fromAttrs.path=d,t.toAttrs.path=p,t.pathFormatted=!0),i[h]=[];for(var g=0;g<p.length;g++){for(var v=p[g],m=d[g],y=[],b=0;b<v.length;b++)r.isNumber(v[b])&&m&&r.isNumber(m[b])?(f=s(m[b],v[b]),y.push(f(n))):y.push(v[b]);i[h].push(y)}}else f=s(c[h],a[h]),i[h]=f(n);if(l){var x=u(t.fromMatrix,l)(n);e.setMatrix(x)}e.attr(i)}}(e,t,i),!1}r.augment(l,{initTimer:function(){var e,t,n,r=this,o=this;o._timer=i.timer(function(i){if(o._current=i,r._animators.length>0){for(var a=r._animators.length-1;a>=0;a--)if((e=r._animators[a]).get("destroyed"))o.removeAnimator(a);else{if(!e.get("pause").isPaused)for(var c=(t=e.get("animators")).length-1;c>=0;c--)n=t[c],f(e,n,i)&&(t.splice(c,1),n.callback&&n.callback());0===t.length&&o.removeAnimator(a)}r.canvas.draw()}})},addAnimator:function(e){this._animators.push(e)},removeAnimator:function(e){this._animators.splice(e,1)},isAnimating:function(){return!!this._animators.length},stop:function(){this._timer&&this._timer.stop()},stopAllAnimations:function(){this._animators.forEach(function(e){e.stopAnimate()}),this._animators=[],this.canvas.draw()},getTime:function(){return this._current}}),e.exports=l},function(e,t,n){var r=n(19),o=n(613),i={arc:n(602),ellipse:n(639),line:n(603)},a=r.createDom('<canvas width="500" height="500"></canvas>').getContext("2d");function c(e,t,n){return n.createPath(a),a.isPointInPath(e,t)}var s={arc:function(e,t){var n=this._attrs,r=n.x,i=n.y,a=n.r,c=n.startAngle,s=n.endAngle,u=n.clockwise,l=this.getHitLineWidth();return!!this.hasStroke()&&o.arcline(r,i,a,c,s,u,l,e,t)},circle:function(e,t){var n=this._attrs,r=n.x,i=n.y,a=n.r,c=this.getHitLineWidth(),s=this.hasFill(),u=this.hasStroke();return s&&u?o.circle(r,i,a,e,t)||o.arcline(r,i,a,0,2*Math.PI,!1,c,e,t):s?o.circle(r,i,a,e,t):!!u&&o.arcline(r,i,a,0,2*Math.PI,!1,c,e,t)},dom:function(e,t){if(!this._cfg.el)return!1;var n=this._cfg.el.getBBox();return o.box(n.x,n.x+n.width,n.y,n.y+n.height,e,t)},ellipse:function(e,t){var n=this._attrs,i=this.hasFill(),a=this.hasStroke(),c=n.x,s=n.y,u=n.rx,l=n.ry,f=this.getHitLineWidth(),h=u>l?u:l,p=u>l?1:u/l,d=u>l?l/u:1,g=[e,t,1],v=[1,0,0,0,1,0,0,0,1];r.mat3.scale(v,v,[p,d]),r.mat3.translate(v,v,[c,s]);var m=r.mat3.invert([],v);return r.vec3.transformMat3(g,g,m),i&&a?o.circle(0,0,h,g[0],g[1])||o.arcline(0,0,h,0,2*Math.PI,!1,f,g[0],g[1]):i?o.circle(0,0,h,g[0],g[1]):!!a&&o.arcline(0,0,h,0,2*Math.PI,!1,f,g[0],g[1])},fan:function(e,t){var n=this,a=n.hasFill(),c=n.hasStroke(),s=n._attrs,u=s.x,l=s.y,f=s.rs,h=s.re,p=s.startAngle,d=s.endAngle,g=s.clockwise,v=[e-u,t-l],m=r.vec2.angleTo([1,0],v);function y(){var e=i.arc.nearAngle(m,p,d,g);if(r.isNumberEqual(m,e)){var t=r.vec2.squaredLength(v);if(f*f<=t&&t<=h*h)return!0}return!1}function b(){var r=n.getHitLineWidth(),i={x:Math.cos(p)*f+u,y:Math.sin(p)*f+l},a={x:Math.cos(p)*h+u,y:Math.sin(p)*h+l},c={x:Math.cos(d)*f+u,y:Math.sin(d)*f+l},s={x:Math.cos(d)*h+u,y:Math.sin(d)*h+l};return!!(o.line(i.x,i.y,a.x,a.y,r,e,t)||o.line(c.x,c.y,s.x,s.y,r,e,t)||o.arcline(u,l,f,p,d,g,r,e,t)||o.arcline(u,l,h,p,d,g,r,e,t))}return a&&c?y()||b():a?y():!!c&&b()},image:function(e,t){var n=this._attrs;if(this.get("toDraw")||!n.img)return!1;this._cfg.attrs&&this._cfg.attrs.img===n.img||this._setAttrImg();var r=n.x,i=n.y,a=n.width,c=n.height;return o.rect(r,i,a,c,e,t)},line:function(e,t){var n=this._attrs,r=n.x1,i=n.y1,a=n.x2,c=n.y2,s=this.getHitLineWidth();return!!this.hasStroke()&&o.line(r,i,a,c,s,e,t)},path:function(e,t){var n=this,o=n.get("segments"),i=n.hasFill(),a=n.hasStroke();function s(){if(!r.isEmpty(o)){for(var i=n.getHitLineWidth(),a=0,c=o.length;a<c;a++)if(o[a].isInside(e,t,i))return!0;return!1}}return i&&a?c(e,t,n)||s():i?c(e,t,n):!!a&&s()},marker:function(e,t){var n=this._attrs,r=n.x,i=n.y,a=n.radius||n.r,c=this.getHitLineWidth();return o.circle(r,i,a+c/2,e,t)},polygon:function(e,t){var n=this,r=n.hasFill(),i=n.hasStroke();function a(){var r=n._attrs.points;if(r.length<2)return!1;var i=n.getHitLineWidth(),a=r.slice(0);return r.length>=3&&a.push(r[0]),o.polyline(a,i,e,t)}return r&&i?c(e,t,n)||a():r?c(e,t,n):!!i&&a()},polyline:function(e,t){var n=this._attrs;if(this.hasStroke()){var r=n.points;if(r.length<2)return!1;var i=n.lineWidth;return o.polyline(r,i,e,t)}return!1},rect:function(e,t){var n=this,r=n.hasFill(),i=n.hasStroke();function a(){var r=n._attrs,i=r.x,a=r.y,c=r.width,s=r.height,u=r.radius,l=n.getHitLineWidth();if(0===u){var f=l/2;return o.line(i-f,a,i+c+f,a,l,e,t)||o.line(i+c,a-f,i+c,a+s+f,l,e,t)||o.line(i+c+f,a+s,i-f,a+s,l,e,t)||o.line(i,a+s+f,i,a-f,l,e,t)}return o.line(i+u,a,i+c-u,a,l,e,t)||o.line(i+c,a+u,i+c,a+s-u,l,e,t)||o.line(i+c-u,a+s,i+u,a+s,l,e,t)||o.line(i,a+s-u,i,a+u,l,e,t)||o.arcline(i+c-u,a+u,u,1.5*Math.PI,2*Math.PI,!1,l,e,t)||o.arcline(i+c-u,a+s-u,u,0,.5*Math.PI,!1,l,e,t)||o.arcline(i+u,a+s-u,u,.5*Math.PI,Math.PI,!1,l,e,t)||o.arcline(i+u,a+u,u,Math.PI,1.5*Math.PI,!1,l,e,t)}return r&&i?c(e,t,n)||a():r?c(e,t,n):!!i&&a()},text:function(e,t){var n=this.getBBox();if(this.hasFill()||this.hasStroke())return o.box(n.minX,n.maxX,n.minY,n.maxY,e,t)}};e.exports={isPointInPath:function(e,t){var n=s[this.type];return!!n&&n.call(this,e,t)}}},function(e,t,n){var r=n(58);r.Arc=n(638),r.Circle=n(637),r.Dom=n(636),r.Ellipse=n(635),r.Fan=n(634),r.Image=n(633),r.Line=n(632),r.Marker=n(611),r.Path=n(631),r.Polygon=n(630),r.Polyline=n(629),r.Rect=n(628),r.Text=n(627),e.exports=r},function(e,t,n){var r=n(19),o={delay:"delay",rotate:"rotate"},i={fill:"fill",stroke:"stroke",fillStyle:"fillStyle",strokeStyle:"strokeStyle"};e.exports={animate:function(e,t,n,a,c){void 0===c&&(c=0),this.set("animating",!0);var s=this.get("timeline");s||(s=this.get("canvas").get("timeline"),this.setSilent("timeline",s));var u=this.get("animators")||[];s._timer||s.initTimer(),r.isNumber(a)&&(c=a,a=null),r.isFunction(n)?(a=n,n="easeLinear"):n=n||"easeLinear";var l=function(e,t){var n={matrix:null,attrs:{}},a=t._attrs;for(var c in e)if("transform"===c)n.matrix=r.transform(t.getMatrix(),e[c]);else if("rotate"===c)n.matrix=r.transform(t.getMatrix(),[["r",e[c]]]);else if("matrix"===c)n.matrix=e[c];else{if(i[c]&&/^[r,R,L,l]{1}[\s]*\(/.test(e[c]))continue;o[c]||a[c]===e[c]||(n.attrs[c]=e[c])}return n}(e,this),f={fromAttrs:function(e,t){var n={},r=t._attrs;for(var o in e.attrs)n[o]=r[o];return n}(l,this),toAttrs:l.attrs,fromMatrix:r.clone(this.getMatrix()),toMatrix:l.matrix,duration:t,easing:n,callback:a,delay:c,startTime:s.getTime(),id:r.uniqueId()};u.length>0?u=function(e,t){var n=t.delay,o=Object.prototype.hasOwnProperty;return r.each(t.toAttrs,function(t,i){r.each(e,function(e){n<e.startTime+e.duration&&o.call(e.toAttrs,i)&&(delete e.toAttrs[i],delete e.fromAttrs[i])})}),t.toMatrix&&r.each(e,function(e){n<e.startTime+e.duration&&e.toMatrix&&delete e.toMatrix}),e}(u,f):s.addAnimator(this),u.push(f),this.setSilent("animators",u),this.setSilent("pause",{isPaused:!1})},stopAnimate:function(){var e=this,t=this.get("animators");r.each(t,function(t){e.attr(t.toAttrs),t.toMatrix&&e.attr("matrix",t.toMatrix),t.callback&&t.callback()}),this.setSilent("animating",!1),this.setSilent("animators",[])},pauseAnimate:function(){var e=this.get("timeline");return this.setSilent("pause",{isPaused:!0,pauseTime:e.getTime()}),this},resumeAnimate:function(){var e=this.get("timeline").getTime(),t=this.get("animators"),n=this.get("pause").pauseTime;return r.each(t,function(t){t.startTime=t.startTime+(e-n),t._paused=!1,t._pauseTime=null}),this.setSilent("pause",{isPaused:!1}),this.setSilent("animators",t),this}}},function(e,t,n){var r=n(19);function o(e){return 1===e[0]&&0===e[1]&&0===e[3]&&1===e[4]&&0===e[6]&&0===e[7]}function i(e){return 0===e[1]&&0===e[3]&&0===e[6]&&0===e[7]}function a(e,t){o(t)||(i(t)?(e[0]*=t[0],e[4]*=t[4]):r.mat3.multiply(e,e,t))}e.exports={initTransform:function(){},resetMatrix:function(){this.attr("matrix",[1,0,0,0,1,0,0,0,1])},translate:function(e,t){var n=this._attrs.matrix;return r.mat3.translate(n,n,[e,t]),this.clearTotalMatrix(),this.attr("matrix",n),this},rotate:function(e){var t=this._attrs.matrix;return r.mat3.rotate(t,t,e),this.clearTotalMatrix(),this.attr("matrix",t),this},scale:function(e,t){var n=this._attrs.matrix;return r.mat3.scale(n,n,[e,t]),this.clearTotalMatrix(),this.attr("matrix",n),this},rotateAtStart:function(e){var t=this._attrs.x||this._cfg.attrs.x,n=this._attrs.y||this._cfg.attrs.y;return Math.abs(e)>2*Math.PI&&(e=e/180*Math.PI),this.transform([["t",-t,-n],["r",e],["t",t,n]])},move:function(e,t){var n=this.get("x")||0,r=this.get("y")||0;return this.translate(e-n,t-r),this.set("x",e),this.set("y",t),this},transform:function(e){var t=this,n=this._attrs.matrix;return r.each(e,function(e){switch(e[0]){case"t":t.translate(e[1],e[2]);break;case"s":t.scale(e[1],e[2]);break;case"r":t.rotate(e[1]);break;case"m":t.attr("matrix",r.mat3.multiply([],n,e[1])),t.clearTotalMatrix()}}),t},setTransform:function(e){return this.attr("matrix",[1,0,0,0,1,0,0,0,1]),this.transform(e)},getMatrix:function(){return this.attr("matrix")},setMatrix:function(e){return this.attr("matrix",e),this.clearTotalMatrix(),this},apply:function(e,t){var n;return n=t?this._getMatrixByRoot(t):this.attr("matrix"),r.vec3.transformMat3(e,e,n),this},_getMatrixByRoot:function(e){e=e||this;for(var t=this,n=[];t!==e;)n.unshift(t),t=t.get("parent");n.unshift(t);var o=[1,0,0,0,1,0,0,0,1];return r.each(n,function(e){r.mat3.multiply(o,e.attr("matrix"),o)}),o},getTotalMatrix:function(){var e=this._cfg.totalMatrix;if(!e){e=[1,0,0,0,1,0,0,0,1];var t=this._cfg.parent;t&&a(e,t.getTotalMatrix()),a(e,this.attr("matrix")),this._cfg.totalMatrix=e}return e},clearTotalMatrix:function(){},invert:function(e){var t=this.getTotalMatrix();if(i(t))e[0]/=t[0],e[1]/=t[4];else{var n=r.mat3.invert([],t);n&&r.vec3.transformMat3(e,e,n)}return this},resetTransform:function(e){var t=this.attr("matrix");o(t)||e.transform(t[0],t[1],t[3],t[4],t[6],t[7])}}},function(e,t,n){var r=n(19);e.exports={canFill:!1,canStroke:!1,initAttrs:function(e){return this._attrs={opacity:1,fillOpacity:1,strokeOpacity:1,matrix:[1,0,0,0,1,0,0,0,1]},this.attr(r.assign(this.getDefaultAttrs(),e)),this},getDefaultAttrs:function(){return{}},attr:function(e,t){if(0===arguments.length)return this._attrs;if(r.isObject(e)){for(var n in e)this._setAttr(n,e[n]);return this.clearBBox(),this._cfg.hasUpdate=!0,this}return 2===arguments.length?(this._setAttr(e,t),this.clearBBox(),this._cfg.hasUpdate=!0,this):this._attrs[e]},_setAttr:function(e,t){var n=this._attrs;n[e]=t,"fill"!==e&&"stroke"!==e?"opacity"!==e?"clip"===e&&t?this._setClip(t):"path"===e&&this._afterSetAttrPath?this._afterSetAttrPath(t):"transform"!==e?"rotate"===e&&this.rotateAtStart(t):this.transform(t):n.globalAlpha=t:n[e+"Style"]=t},clearBBox:function(){this.setSilent("box",null)},hasFill:function(){return this.canFill&&this._attrs.fillStyle},hasStroke:function(){return this.canStroke&&this._attrs.strokeStyle},_setClip:function(e){e._cfg.renderer=this._cfg.renderer,e._cfg.canvas=this._cfg.canvas,e._cfg.parent=this._cfg.parent,e.hasFill=function(){return!0}}}},function(e,t,n){var r=n(19),o=n(643),i=n(642),a=n(741),c=n(740),s=function e(t){e.superclass.constructor.call(this,t)};s.CFG={eventEnable:!0,width:null,height:null,widthCanvas:null,heightCanvas:null,widthStyle:null,heightStyle:null,containerDOM:null,canvasDOM:null,pixelRatio:null,renderer:"canvas"},r.extend(s,i),r.augment(s,{init:function(){s.superclass.init.call(this),this._setGlobalParam(),this._setContainer(),this._initPainter(),this._scale(),this.get("eventEnable")&&this._registEvents()},getEmitter:function(e,t){if(e){if(!r.isEmpty(e._getEvents()))return e;var n=e.get("parent");if(n&&!t.propagationStopped)return this.getEmitter(n,t)}},_getEventObj:function(e,t,n,r){var i=new o(e,t,!0,!0);return i.x=n.x,i.y=n.y,i.clientX=t.clientX,i.clientY=t.clientY,i.currentTarget=r,i.target=r,i},_triggerEvent:function(e,t){var n,r=this.getPointByClient(t.clientX,t.clientY),o=this.getShape(r.x,r.y,t),i=this.get("el");if("mousemove"===e){var a=this.get("preShape");if(a&&a!==o){var c=this._getEventObj("mouseleave",t,r,a);(n=this.getEmitter(a,t))&&n.emit("mouseleave",c),i.style.cursor="default"}if(o){var s=this._getEventObj("mousemove",t,r,o);if((n=this.getEmitter(o,t))&&n.emit("mousemove",s),a!==o){var u=this._getEventObj("mouseenter",t,r,o);n&&n.emit("mouseenter",u,t)}}else{var l=this._getEventObj("mousemove",t,r,this);this.emit("mousemove",l)}this.set("preShape",o)}else{var f=this._getEventObj(e,t,r,o||this);(n=this.getEmitter(o,t))&&n!==this&&n.emit(e,f),this.emit(e,f)}o&&!o.get("destroyed")&&(i.style.cursor=o.attr("cursor")||"default")},_registEvents:function(){var e=this,t=e.get("el");r.each(["mouseout","mouseover","mousemove","mousedown","mouseleave","mouseup","click","dblclick"],function(n){t.addEventListener(n,function(t){e._triggerEvent(n,t)},!1)}),t.addEventListener("touchstart",function(t){r.isEmpty(t.touches)||e._triggerEvent("touchstart",t.touches[0])},!1),t.addEventListener("touchmove",function(t){r.isEmpty(t.touches)||e._triggerEvent("touchmove",t.touches[0])},!1),t.addEventListener("touchend",function(t){r.isEmpty(t.changedTouches)||e._triggerEvent("touchend",t.changedTouches[0])},!1)},_scale:function(){if("svg"!==this._cfg.renderType){var e=this.get("pixelRatio");this.scale(e,e)}},_setGlobalParam:function(){var e=this.get("renderer")||"canvas";"svg"===e?this.set("pixelRatio",1):this.get("pixelRatio")||this.set("pixelRatio",r.getRatio()),this._cfg.renderType=e;var t=c[e];this._cfg.renderer=t,this._cfg.canvas=this;var n=new a(this);this._cfg.timeline=n},_setContainer:function(){var e=this.get("containerId"),t=this.get("containerDOM");t||(t=document.getElementById(e),this.set("containerDOM",t)),r.modifyCSS(t,{position:"relative"})},_initPainter:function(){var e=this.get("containerDOM"),t=new this._cfg.renderer.painter(e);this._cfg.painter=t,this._cfg.canvasDOM=this._cfg.el=t.canvas,this.changeSize(this.get("width"),this.get("height"))},_resize:function(){var e=this.get("canvasDOM"),t=this.get("widthCanvas"),n=this.get("heightCanvas"),r=this.get("widthStyle"),o=this.get("heightStyle");e.style.width=r,e.style.height=o,e.setAttribute("width",t),e.setAttribute("height",n)},getWidth:function(){var e=this.get("pixelRatio");return this.get("width")*e},getHeight:function(){var e=this.get("pixelRatio");return this.get("height")*e},changeSize:function(e,t){var n=this.get("pixelRatio"),r=e*n,o=t*n;this.set("widthCanvas",r),this.set("heightCanvas",o),this.set("widthStyle",e+"px"),this.set("heightStyle",t+"px"),this.set("width",e),this.set("height",t),this._resize()},getPointByClient:function(e,t){var n=this.get("el"),r=this.get("pixelRatio")||1,o=n.getBoundingClientRect();return{x:(e-o.left)*r,y:(t-o.top)*r}},getClientByPoint:function(e,t){var n=this.get("el").getBoundingClientRect(),r=this.get("pixelRatio")||1;return{clientX:e/r+n.left,clientY:t/r+n.top}},draw:function(){this._cfg.painter.draw(this)},getShape:function(e,t,n){return 3===arguments.length&&this._cfg.renderer.getShape?this._cfg.renderer.getShape.call(this,e,t,n):s.superclass.getShape.call(this,e,t)},getRenderer:function(){return this._cfg.renderType},_drawSync:function(){this._cfg.painter.drawSync(this)},destroy:function(){var e=this._cfg,t=e.containerDOM,n=e.canvasDOM;n&&t&&t.removeChild(n),e.timeline.stop(),s.superclass.destroy.call(this)}}),e.exports=s},function(e,t,n){var r=n(248),o={};n(257).mix(o,r.PathUtil,{getRectPath:r.PathUtil.rectPath,pointsToPolygon:function(e){for(var t=[["M",e[0].x,e[0].y]],n=1;n<e.length;n++){var r=e[n];t.push(["L",r.x,r.y])}return t},getEllipsePath:function(e,t,n,r){return[["M",e,t-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]]}}),e.exports=o},function(e,t,n){var r=n(645),o=n(16);e.exports=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:i,maxWait:t,trailing:a})}},function(e,t){e.exports=function(e,t,n){var r=void 0,o=void 0,i=void 0,a=void 0,c=0;n||(n={});var s=function(){c=!1===n.leading?0:Date.now(),r=null,a=e.apply(o,i),r||(o=i=null)},u=function(){var u=Date.now();c||!1!==n.leading||(c=u);var l=t-(u-c);return o=this,i=arguments,l<=0||l>t?(r&&(clearTimeout(r),r=null),c=u,a=e.apply(o,i),r||(o=i=null)):r||!1===n.trailing||(r=setTimeout(s,l)),a};return u.cancel=function(){clearTimeout(r),c=0,r=o=i=null},u}},function(e,t,n){var r=n(46),o=n(596),i=Object.prototype.hasOwnProperty;e.exports=function(e,t){if(null===e||!o(e))return{};var n={};return r(t,function(t){i.call(e,t)&&(n[t]=e[t])}),n}},function(e,t,n){var r=n(46),o=n(118);e.exports=function(e,t){if(!o(e))return e;var n=[];return r(e,function(e,r){n.push(t(e,r))}),n}},function(e,t,n){var r=n(84),o=n(614);e.exports=function(e,t,n){return r(n)?!!n(e,t):o(e,t)}},function(e,t,n){var r=n(118);e.exports=function(e,t){if(!r(e))return-1;var n=Array.prototype.indexOf;if(n)return n.call(e,t);for(var o=-1,i=0;i<e.length;i++)if(e[i]===t){o=i;break}return o}},function(e,t,n){var r=n(649);e.exports=function(e,t){if(!t)return[e];var n=r(e,t),o=[];for(var i in n)o.push(n[i]);return o}},function(e,t){e.exports=function(e,t,n){var r=void 0;return function(){var o=this,i=arguments,a=n&&!r;clearTimeout(r),r=setTimeout(function(){r=null,n||e.apply(o,i)},t),a&&e.apply(o,i)}}},function(e,t,n){var r=n(115);e.exports=function(e){return r(e,"Error")}},function(e,t,n){var r=n(115);e.exports=function(e){return r(e,"Arguments")}},function(e,t,n){var r=n(115);e.exports=function(e){return r(e,"Date")}},function(e,t,n){var r=n(115);e.exports=function(e){return r(e,"RegExp")}},function(e,t){e.exports=function(e){return void 0===e}},function(e,t){e.exports=function(e){return null===e}},function(e,t,n){var r=n(115),o={getType:n(654),isArray:n(45),isArrayLike:n(118),isBoolean:n(653),isFunction:n(84),isNil:n(237),isNull:n(762),isNumber:n(236),isObject:n(621),isObjectLike:n(619),isPlainObject:n(596),isPrototype:n(652),isType:r,isUndefined:n(761),isString:n(595),isRegExp:n(760),isDate:n(759),isArguments:n(758),isError:n(757)};e.exports=o},function(e,t,n){e.exports=n(656)},function(e,t){e.exports=function(e,t){return e&&t?e.replace(/\\?\{([^{}]+)\}/g,function(e,n){return"\\"===e.charAt(0)?e.slice(1):void 0===t[n]?"":t[n]}):e}},function(e,t,n){var r=n(594);e.exports=function(e){var t=r(e);return t.charAt(0).toLowerCase()+t.substring(1)}},function(e,t,n){e.exports=n(657)},function(e,t,n){var r={lc:n(767),lowerCase:n(657),lowerFirst:n(766),substitute:n(765),uc:n(764),upperCase:n(656),upperFirst:n(655)};e.exports=r},function(e,t){function n(e){var t=[];switch(e[0]){case"M":case"L":t.push([e[1],e[2]]);break;case"A":t.push([e[6],e[7]]);break;case"Q":t.push([e[3],e[4]]),t.push([e[1],e[2]]);break;case"T":t.push([e[1],e[2]]);break;case"C":t.push([e[5],e[6]]),t.push([e[1],e[2]]),t.push([e[3],e[4]]);break;case"S":t.push([e[3],e[4]]),t.push([e[1],e[2]]);break;case"H":case"V":t.push([e[1],e[1]])}return t}function r(e,t,r){for(var o=[].concat(e),i=void 0,a=1/(r+1),c=n(t)[0],s=1;s<=r;s++)a*=s,0===(i=Math.floor(e.length*a))?o.unshift([c[0]*a+e[i][0]*(1-a),c[1]*a+e[i][1]*(1-a)]):o.splice(i,0,[c[0]*a+e[i][0]*(1-a),c[1]*a+e[i][1]*(1-a)]);return o}e.exports=function(e,t){if(e.length<=1)return e;for(var o=void 0,i=0;i<t.length;i++)if(e[i][0]!==t[i][0])switch(o=n(e[i]),t[i][0]){case"M":e[i]=["M"].concat(o[0]);break;case"L":e[i]=["L"].concat(o[0]);break;case"A":e[i]=[].concat(t[i]),e[i][6]=o[0][0],e[i][7]=o[0][1];break;case"Q":if(o.length<2){if(!(i>0)){e[i]=t[i];break}o=r(o,e[i-1],1)}e[i]=["Q"].concat(o.reduce(function(e,t){return e.concat(t)},[]));break;case"T":e[i]=["T"].concat(o[0]);break;case"C":if(o.length<3){if(!(i>0)){e[i]=t[i];break}o=r(o,e[i-1],2)}e[i]=["C"].concat(o.reduce(function(e,t){return e.concat(t)},[]));break;case"S":if(o.length<2){if(!(i>0)){e[i]=t[i];break}o=r(o,e[i-1],1)}e[i]=["S"].concat(o.reduce(function(e,t){return e.concat(t)},[]));break;default:e[i]=t[i]}return e}},function(e,t,n){var r=n(46);e.exports=function(e,t){if(e.length!==t.length)return!1;var n=!0;return r(e,function(e,r){if(e!==t[r])return n=!1,!1}),n}},function(e,t,n){var r=n(770);function o(e,t,n){var r=null,o=n;return t<o&&(o=t,r="add"),e<o&&(o=e,r="del"),{type:r,min:o}}e.exports=function(e,t){var n=function(e,t){var n=e.length,i=t.length,a=void 0,c=void 0,s=0;if(0===n||0===i)return null;for(var u=[],l=0;l<=n;l++)u[l]=[],u[l][0]={min:l};for(var f=0;f<=i;f++)u[0][f]={min:f};for(var h=1;h<=n;h++){a=e[h-1];for(var p=1;p<=i;p++){c=t[p-1],s=r(a,c)?0:1;var d=u[h-1][p].min+1,g=u[h][p-1].min+1,v=u[h-1][p-1].min+s;u[h][p]=o(d,g,v)}}return u}(e,t),i=e.length,a=t.length,c=[],s=1,u=1;if(n[i][a]!==i){for(var l=1;l<=i;l++){var f=n[l][l].min;u=l;for(var h=s;h<=a;h++)n[l][h].min<f&&(f=n[l][h].min,u=h);s=u,n[l][s].type&&c.push({index:l-1,type:n[l][s].type})}for(var p=c.length-1;p>=0;p--)s=c[p].index,"add"===c[p].type?e.splice(s,0,[].concat(e[s])):e.splice(s,1)}if((i=e.length)<a)for(var d=0;d<a-i;d++)"z"===e[i-1][0]||"Z"===e[i-1][0]?e.splice(i-2,0,e[i-2]):e.push(e[i-1]);return e}},function(e,t){function n(e,t){var n=[],r=[];return e.length&&function e(t,o){if(1===t.length)n.push(t[0]),r.push(t[0]);else{for(var i=[],a=0;a<t.length-1;a++)0===a&&n.push(t[0]),a===t.length-2&&r.push(t[a+1]),i[a]=[(1-o)*t[a][0]+o*t[a+1][0],(1-o)*t[a][1]+o*t[a+1][1]];e(i,o)}}(e,t),{left:n,right:r.reverse()}}function r(e,t,r){if(1===r)return[[].concat(e)];var o=[];if("L"===t[0]||"C"===t[0]||"Q"===t[0])o=o.concat(function(e,t,r){var o=[[e[1],e[2]]];r=r||2;var i=[];"A"===t[0]?(o.push(t[6]),o.push(t[7])):"C"===t[0]?(o.push([t[1],t[2]]),o.push([t[3],t[4]]),o.push([t[5],t[6]])):"S"===t[0]||"Q"===t[0]?(o.push([t[1],t[2]]),o.push([t[3],t[4]])):o.push([t[1],t[2]]);for(var a=o,c=1/r,s=0;s<r-1;s++){var u=n(a,c/(1-c*s));i.push(u.left),a=u.right}return i.push(a),i.map(function(e){var t=[];return 4===e.length&&(t.push("C"),t=t.concat(e[2])),e.length>=3&&(3===e.length&&t.push("Q"),t=t.concat(e[1])),2===e.length&&t.push("L"),t=t.concat(e[e.length-1])})}(e,t,r));else{var i=[].concat(e);"M"===i[0]&&(i[0]="L");for(var a=0;a<=r-1;a++)o.push(i)}return o}e.exports=function(e,t){if(1===e.length)return e;var n=e.length-1,o=t.length-1,i=n/o,a=[];if(1===e.length&&"M"===e[0][0]){for(var c=0;c<o-n;c++)e.push(e[0]);return e}for(var s=0;s<o;s++){var u=Math.floor(i*s);a[u]=(a[u]||0)+1}var l=a.reduce(function(t,o,i){return i===n?t.concat(e[n]):t.concat(r(e[i],e[i+1],o))},[]);return l.unshift(e[0]),"Z"!==t[o]&&"z"!==t[o]||l.push("Z"),l}},function(e,t,n){var r=n(45),o=n(663),i=n(661),a=function(e,t,n,r,o){return e*(e*(-3*t+9*n-9*r+3*o)+6*t-12*n+6*r)-3*t+3*n},c=function(e,t,n,r,o,i,c,s,u){null===u&&(u=1);for(var l=(u=u>1?1:u<0?0:u)/2,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,d=0;d<12;d++){var g=l*f[d]+l,v=a(g,e,n,o,c),m=a(g,t,r,i,s),y=v*v+m*m;p+=h[d]*Math.sqrt(y)}return l*p},s=function(e,t,n,r,o,i,a,c){if(!(Math.max(e,n)<Math.min(o,a)||Math.min(e,n)>Math.max(o,a)||Math.max(t,r)<Math.min(i,c)||Math.min(t,r)>Math.max(i,c))){var s=(e-n)*(i-c)-(t-r)*(o-a);if(s){var u=((e*r-t*n)*(o-a)-(e-n)*(o*c-i*a))/s,l=((e*r-t*n)*(i-c)-(t-r)*(o*c-i*a))/s,f=+u.toFixed(2),h=+l.toFixed(2);if(!(f<+Math.min(e,n).toFixed(2)||f>+Math.max(e,n).toFixed(2)||f<+Math.min(o,a).toFixed(2)||f>+Math.max(o,a).toFixed(2)||h<+Math.min(t,r).toFixed(2)||h>+Math.max(t,r).toFixed(2)||h<+Math.min(i,c).toFixed(2)||h>+Math.max(i,c).toFixed(2)))return{x:u,y:l}}}},u=function(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height},l=function(e,t,n,r){return null===e&&(e=t=n=r=0),null===t&&(t=e.y,n=e.width,r=e.height,e=e.x),{x:e,y:t,width:n,w:n,height:r,h:r,x2:e+n,y2:t+r,cx:e+n/2,cy:t+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:o(e,t,n,r),vb:[e,t,n,r].join(" ")}},f=function(e,t,n,o,i,a,c,s){r(e)||(e=[e,t,n,o,i,a,c,s]);var u=function(e,t,n,r,o,i,a,c){for(var s=[],u=[[],[]],l=void 0,f=void 0,h=void 0,p=void 0,d=0;d<2;++d)if(0===d?(f=6*e-12*n+6*o,l=-3*e+9*n-9*o+3*a,h=3*n-3*e):(f=6*t-12*r+6*i,l=-3*t+9*r-9*i+3*c,h=3*r-3*t),Math.abs(l)<1e-12){if(Math.abs(f)<1e-12)continue;(p=-h/f)>0&&p<1&&s.push(p)}else{var g=f*f-4*h*l,v=Math.sqrt(g);if(!(g<0)){var m=(-f+v)/(2*l);m>0&&m<1&&s.push(m);var y=(-f-v)/(2*l);y>0&&y<1&&s.push(y)}}for(var b=s.length,x=b,w=void 0;b--;)w=1-(p=s[b]),u[0][b]=w*w*w*e+3*w*w*p*n+3*w*p*p*o+p*p*p*a,u[1][b]=w*w*w*t+3*w*w*p*r+3*w*p*p*i+p*p*p*c;return u[0][x]=e,u[1][x]=t,u[0][x+1]=a,u[1][x+1]=c,u[0].length=u[1].length=x+2,{min:{x:Math.min.apply(0,u[0]),y:Math.min.apply(0,u[1])},max:{x:Math.max.apply(0,u[0]),y:Math.max.apply(0,u[1])}}}.apply(null,e);return l(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)},h=function(e,t,n,r,o,i,a,c,s){var u=1-s,l=Math.pow(u,3),f=Math.pow(u,2),h=s*s,p=h*s,d=e+2*s*(n-e)+h*(o-2*n+e),g=t+2*s*(r-t)+h*(i-2*r+t),v=n+2*s*(o-n)+h*(a-2*o+n),m=r+2*s*(i-r)+h*(c-2*i+r);return{x:l*e+3*f*s*n+3*u*s*s*o+p*a,y:l*t+3*f*s*r+3*u*s*s*i+p*c,m:{x:d,y:g},n:{x:v,y:m},start:{x:u*e+s*n,y:u*t+s*r},end:{x:u*o+s*a,y:u*i+s*c},alpha:90-180*Math.atan2(d-v,g-m)/Math.PI}},p=function(e,t,n){if(!function(e,t){return e=l(e),t=l(t),u(t,e.x,e.y)||u(t,e.x2,e.y)||u(t,e.x,e.y2)||u(t,e.x2,e.y2)||u(e,t.x,t.y)||u(e,t.x2,t.y)||u(e,t.x,t.y2)||u(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}(f(e),f(t)))return n?0:[];for(var r=~~(c.apply(0,e)/8),o=~~(c.apply(0,t)/8),i=[],a=[],p={},d=n?0:[],g=0;g<r+1;g++){var v=h.apply(0,e.concat(g/r));i.push({x:v.x,y:v.y,t:g/r})}for(var m=0;m<o+1;m++){var y=h.apply(0,t.concat(m/o));a.push({x:y.x,y:y.y,t:m/o})}for(var b=0;b<r;b++)for(var x=0;x<o;x++){var w=i[b],O=i[b+1],S=a[x],E=a[x+1],_=Math.abs(O.x-w.x)<.001?"y":"x",P=Math.abs(E.x-S.x)<.001?"y":"x",C=s(w.x,w.y,O.x,O.y,S.x,S.y,E.x,E.y);if(C){if(p[C.x.toFixed(4)]===C.y.toFixed(4))continue;p[C.x.toFixed(4)]=C.y.toFixed(4);var M=w.t+Math.abs((C[_]-w[_])/(O[_]-w[_]))*(O.t-w.t),k=S.t+Math.abs((C[P]-S[P])/(E[P]-S[P]))*(E.t-S.t);M>=0&&M<=1&&k>=0&&k<=1&&(n?d++:d.push({x:C.x,y:C.y,t1:M,t2:k}))}}return d};e.exports=function(e,t){return function(e,t,n){e=i(e),t=i(t);for(var r=void 0,o=void 0,a=void 0,c=void 0,s=void 0,u=void 0,l=void 0,f=void 0,h=void 0,d=void 0,g=[],v=0,m=e.length;v<m;v++){var y=e[v];if("M"===y[0])r=s=y[1],o=u=y[2];else{"C"===y[0]?(r=(h=[r,o].concat(y.slice(1)))[6],o=h[7]):(h=[r,o,r,o,s,u,s,u],r=s,o=u);for(var b=0,x=t.length;b<x;b++){var w=t[b];if("M"===w[0])a=l=w[1],c=f=w[2];else{"C"===w[0]?(a=(d=[a,c].concat(w.slice(1)))[6],c=d[7]):(d=[a,c,a,c,l,f,l,f],a=l,c=f);for(var O=p(h,d,n),S=0,E=O.length;S<E;S++)O[S].segment1=v,O[S].segment2=b,O[S].bez1=h,O[S].bez2=d;g=g.concat(O)}}}}return g}(e,t)}},function(e,t,n){var r=n(773),o=n(660),i=n(661),a=n(658);e.exports={catmullRom2Bezier:a,catmullRomToBezier:a,fillPath:n(772),fillPathByDiff:n(771),formatPath:n(769),intersection:r,pathIntersection:r,parsePathArray:n(662),parsePathString:n(659),pathToAbsolute:o,path2absolute:o,pathTocurve:i,path2curve:i,rectPath:n(663)}},function(e,t,n){var r=n(605),o=n(664);e.exports=function(e,t){return r(o(e),t)}},function(e,t,n){e.exports=n(665)},function(e,t,n){e.exports=n(46)},function(e,t,n){e.exports={forIn:n(777),has:n(665),hasKey:n(776),hasValue:n(775),keys:n(677),isMatch:n(678),values:n(664)}},function(e,t,n){e.exports={mat3:n(617),vec2:n(668),vec3:n(667),transform:n(666)}},function(e,t,n){var r=n(45),o=n(84),i=n(46);e.exports=function(e,t){if(r(e)){var n=e[0],a=void 0;a=o(t)?t(e[0]):e[0][t];var c=void 0;return i(e,function(e){(c=o(t)?t(e):e[t])<a&&(n=e,a=c)}),n}}},function(e,t,n){var r=n(45),o=n(84),i=n(46);e.exports=function(e,t){if(r(e)){var n=e[0],a=void 0;a=o(t)?t(e[0]):e[0][t];var c=void 0;return i(e,function(e){(c=o(t)?t(e):e[t])>a&&(n=e,a=c)}),n}}},function(e,t,n){var r=n(236);e.exports=function(e){return r(e)&&e>0}},function(e,t,n){var r=n(236);e.exports=function(e){return r(e)&&e%2!=0}},function(e,t,n){var r=n(236);e.exports=function(e){return r(e)&&e<0}},function(e,t,n){var r=n(236),o=Number.isInteger?Number.isInteger:function(e){return r(e)&&e%1==0};e.exports=o},function(e,t,n){var r=n(236);e.exports=function(e){return r(e)&&e%2==0}},function(e,t,n){var r=n(236);e.exports=function(e){return r(e)&&e%1!=0}},function(e,t){e.exports=function(e,t){var n=t.toString(),r=n.indexOf(".");if(-1===r)return Math.round(e);var o=n.substr(r+1).length;return o>20&&(o=20),parseFloat(e.toFixed(o))}},function(e,t,n){var r=n(673);e.exports={clamp:n(618),fixedBase:n(788),isDecimal:n(787),isEven:n(786),isInteger:n(785),isNegative:n(784),isNumberEqual:r,isOdd:n(783),isPositive:n(782),maxBy:n(781),minBy:n(780),mod:n(672),snapEqual:r,toDegree:n(671),toInt:n(670),toInteger:n(670),toRadian:n(669)}},function(e,t,n){var r=n(45);e.exports=function(e){var t=0,n=0,o=0,i=0;return r(e)?1===e.length?t=n=o=i=e[0]:2===e.length?(t=o=e[0],n=i=e[1]):3===e.length?(t=e[0],n=i=e[1],o=e[2]):(t=e[0],n=e[1],o=e[2],i=e[3]):t=n=o=i=e,{r1:t,r2:n,r3:o,r4:i}}},function(e,t,n){var r=n(45),o=n(595),i=n(46),a=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,c=/[^\s\,]+/gi;e.exports=function(e){return r(e=e||[])?e:o(e)?(e=e.match(a),i(e,function(t,n){if((t=t.match(c))[0].length>1){var r=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=r}i(t,function(e,n){isNaN(e)||(t[n]=+e)}),e[n]=t}),e):void 0}},function(e,t){var n={};e.exports=function(e){var t=n[e];if(!t){for(var r=e.toString(16),o=r.length;o<6;o++)r="0"+r;t="#"+r,n[e]=t}return t}},function(e,t,n){var r=n(792);e.exports={number2color:r,numberToColor:r,parsePath:n(791),parseRadius:n(790)}},function(e,t){e.exports=function(e,t){if(e["_wrap_"+t])return e["_wrap_"+t];var n=function(n){e[t](n)};return e["_wrap_"+t]=n,n}},function(e,t){e.exports=function(e,t){return e["_wrap_"+t]}},function(e,t,n){e.exports={getWrapBehavior:n(795),wrapBehavior:n(794)}},function(e,t,n){var r=n(237),o=n(45),i=n(46);e.exports=function(e,t){for(var n=[],a={},c=0;c<e.length;c++){var s=e[c][t];r(s)||(o(s)||(s=[s]),i(s,function(e){a[e]||(n.push(e),a[e]=!0)}))}return n}},function(e,t,n){var r=n(46),o=n(604),i=n(674);e.exports=function(){var e=[],t=o(arguments);return r(t,function(t){e=e.concat(t)}),i(e)}},function(e,t,n){var r=n(595),o=n(84),i=n(45);e.exports=function(e,t){var n=void 0;if(o(t))n=function(e,n){return t(e)-t(n)};else{var a=[];r(t)?a.push(t):i(t)&&(a=t),n=function(e,t){for(var n=0;n<a.length;n+=1){var r=a[n];if(e[r]>t[r])return 1;if(e[r]<t[r])return-1}return 0}}return e.sort(n),e}},function(e,t,n){var r=n(118),o=n(675);e.exports=function(e,t){var n=[];if(!r(e))return n;for(var i=-1,a=[],c=e.length;++i<c;){var s=e[i];t(s,i,e)&&(n.push(s),a.push(i))}return o(e,a),n}},function(e,t,n){var r=n(45),o=n(596),i=n(46);e.exports=function(e,t,n){if(!r(e)&&!o(e))return e;var a=n;return i(e,function(e,n){a=t(a,e,n)}),a}},function(e,t){e.exports=function(e){for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);return t}},function(e,t,n){var r=n(620),o=n(45);e.exports=function(e){if(!(e=r(e,function(e){return!isNaN(e)})).length)return{min:0,max:0};if(o(e[0])){for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);e=t}var i=Math.max.apply(null,e);return{min:Math.min.apply(null,e),max:i}}},function(e,t,n){var r=n(45);e.exports=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(r(t))for(var o=0;o<t.length;o+=1)e(t[o],n);else n.push(t);return n}},function(e,t,n){var r=n(45),o=n(46);e.exports=function(e){if(!r(e))return e;var t=[];return o(e,function(e){r(e)?o(e,function(e){t.push(e)}):t.push(e)}),t}},function(e,t,n){var r=n(237),o=n(45);e.exports=function(e,t){for(var n=null,i=0;i<e.length;i++){var a=e[i][t];if(!r(a)){n=o(a)?a[0]:a;break}}return n}},function(e,t,n){var r=n(84),o=n(596),i=n(678);e.exports=function(e,t){var n=void 0;if(r(t)&&(n=t),o(t)&&(n=function(e){return i(e,t)}),n)for(var a=0;a<e.length;a+=1)if(n(e[a]))return e[a];return null}},function(e,t,n){var r=n(620),o=n(605);e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return r(e,function(e){return!o(t,e)})}},function(e,t,n){e.exports={contains:n(605),difference:n(808),find:n(807),firstValue:n(806),flatten:n(805),flattenDeep:n(804),getRange:n(803),merge:n(802),pull:n(676),pullAt:n(675),reduce:n(801),remove:n(800),sortBy:n(799),union:n(798),uniq:n(674),valuesOfKey:n(797)}},function(e,t){e.exports=function(e,t){var n=this.getStyle(e,"width",t);return"auto"===n&&(n=e.offsetWidth),parseFloat(n)}},function(e,t,n){var r=n(237);e.exports=function(e,t,n){try{return window.getComputedStyle?window.getComputedStyle(e,null)[t]:e.currentStyle[t]}catch(e){return r(n)?null:n}}},function(e,t){e.exports=function(){return window.devicePixelRatio?window.devicePixelRatio:2}},function(e,t){e.exports=function(e,t){var n=this.getWidth(e,t),r=parseFloat(this.getStyle(e,"borderLeftWidth"))||0,o=parseFloat(this.getStyle(e,"paddingLeft"))||0,i=parseFloat(this.getStyle(e,"paddingRight"))||0;return n+r+(parseFloat(this.getStyle(e,"borderRightWidth"))||0)+o+i}},function(e,t){e.exports=function(e,t){var n=this.getHeight(e,t),r=parseFloat(this.getStyle(e,"borderTopWidth"))||0,o=parseFloat(this.getStyle(e,"paddingTop"))||0,i=parseFloat(this.getStyle(e,"paddingBottom"))||0;return n+r+(parseFloat(this.getStyle(e,"borderBottomWidth"))||0)+o+i}},function(e,t){e.exports=function(e,t){var n=this.getStyle(e,"height",t);return"auto"===n&&(n=e.offsetHeight),parseFloat(n)}},function(e,t){e.exports=function(e,t){if(e&&e.getBoundingClientRect){var n=e.getBoundingClientRect(),r=document.documentElement.clientTop,o=document.documentElement.clientLeft;return{top:n.top-r,bottom:n.bottom-r,left:n.left-o,right:n.right-o}}return t||null}},function(e,t){e.exports=function(e,t,n){if(e){if(e.addEventListener)return e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}};if(e.attachEvent)return e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}}}},function(e,t,n){e.exports={addEventListener:n(817),createDom:n(681),getBoundingClientRect:n(816),getHeight:n(815),getOuterHeight:n(814),getOuterWidth:n(813),getRatio:n(812),getStyle:n(811),getWidth:n(810),modifyCSS:n(680),requestAnimationFrame:n(679)}},function(e,t,n){var r=n(46),o=n(606),i=n(818),a=n(809),c=n(796),s=n(793),u=n(789),l=n(779),f=n(778),h=n(774),p=n(768),d=n(763),g={DOMUtil:i,DomUtil:i,MatrixUtil:l,PathUtil:h,arrayUtil:a,domUtil:i,eventUtil:c,formatUtil:s,mathUtil:u,matrixUtil:l,objectUtil:f,stringUtil:p,pathUtil:h,typeUtil:d,augment:n(651),clone:n(616),debounce:n(756),deepMix:n(615),each:r,extend:n(650),filter:n(620),group:n(755),groupBy:n(648),groupToMap:n(649),indexOf:n(754),isEmpty:n(647),isEqual:n(614),isEqualWith:n(753),map:n(752),mix:o,pick:n(751),throttle:n(750),toArray:n(604),toString:n(594),uniqueId:n(646)};r([i,a,c,s,u,l,f,h,p,d],function(e){o(g,e)}),e.exports=g},function(e,t,n){var r=n(683),o=n(626),i=n(247),a=n(609),c=n(248),s={Graph:n(625),Tree:n(689),Util:n(26),Layouts:n(623),G:c,Plugins:{},Components:{},Global:i,Shape:r,registerNode:r.registerNode,registerEdge:r.registerEdge,registerGroup:r.registerGroup,registerGuide:r.registerGuide,registerBehaviour:o.registerBehaviour,version:a,track:function(e){i.track=e}};n(684),e.exports=s}])},885:function(e,t,n){"use strict";var r=n(805),o=n(925).map,i=n(720),a=n(919)("map"),c=a&&!i(function(){[].map.call({length:-1,0:1},function(e){throw e})});r({target:"Array",proto:!0,forced:!a||!c},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},886:function(e,t,n){"use strict";var r=n(805),o=n(930);r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},887:function(e,t,n){},888:function(e,t,n){"use strict";var r=n(889);e.exports=r},889:function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},890:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(712),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){return Array.isArray(e)?e:(0,i.default)(e)}},891:function(e,t,n){"use strict";var r=!("undefined"===typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=o},897:function(e,t,n){"use strict";n(738);var r=n(625),o=n.n(r),i=n(630),a=n.n(i),c=n(631),s=n.n(c),u=n(626),l=n.n(u),f=n(632),h=n.n(f),p=n(974),d=n.n(p),g=(n(922),"beforeAddPage"),v="afterAddPage",m={click:"Click",contextmenu:"ContextMenu",dblclick:"DoubleClick",drag:"Drag",dragend:"DragEnd",dragenter:"DragEnter",dragleave:"DragLeave",dragstart:"DragStart",drop:"Drop",mousedown:"MouseDown",mouseenter:"MouseEnter",mouseleave:"MouseLeave",mousemove:"MouseMove",mouseup:"MouseUp"},y={afterchange:"onAfterChange",afterchangesize:"onAfterChangeSize",afterviewportchange:"onAfterViewportChange",beforechange:"onBeforeChange",beforechangesize:"onBeforeChangeSize",beforeviewportchange:"onBeforeViewportChange",keydown:"onKeyDown",keyup:"onKeyUp",mousewheel:"onMouseWheel"},b={afteritemactived:"onAfterItemActived",afteriteminactivated:"onAfterItemInactivated",afteritemselected:"onAfterItemSelected",afteritemunactived:"onAfterItemInactivated",afteritemunselected:"onAfterItemUnselected",beforeitemactived:"onBeforeItemActived",beforeiteminactivated:"onBeforeItemInactivated",beforeitemselected:"onBeforeItemSelected",beforeitemunactived:"onBeforeItemInactivated",beforeitemunselected:"onBeforeItemUnselected",keyUpEditLabel:"onKeyUpEditLabel"},x={aftercommandexecute:"onAfterCommandExecute",beforecommandexecute:"onBeforeCommandExecute"},w=Object.keys(m),O=Object.keys(y),S=Object.keys(b),E=Object.keys(x),_=n(923),P=n.n(_),C={trackable:!0,version:"2.0.4"},M=function(e){return C[e]},k=function(e,t){C[e]=t},A=(n(977),n(885),n(648)),j=n.n(A),T=n(926),N=n.n(T),I=n(927),D=n.n(I),L=n(928),B=n.n(L),R=function(e){var t=M("trackable"),n=M("version");if(t){var r,o=window,i=o.location,a=o.navigator,c=new Image,s=(r=P()({pid:"ggeditor",code:"11",msg:"syslog",page:"".concat(i.protocol,"//").concat(i.host).concat(i.pathname),hash:i.hash,ua:a.userAgent,rel:n},e),Object.keys(r).map(function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(r[e]))}).join("&"));c.src="".concat("http://gm.mmstat.com/fsp.1.1","?").concat(s)}},F=function(e){setTimeout(function(){R(e)},1e3)},Y=function(e){function t(e){var n;return o()(this,t),(n=s()(this,l()(t).call(this,e))).id=D()(),n.on(g,function(e){var t=e.className;F({c1:t})}),n}return h()(t,e),t}(d.a),X=(n(886),n(931),n(782)),G=n.n(X),V=n(0),H=n.n(V),K=function(e){function t(){var e,n;o()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=s()(this,(e=l()(t)).call.apply(e,[this].concat(i)))).page=void 0,n.config={},n.addListener=function(e,t,n){"function"===typeof n&&e.on(t,n)},n}return h()(t,e),a()(t,[{key:"componentDidMount",value:function(){this.init(),this.bindEvent(),this.forceUpdate()}},{key:"shouldComponentUpdate",value:function(e){var t=e.data,n=this.props.data,r=(e.graph||{}).mode;return r!==(this.props.graph||{}).mode&&this.page.changeMode(r),t!==n&&(this.page.read(t),!0)}},{key:"initPage",value:function(){}},{key:"readData",value:function(){var e=this.config.data;e&&this.page.read(e)}},{key:"init",value:function(){j()(this.config,this.props,{graph:{container:this.pageId}}),this.initPage(),this.readData()}},{key:"bindEvent",value:function(){var e=this,t=this.addListener;w.forEach(function(n){var r=m[n];t(e.graph,"".concat(n),e.props["on".concat(r)]),t(e.graph,"node:".concat(n),e.props["onNode".concat(r)]),t(e.graph,"edge:".concat(n),e.props["onEdge".concat(r)]),t(e.graph,"group:".concat(n),e.props["onGroup".concat(r)]),t(e.graph,"guide:".concat(n),e.props["onGuide".concat(r)]),t(e.graph,"anchor:".concat(n),e.props["onAnchor".concat(r)])}),O.forEach(function(n){t(e.graph,[n],e.props[y[n]])}),S.forEach(function(n){t(e.page,[n],e.props[b[n]])})}},{key:"render",value:function(){var e=this.page,t=this.pageId,n=this.props.children;return H.a.createElement("div",G()({id:t},N()(this.props,["style","className"])),e?n:null)}},{key:"pageId",get:function(){return""}},{key:"graph",get:function(){return this.page.getGraph()}}]),t}(H.a.Component),U=n(932),z=n.n(U),W=H.a.createContext({}),q=function(e){var t=function(t){function n(){return o()(this,n),s()(this,l()(n).apply(this,arguments))}return h()(n,t),a()(n,[{key:"render",value:function(){var t=this.props,n=t.forwardRef,r=z()(t,["forwardRef"]);return H.a.createElement(W.Consumer,null,function(t){return H.a.createElement(e,G()({ref:n},r,t))})}}]),n}(H.a.Component);return H.a.forwardRef(function(e,n){return H.a.createElement(t,G()({},e,{forwardRef:n}))})},Z=function(e){function t(){return o()(this,t),s()(this,l()(t).apply(this,arguments))}return h()(t,e),a()(t,[{key:"initPage",value:function(){var e=this.props.editor;e.emit(g,{className:"Flow"}),this.page=new Y.Flow(this.config),e.add(this.page),e.emit(v,{page:this.page})}},{key:"pageId",get:function(){var e=this.props.editor;return"".concat("J_FlowContainer","_").concat(e.id)}}]),t}(K);Z.defaultProps={data:{nodes:[],edges:[]}};var Q=q(Z),$=n(994),J=n.n($),ee=(q(function(e){function t(){return o()(this,t),s()(this,l()(t).apply(this,arguments))}return h()(t,e),a()(t,[{key:"initPage",value:function(){var e=this.props.editor;e.emit(g,{className:"Mind"}),this.page=new Y.Mind(this.config),e.add(this.page),e.emit(v,{page:this.page})}},{key:"bindEvent",value:function(){J()(l()(t.prototype),"bindEvent",this).call(this),this.bindKeyUpEditLabel()}},{key:"bindKeyUpEditLabel",value:function(){var e=this,t=this.page.get("labelTextArea");t.on("keyup",function(n){n.stopPropagation();var r=t.focusItem,o=t.textContent;e.page.emit("keyUpEditLabel",{item:r,text:o})})}},{key:"pageId",get:function(){var e=this.props.editor;return"".concat("J_MindContainer","_").concat(e.id)}}]),t}(K)),function(e){function t(){return o()(this,t),s()(this,l()(t).apply(this,arguments))}return h()(t,e),a()(t,[{key:"initPage",value:function(){var e=this.props.editor;e.emit(g,{className:"Koni"}),this.page=new Y.Koni(this.config),e.add(this.page),e.emit(v,{page:this.page})}},{key:"pageId",get:function(){var e=this.props.editor;return"".concat("J_KoniContainer","_").concat(e.id)}}]),t}(K));ee.defaultProps={data:{nodes:[],edges:[]}};q(ee);var te=n(996),ne=n.n(te),re=function(e){function t(e,n){var r;return o()(this,t),(r=s()(this,l()(t).call(this,e))).type=n,r.bindEvent(),r}return h()(t,e),a()(t,[{key:"bindEvent",value:function(){var e=this,t=this.type;(0,this.props.onBeforeAddPage)(function(n){var r,o=n.className,i=Y[o],a=["name","config","extend"];"command"===t&&(i=Y),"behaviour"===t&&(a=["name","behaviour","dependences"]);var c=a.map(function(t){return e.props[t]});(r=i)["register".concat(B()(t))].apply(r,ne()(c))})}},{key:"render",value:function(){return null}}]),t}(H.a.Component);re.create=function(e){return q(function(t){function n(t){return o()(this,n),s()(this,l()(n).call(this,t,e))}return h()(n,t),n}(re))};re.create("node"),re.create("edge"),re.create("group"),re.create("guide"),re.create("command"),re.create("behaviour"),n(1e3),H.a.Component;var oe=n(884),ie=n.n(oe);n(1001);var ae=ie.a.Components.Minimap,ce=function(e){function t(e){var n;return o()(this,t),(n=s()(this,l()(t).call(this,e))).minimap=null,n.bindEvent(),n}return h()(t,e),a()(t,[{key:"containerId",get:function(){var e=this.props.editor;return"".concat("J_MinimapContainer","_").concat(e.id)}},{key:"currentPage",get:function(){return this.props.editor.getCurrentPage()}}]),a()(t,[{key:"componentDidMount",value:function(){this.init(),this.bindPage()}},{key:"init",value:function(){var e=this,t=this.props,n=t.container,r=void 0===n?this.containerId:n,o=t.width,i=t.height,a=t.viewportWindowStyle,c=t.viewportBackStyle,s=document.getElementById(r),u=s.clientWidth,l=s.clientHeight;this.minimap=new ae({container:r,width:o||u,height:i||l,viewportWindowStyle:a,viewportBackStyle:c}),this.minimap.getGraph=function(){return e.currentPage.getGraph()}}},{key:"bindPage",value:function(){if(this.minimap&&this.currentPage){var e=this.currentPage.getGraph();this.minimap.bindGraph(e),this.minimap.debounceRender()}}},{key:"bindEvent",value:function(){var e=this;(0,this.props.onAfterAddPage)(function(){e.bindPage()})}},{key:"render",value:function(){return this.props.container?null:H.a.createElement("div",G()({id:this.containerId},N()(this.props,["style","className"])))}}]),t}(H.a.Component),se=(q(ce),function(e){function t(e,n){var r;return o()(this,t),(r=s()(this,l()(t).call(this,e))).type=n,r}return h()(t,e),a()(t,[{key:"render",value:function(){var e=this.props.children,t=this.type;return H.a.createElement("div",{className:"menu","data-status":"".concat(t,"-selected")},e)}}]),t}(H.a.Component));se.create=function(e){return function(t){function n(t){return o()(this,n),s()(this,l()(n).call(this,t,e))}return h()(n,t),n}(se)};var ue=se,le=function(e){function t(){var e,n;o()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=s()(this,(e=l()(t)).call.apply(e,[this].concat(i)))).contextMenu=null,n}return h()(t,e),a()(t,[{key:"componentDidMount",value:function(){var e=this.props.editor;this.contextMenu=new Y.Contextmenu({container:this.containerId}),e.add(this.contextMenu)}},{key:"render",value:function(){var e=this.props.children;return H.a.createElement("div",G()({id:this.containerId},N()(this.props,["style","className"])),e)}},{key:"containerId",get:function(){var e=this.props.editor;return"".concat("J_ContextMenuContainer","_").concat(e.id)}}]),t}(H.a.Component),fe=(ue.create("node"),ue.create("edge"),ue.create("group"),ue.create("multi"),ue.create("canvas"),q(le),function(e){function t(e){var n;o()(this,t),(n=s()(this,l()(t).call(this,e))).toolbar=null;var r=e.editor;return(0,e.onAfterAddPage)(function(){n.toolbar=new Y.Toolbar({container:n.containerId}),r.add(n.toolbar)}),n}return h()(t,e),a()(t,[{key:"containerId",get:function(){var e=this.props.editor;return"".concat("J_ToolbarContainer","_").concat(e.id)}}]),a()(t,[{key:"render",value:function(){var e=this.props.children;return H.a.createElement("div",G()({id:this.containerId},N()(this.props,["style","className"])),e)}}]),t}(H.a.Component)),he=(q(fe),function(e){function t(e){var n;return o()(this,t),(n=s()(this,l()(t).call(this,e))).handleMouseDown=function(){var e=n.props,t=e.type,r=e.size,o=e.shape,i=e.model;n.page&&n.page.beginAdd(t,P()({type:t,size:r,shape:o},i))},n.bindEvent(),n}return h()(t,e),a()(t,[{key:"bindEvent",value:function(){var e=this;(0,this.props.onAfterAddPage)(function(t){var n=t.page;e.page=n})}},{key:"render",value:function(){var e=this.props,t=e.src,n=e.shape,r=e.children;return H.a.createElement("div",{style:{cursor:"pointer"},onMouseDown:this.handleMouseDown},t?H.a.createElement("img",{src:t,alt:n,draggable:!1}):r)}}]),t}(H.a.Component)),pe=q(he),de=function(e){function t(e){var n;return o()(this,t),(n=s()(this,l()(t).call(this,e))).page=null,n.handleMouseUp=function(){n.page.cancelAdd()},n.bindEvent(),n}return h()(t,e),a()(t,[{key:"bindEvent",value:function(){var e=this;(0,this.props.onAfterAddPage)(function(t){var n=t.page;e.page=n,document.addEventListener("mouseup",e.handleMouseUp)})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this.props.children;return H.a.createElement("div",G()({id:this.containerId},N()(this.props,["style","className"])),e)}}]),t}(H.a.Component),ge=q(de),ve=function(e){function t(e,n){var r;return o()(this,t),(r=s()(this,l()(t).call(this,e))).type=n,r}return h()(t,e),a()(t,[{key:"render",value:function(){var e=this.props,t=e.status,n=e.children,r=this.type;return"".concat(r,"-selected")!==t?null:H.a.createElement("div",N()(this.props,["style","className"]),n)}}]),t}(H.a.Component);ve.create=function(e){return function(t){function n(t){return o()(this,n),s()(this,l()(n).call(this,t,e))}return h()(n,t),n}(ve)};var me=ve,ye=function(e){function t(e){var n;return o()(this,t),(n=s()(this,l()(t).call(this,e))).state={status:""},n.bindEvent(),n}return h()(t,e),a()(t,[{key:"bindEvent",value:function(){var e=this;(0,this.props.onAfterAddPage)(function(t){var n=t.page;e.setState({status:"canvas-selected"}),n.on("statuschange",function(t){var n=t.status;e.setState({status:n})})})}},{key:"render",value:function(){var e=this.props.children,t=this.state.status;return t?H.a.createElement("div",N()(this.props,["style","className"]),H.a.Children.toArray(e).map(function(e){return H.a.cloneElement(e,{status:t})})):null}}]),t}(H.a.Component),be=(me.create("node"),me.create("edge"),me.create("group"),me.create("multi"),me.create("canvas"),q(ye),H.a.createContext({})),xe=function(e){var t=function(t){function n(){return o()(this,n),s()(this,l()(n).apply(this,arguments))}return h()(n,t),a()(n,[{key:"render",value:function(){var t=this.props,n=t.forwardRef,r=z()(t,["forwardRef"]);return H.a.createElement(be.Consumer,null,function(t){return H.a.createElement(e,G()({ref:n},r,{propsAPI:t}))})}}]),n}(H.a.Component);return H.a.forwardRef(function(e,n){return H.a.createElement(t,G()({},e,{forwardRef:n}))})},we=n(921),Oe=n.n(we),Se=function(){function e(t){var n=this;o()(this,e),this.editor=null,this.editor=t,["executeCommand"].forEach(function(e){n[e]=function(){var t;return(t=n.editor)[e].apply(t,arguments)}}),["read","save","add","find","update","remove","getSelected"].forEach(function(e){n[e]=function(){var t;return(t=n.currentPage)[e].apply(t,arguments)}})}return a()(e,[{key:"currentPage",get:function(){return this.editor.getCurrentPage()}}]),e}(),Ee=function(e){function t(e){var n;return o()(this,t),(n=s()(this,l()(t).call(this,e))).editor=null,n.addListener=function(e,t,n){"function"===typeof n&&e.on(t,n)},n.handleBeforeAddPage=function(e){n.editor.on(g,e)},n.handleAfterAddPage=function(e){var t=Oe()(n).currentPage;t?e({page:t}):n.editor.on(v,e)},n.init(),n.bindEvent(),n}return h()(t,e),a()(t,[{key:"currentPage",get:function(){return this.editor.getCurrentPage()}}],[{key:"setTrackable",value:function(e){k("trackable",Boolean(e))}}]),a()(t,[{key:"init",value:function(){this.editor=new Y,this.ggEditor={editor:this.editor,onBeforeAddPage:this.handleBeforeAddPage,onAfterAddPage:this.handleAfterAddPage},this.propsAPI=new Se(this.editor)}},{key:"bindEvent",value:function(){var e=this;E.forEach(function(t){e.addListener(e.editor,[t],e.props[x[t]])})}},{key:"componentWillUnmount",value:function(){this.editor.destroy()}},{key:"render",value:function(){var e=this.props.children;return H.a.createElement(W.Provider,{value:this.ggEditor},H.a.createElement(be.Provider,{value:this.propsAPI},H.a.createElement("div",N()(this.props,["style","className"]),e)))}}]),t}(H.a.Component);n.d(t,"a",function(){return Q}),n.d(t,"b",function(){return pe}),n.d(t,"c",function(){return ge}),n.d(t,"e",function(){return xe});t.d=Ee},902:function(e,t,n){var r=n(806),o=n(954),i=n(877),a=n(859),c=n(879),s=n(799),u=n(905),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=a(e),t=c(t,!0),u)try{return l(e,t)}catch(n){}if(s(e,t))return i(!o.f.call(e,t),e[t])}},903:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},904:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},905:function(e,t,n){var r=n(806),o=n(720),i=n(955);e.exports=!r&&!o(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},906:function(e,t,n){var r=n(798);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},907:function(e,t,n){var r=n(908),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return o.call(e)}),e.exports=r.inspectSource},908:function(e,t,n){var r=n(687),o=n(880),i=r["__core-js_shared__"]||o("__core-js_shared__",{});e.exports=i},909:function(e,t,n){var r=n(960),o=n(908);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.1",mode:r?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},910:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},911:function(e,t){e.exports={}},912:function(e,t,n){var r=n(963),o=n(687),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e])||i(o[e]):r[e]&&r[e][t]||o[e]&&o[e][t]}},913:function(e,t,n){var r=n(799),o=n(859),i=n(965).indexOf,a=n(911);e.exports=function(e,t){var n,c=o(e),s=0,u=[];for(n in c)!r(a,n)&&r(c,n)&&u.push(n);for(;t.length>s;)r(c,n=t[s++])&&(~i(u,n)||u.push(n));return u}},914:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},915:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},916:function(e,t,n){var r=n(903);e.exports=Array.isArray||function(e){return"Array"==r(e)}},917:function(e,t,n){var r=n(798),o=n(916),i=n(883)("species");e.exports=function(e,t){var n;return o(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},918:function(e,t,n){var r=n(720);e.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},919:function(e,t,n){var r=n(720),o=n(883),i=n(920),a=o("species");e.exports=function(e){return i>=51||!r(function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},920:function(e,t,n){var r,o,i=n(687),a=n(971),c=i.process,s=c&&c.versions,u=s&&s.v8;u?o=(r=u.split("."))[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=r[1]),e.exports=o&&+o},921:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},922:function(e,t,n){var r=n(805),o=n(882),i=n(975);r({target:"Object",stat:!0,forced:n(720)(function(){i(1)})},{keys:function(e){return i(o(e))}})},923:function(e,t,n){var r=n(976);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(Object(n));"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}},924:function(e,t,n){"use strict";var r=n(720);e.exports=function(e,t){var n=[][e];return!n||!r(function(){n.call(null,t||function(){throw 1},1)})}},925:function(e,t,n){var r=n(978),o=n(878),i=n(882),a=n(881),c=n(917),s=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,l=4==e,f=6==e,h=5==e||f;return function(p,d,g,v){for(var m,y,b=i(p),x=o(b),w=r(d,g,3),O=a(x.length),S=0,E=v||c,_=t?E(p,O):n?E(p,0):void 0;O>S;S++)if((h||S in x)&&(y=w(m=x[S],S,b),e))if(t)_[S]=y;else if(y)switch(e){case 3:return!0;case 5:return m;case 6:return S;case 2:s.call(_,m)}else if(l)return!1;return f?-1:u||l?l:_}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},926:function(e,t,n){var r=n(980),o=n(982)(function(e,t){return null==e?{}:r(e,t)});e.exports=o},927:function(e,t,n){var r=n(901),o=0;e.exports=function(e){var t=++o;return r(e)+t}},928:function(e,t,n){var r=n(986)("toUpperCase");e.exports=r},929:function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},930:function(e,t,n){"use strict";var r=n(925).forEach,o=n(924);e.exports=o("forEach")?function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach},931:function(e,t,n){var r=n(687),o=n(992),i=n(930),a=n(807);for(var c in o){var s=r[c],u=s&&s.prototype;if(u&&u.forEach!==i)try{a(u,"forEach",i)}catch(l){u.forEach=i}}},932:function(e,t,n){var r=n(993);e.exports=function(e,t){if(null==e)return{};var n,o,i=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},939:function(e,t,n){"use strict";n(56),n(940)},940:function(e,t,n){},949:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){var e=window.location.href,t="",n={};if(e.indexOf("?")>-1){t=e.indexOf("?")+1;var r=e.substr(t).split("&");r&&r.length>0&&r.forEach(function(e){var t=e.split("=");n[t[0]]=t[1]})}return n}},951:function(e,t,n){"use strict";var r=n(0),o=n(228),i=n(15),a=n(3),c=n.n(a),s=n(225),u=n(28);var l={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend"},f=Object.keys(l).filter(function(e){if("undefined"===typeof document)return!1;var t=document.getElementsByTagName("html")[0];return e in(t?t.style:{})})[0],h=l[f];function p(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),n)}function d(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r):e.attachEvent&&e.detachEvent("on".concat(t),n)}var g=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},v=!("undefined"!==typeof window&&window.document&&window.document.createElement),m=function e(t,n,r,o){if(!n||n===document||n instanceof Document)return!1;if(n===t.parentNode)return!0;var i=Math.max(Math.abs(r),Math.abs(o))===Math.abs(o),a=Math.max(Math.abs(r),Math.abs(o))===Math.abs(r),c=n.scrollHeight-n.clientHeight,s=n.scrollWidth-n.clientWidth,u=document.defaultView.getComputedStyle(n),l="auto"===u.overflowY||"scroll"===u.overflowY,f="auto"===u.overflowX||"scroll"===u.overflowX,h=c&&l,p=s&&f;return!!(i&&(!h||h&&(n.scrollTop>=c&&o<0||n.scrollTop<=0&&o>0))||a&&(!p||p&&(n.scrollLeft>=s&&s<0||n.scrollLeft<=0&&s>0)))&&e(t,n.parentNode,r,o)};function y(e){return(y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _={},P=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=O(t).call(this,e),(n=!o||"object"!==y(o)&&"function"!==typeof o?S(r):o).domFocus=function(){n.dom&&n.dom.focus()},n.removeStartHandler=function(e){e.touches.length>1||(n.startPos={x:e.touches[0].clientX,y:e.touches[0].clientY})},n.removeMoveHandler=function(e){if(!(e.changedTouches.length>1)){var t=e.currentTarget,r=e.changedTouches[0].clientX-n.startPos.x,o=e.changedTouches[0].clientY-n.startPos.y;(t===n.maskDom||t===n.handlerDom||t===n.contentDom&&m(t,e.target,r,o))&&e.preventDefault()}},n.transitionEnd=function(e){var t=e.target;d(t,h,n.transitionEnd),t.style.transition=""},n.onKeyDown=function(e){if(e.keyCode===u.a.ESC){var t=n.props.onClose;e.stopPropagation(),t&&t(e)}},n.onWrapperTransitionEnd=function(e){var t=n.props,r=t.open,o=t.afterVisibleChange;e.target===n.contentWrapper&&e.propertyName.match(/transform$/)&&(n.dom.style.transition="",!r&&n.getCurrentDrawerSome()&&(document.body.style.overflowX="",n.maskDom&&(n.maskDom.style.left="",n.maskDom.style.width="")),o&&o(!!r))},n.openLevelTransition=function(){var e=n.props,t=e.open,r=e.width,o=e.height,i=n.getHorizontalBoolAndPlacementName(),a=i.isHorizontal,c=i.placementName,s=n.contentDom?n.contentDom.getBoundingClientRect()[a?"width":"height"]:0,u=(a?r:o)||s;n.setLevelAndScrolling(t,c,u)},n.setLevelTransform=function(e,t,r,o){var i=n.props,a=i.placement,c=i.levelMove,s=i.duration,u=i.ease,l=i.showMask;n.levelDom.forEach(function(i){i.style.transition="transform ".concat(s," ").concat(u),p(i,h,n.transitionEnd);var f=e?r:0;if(c){var d=function(e,t){var n="function"===typeof e?e(t):e;return Array.isArray(n)?2===n.length?n:[n[0],n[1]]:[n]}(c,{target:i,open:e});f=e?d[0]:d[1]||0}var g="number"===typeof f?"".concat(f,"px"):f,v="left"===a||"top"===a?g:"-".concat(g);v=l&&"right"===a&&o?"calc(".concat(v," + ").concat(o,"px)"):v,i.style.transform=f?"".concat(t,"(").concat(v,")"):""})},n.setLevelAndScrolling=function(e,t,r){var o=n.props.onChange;if(!v){var i=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth?Object(s.a)(!0):0;n.setLevelTransform(e,t,r,i),n.toggleScrollingToDrawerAndBody(i)}o&&o(e)},n.toggleScrollingToDrawerAndBody=function(e){var t=n.props,r=t.getOpenCount,o=t.getContainer,i=t.showMask,a=t.open,c=o&&o(),s=r&&r();if(c&&c.parentNode===document.body&&i){var u=["touchstart"],l=[document.body,n.maskDom,n.handlerDom,n.contentDom];a&&"hidden"!==document.body.style.overflow?(e&&n.addScrollingEffect(e),1===s&&(document.body.style.overflow="hidden"),document.body.style.touchAction="none",l.forEach(function(e,t){e&&p(e,u[t]||"touchmove",t?n.removeMoveHandler:n.removeStartHandler,n.passive)})):n.getCurrentDrawerSome()&&(s||(document.body.style.overflow=""),document.body.style.touchAction="",e&&n.remScrollingEffect(e),l.forEach(function(e,t){e&&d(e,u[t]||"touchmove",t?n.removeMoveHandler:n.removeStartHandler,n.passive)}))}},n.addScrollingEffect=function(e){var t=n.props,r=t.placement,o=t.duration,i=t.ease,a=t.getOpenCount,c=t.switchScrollingEffect;1===(a&&a())&&c();var s="width ".concat(o," ").concat(i),u="transform ".concat(o," ").concat(i);switch(n.dom.style.transition="none",r){case"right":n.dom.style.transform="translateX(-".concat(e,"px)");break;case"top":case"bottom":n.dom.style.width="calc(100% - ".concat(e,"px)"),n.dom.style.transform="translateZ(0)"}clearTimeout(n.timeout),n.timeout=setTimeout(function(){n.dom&&(n.dom.style.transition="".concat(u,",").concat(s),n.dom.style.width="",n.dom.style.transform="")})},n.remScrollingEffect=function(e){var t,r=n.props,o=r.placement,i=r.duration,a=r.ease,c=r.getOpenCount,s=r.switchScrollingEffect;c&&c()||s(!0),f&&(document.body.style.overflowX="hidden"),n.dom.style.transition="none";var u="width ".concat(i," ").concat(a),l="transform ".concat(i," ").concat(a);switch(o){case"left":n.dom.style.width="100%",u="width 0s ".concat(a," ").concat(i);break;case"right":n.dom.style.transform="translateX(".concat(e,"px)"),n.dom.style.width="100%",u="width 0s ".concat(a," ").concat(i),n.maskDom&&(n.maskDom.style.left="-".concat(e,"px"),n.maskDom.style.width="calc(100% + ".concat(e,"px)"));break;case"top":case"bottom":n.dom.style.width="calc(100% + ".concat(e,"px)"),n.dom.style.height="100%",n.dom.style.transform="translateZ(0)",t="height 0s ".concat(a," ").concat(i)}clearTimeout(n.timeout),n.timeout=setTimeout(function(){n.dom&&(n.dom.style.transition="".concat(l,",").concat(t?"".concat(t,","):"").concat(u),n.dom.style.transform="",n.dom.style.width="",n.dom.style.height="")})},n.getCurrentDrawerSome=function(){return!Object.keys(_).some(function(e){return _[e]})},n.getLevelDom=function(e){var t=e.level,r=e.getContainer;if(!v){var o,i=r&&r(),a=i?i.parentNode:null;if(n.levelDom=[],"all"===t)(a?Array.prototype.slice.call(a.children):[]).forEach(function(e){"SCRIPT"!==e.nodeName&&"STYLE"!==e.nodeName&&"LINK"!==e.nodeName&&e!==i&&n.levelDom.push(e)});else t&&(o=t,Array.isArray(o)?o:[o]).forEach(function(e){document.querySelectorAll(e).forEach(function(e){n.levelDom.push(e)})})}},n.getHorizontalBoolAndPlacementName=function(){var e=n.props.placement,t="left"===e||"right"===e;return{isHorizontal:t,placementName:"translate".concat(t?"X":"Y")}},n.state={_self:S(n)},n}var n,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,r["Component"]),n=t,i=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t._self,o={prevProps:e};if(void 0!==n){var i=e.placement,a=e.level;i!==n.placement&&(r.contentDom=null),a!==n.level&&r.getLevelDom(e)}return o}}],(o=[{key:"componentDidMount",value:function(){var e=this;if(!v){var t=!1;window.addEventListener("test",function(){},Object.defineProperty({},"passive",{get:function(){return t=!0,null}})),this.passive=!!t&&{passive:!1}}var n=this.props.open;this.drawerId="drawer_id_".concat(Number((Date.now()+Math.random()).toString().replace(".",Math.round(9*Math.random()).toString())).toString(16)),this.getLevelDom(this.props),n&&(_[this.drawerId]=n,this.openLevelTransition(),this.forceUpdate(function(){e.domFocus()}))}},{key:"componentDidUpdate",value:function(e){var t=this.props.open;t!==e.open&&(t&&this.domFocus(),_[this.drawerId]=!!t,this.openLevelTransition())}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.getOpenCount,n=e.open,r=e.switchScrollingEffect,o="function"===typeof t&&t();delete _[this.drawerId],n&&(this.setLevelTransform(!1),document.body.style.touchAction=""),o||(document.body.style.overflow="",r(!0))}},{key:"render",value:function(){var e,t=this,n=this.props,o=n.className,i=n.children,a=n.style,s=n.width,u=n.height,l=(n.defaultOpen,n.open),f=n.prefixCls,h=n.placement,p=(n.level,n.levelMove,n.ease,n.duration,n.getContainer,n.handler),d=(n.onChange,n.afterVisibleChange,n.showMask),v=n.maskClosable,m=n.maskStyle,y=n.onClose,w=n.onHandleClick,O=n.keyboard,S=(n.getOpenCount,n.switchScrollingEffect,x(n,["className","children","style","width","height","defaultOpen","open","prefixCls","placement","level","levelMove","ease","duration","getContainer","handler","onChange","afterVisibleChange","showMask","maskClosable","maskStyle","onClose","onHandleClick","keyboard","getOpenCount","switchScrollingEffect"])),E=!!this.dom&&l,_=c()(f,(b(e={},"".concat(f,"-").concat(h),!0),b(e,"".concat(f,"-open"),E),b(e,o||"",!!o),b(e,"no-mask",!d),e)),P=this.getHorizontalBoolAndPlacementName().placementName,C="left"===h||"top"===h?"-100%":"100%",M=E?"":"".concat(P,"(").concat(C,")"),k=p&&r.cloneElement(p,{onClick:function(e){p.props.onClick&&p.props.onClick(),w&&w(e)},ref:function(e){t.handlerDom=e}});return r.createElement("div",Object.assign({},S,{tabIndex:-1,className:_,style:a,ref:function(e){t.dom=e},onKeyDown:E&&O?this.onKeyDown:void 0,onTransitionEnd:this.onWrapperTransitionEnd}),d&&r.createElement("div",{className:"".concat(f,"-mask"),onClick:v?y:void 0,style:m,ref:function(e){t.maskDom=e}}),r.createElement("div",{className:"".concat(f,"-content-wrapper"),style:{transform:M,msTransform:M,width:g(s)?"".concat(s,"px"):s,height:g(u)?"".concat(u,"px"):u},ref:function(e){t.contentWrapper=e}},r.createElement("div",{className:"".concat(f,"-content"),ref:function(e){t.contentDom=e},onTouchStart:E&&d?this.removeStartHandler:void 0,onTouchMove:E&&d?this.removeMoveHandler:void 0},i),k))}}])&&w(n.prototype,o),i&&w(n,i),t}();P.defaultProps={switchScrollingEffect:function(){}};var C=Object(i.polyfill)(P);function M(e){return(M="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return!t||"object"!==M(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var I=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=j(this,T(t).call(this,e))).onHandleClick=function(e){var t=n.props,r=t.onHandleClick,o=t.open;if(r&&r(e),"undefined"===typeof o){var i=n.state.open;n.setState({open:!i})}},n.onClose=function(e){var t=n.props,r=t.onClose,o=t.open;r&&r(e),"undefined"===typeof o&&n.setState({open:!1})};var r="undefined"!==typeof e.open?e.open:!!e.defaultOpen;return n.state={open:r},"onMaskClick"in e&&console.warn("`onMaskClick` are removed, please use `onClose` instead."),n}var n,i,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,r["Component"]),n=t,a=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r={prevProps:e};return"undefined"!==typeof n&&e.open!==n.open&&(r.open=e.open),r}}],(i=[{key:"render",value:function(){var e=this,t=this.props,n=(t.defaultOpen,t.getContainer),i=t.wrapperClassName,a=t.forceRender,c=t.handler,s=k(t,["defaultOpen","getContainer","wrapperClassName","forceRender","handler"]),u=this.state.open;if(!n)return r.createElement("div",{className:i,ref:function(t){e.dom=t}},r.createElement(C,Object.assign({},s,{open:u,handler:c,getContainer:function(){return e.dom},onClose:this.onClose,onHandleClick:this.onHandleClick})));var l=!!c||a;return r.createElement(o.a,{visible:u,forceRender:l,getContainer:n,wrapperClassName:i},function(t){var n=t.visible,o=t.afterClose,i=k(t,["visible","afterClose"]);return r.createElement(C,Object.assign({},s,i,{open:void 0!==n?n:u,afterVisibleChange:void 0!==o?o:s.afterVisibleChange,handler:c,onClose:e.onClose,onHandleClick:e.onHandleClick}))})}}])&&A(n.prototype,i),a&&A(n,a),t}();I.defaultProps={prefixCls:"drawer",placement:"left",getContainer:"body",defaultOpen:!1,level:"all",duration:".3s",ease:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",onChange:function(){},afterVisibleChange:function(){},handler:r.createElement("div",{className:"drawer-handle"},r.createElement("i",{className:"drawer-handle-icon"})),showMask:!0,maskClosable:!0,maskStyle:{},wrapperClassName:"",className:"",keyboard:!0,forceRender:!1};var D=Object(i.polyfill)(I),L=n(72),B=n.n(L),R=n(24),F=n(14),Y=n(7),X=n(86),G=n(49);function V(e){return(V="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var q=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Z=B()(null),Q=(Object(G.a)("top","right","bottom","left"),function(e){function t(){var e,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,o=U(t).apply(this,arguments),(e=!o||"object"!==V(o)&&"function"!==typeof o?z(n):o).state={push:!1},e.push=function(){e.setState({push:!0})},e.pull=function(){e.setState({push:!1})},e.onDestroyTransitionEnd=function(){e.getDestroyOnClose()&&(e.props.visible||(e.destroyClose=!0,e.forceUpdate()))},e.getDestroyOnClose=function(){return e.props.destroyOnClose&&!e.props.visible},e.getPushTransform=function(e){return"left"===e||"right"===e?"translateX(".concat("left"===e?180:-180,"px)"):"top"===e||"bottom"===e?"translateY(".concat("top"===e?180:-180,"px)"):void 0},e.getRcDrawerStyle=function(){var t=e.props,n=t.zIndex,r=t.placement,o=t.style;return H({zIndex:n,transform:e.state.push?e.getPushTransform(r):void 0},o)},e.renderBody=function(){var t=e.props,n=t.bodyStyle,o=t.drawerStyle,i=t.prefixCls,a=t.visible;if(e.destroyClose&&!a)return null;e.destroyClose=!1;var c={};return e.getDestroyOnClose()&&(c.opacity=0,c.transition="opacity .3s"),r.createElement("div",{className:"".concat(i,"-wrapper-body"),style:H(H({},c),o),onTransitionEnd:e.onDestroyTransitionEnd},e.renderHeader(),r.createElement("div",{className:"".concat(i,"-body"),style:n},e.props.children))},e.renderProvider=function(t){var n=e.props,o=n.prefixCls,i=n.placement,a=n.className,s=n.wrapClassName,u=n.width,l=n.height,f=n.mask,h=q(n,["prefixCls","placement","className","wrapClassName","width","height","mask"]);Object(F.a)(void 0===s,"Drawer","wrapClassName is deprecated, please use className instead.");var p=f?"":"no-mask";e.parentDrawer=t;var d={};return"left"===i||"right"===i?d.width=u:d.height=l,r.createElement(Z.Provider,{value:z(e)},r.createElement(D,H({handler:!1},Object(R.a)(h,["zIndex","style","closable","destroyOnClose","drawerStyle","headerStyle","bodyStyle","title","push","visible","getPopupContainer","rootPrefixCls","getPrefixCls","renderEmpty","csp","pageHeader","autoInsertSpaceInButton"]),d,{prefixCls:o,open:e.props.visible,showMask:f,placement:i,style:e.getRcDrawerStyle(),className:c()(s,a,p)}),e.renderBody()))},e}var n,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){this.props.visible&&this.parentDrawer&&this.parentDrawer.push()}},{key:"componentDidUpdate",value:function(e){var t=this.props.visible;e.visible!==t&&this.parentDrawer&&(t?this.parentDrawer.push():this.parentDrawer.pull())}},{key:"componentWillUnmount",value:function(){this.parentDrawer&&(this.parentDrawer.pull(),this.parentDrawer=null)}},{key:"renderHeader",value:function(){var e=this.props,t=e.title,n=e.prefixCls,o=e.closable,i=e.headerStyle;if(!t&&!o)return null;var a="".concat(n,t?"-header":"-header-no-title");return r.createElement("div",{className:a,style:i},t&&r.createElement("div",{className:"".concat(n,"-title")},t),o&&this.renderCloseIcon())}},{key:"renderCloseIcon",value:function(){var e=this.props,t=e.closable,n=e.prefixCls,o=e.onClose;return t&&r.createElement("button",{onClick:o,"aria-label":"Close",className:"".concat(n,"-close")},r.createElement(Y.a,{type:"close"}))}},{key:"render",value:function(){return r.createElement(Z.Consumer,null,this.renderProvider)}}])&&K(n.prototype,o),i&&K(n,i),t}());Q.defaultProps={width:256,height:256,closable:!0,placement:"right",maskClosable:!0,mask:!0,level:null,keyboard:!0};t.a=Object(X.c)({prefixCls:"drawer"})(Q)},954:function(e,t,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},955:function(e,t,n){var r=n(687),o=n(798),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},956:function(e,t,n){var r=n(687),o=n(807),i=n(799),a=n(880),c=n(907),s=n(957),u=s.get,l=s.enforce,f=String(String).split("String");(e.exports=function(e,t,n,c){var s=!!c&&!!c.unsafe,u=!!c&&!!c.enumerable,h=!!c&&!!c.noTargetGet;"function"==typeof n&&("string"!=typeof t||i(n,"name")||o(n,"name",t),l(n).source=f.join("string"==typeof t?t:"")),e!==r?(s?!h&&e[t]&&(u=!0):delete e[t],u?e[t]=n:o(e,t,n)):u?e[t]=n:a(t,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&u(this).source||c(this)})},957:function(e,t,n){var r,o,i,a=n(958),c=n(687),s=n(798),u=n(807),l=n(799),f=n(959),h=n(911),p=c.WeakMap;if(a){var d=new p,g=d.get,v=d.has,m=d.set;r=function(e,t){return m.call(d,e,t),t},o=function(e){return g.call(d,e)||{}},i=function(e){return v.call(d,e)}}else{var y=f("state");h[y]=!0,r=function(e,t){return u(e,y,t),t},o=function(e){return l(e,y)?e[y]:{}},i=function(e){return l(e,y)}}e.exports={set:r,get:o,has:i,enforce:function(e){return i(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!s(t)||(n=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},958:function(e,t,n){var r=n(687),o=n(907),i=r.WeakMap;e.exports="function"===typeof i&&/native code/.test(o(i))},959:function(e,t,n){var r=n(909),o=n(910),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},960:function(e,t){e.exports=!1},961:function(e,t,n){var r=n(799),o=n(962),i=n(902),a=n(860);e.exports=function(e,t){for(var n=o(t),c=a.f,s=i.f,u=0;u<n.length;u++){var l=n[u];r(e,l)||c(e,l,s(t,l))}}},962:function(e,t,n){var r=n(912),o=n(964),i=n(967),a=n(906);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=i.f;return n?t.concat(n(e)):t}},963:function(e,t,n){var r=n(687);e.exports=r},964:function(e,t,n){var r=n(913),o=n(915).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},965:function(e,t,n){var r=n(859),o=n(881),i=n(966),a=function(e){return function(t,n,a){var c,s=r(t),u=o(s.length),l=i(a,u);if(e&&n!=n){for(;u>l;)if((c=s[l++])!=c)return!0}else for(;u>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},966:function(e,t,n){var r=n(914),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},967:function(e,t){t.f=Object.getOwnPropertySymbols},968:function(e,t,n){var r=n(720),o=/#|\.prototype\./,i=function(e,t){var n=c[a(e)];return n==u||n!=s&&("function"==typeof t?r(t):!!t)},a=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=i.data={},s=i.NATIVE="N",u=i.POLYFILL="P";e.exports=i},969:function(e,t,n){"use strict";var r=n(879),o=n(860),i=n(877);e.exports=function(e,t,n){var a=r(t);a in e?o.f(e,a,i(0,n)):e[a]=n}},970:function(e,t,n){var r=n(918);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},971:function(e,t,n){var r=n(912);e.exports=r("navigator","userAgent")||""},972:function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},973:function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},974:function(e,t,n){var r;window,e.exports=(r=n(884),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=25)}([function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t,n){return e.addShape("path",{attrs:r({},n,{path:t})})}function a(e){return[{x:e.centerX,y:e.minY},{x:e.maxX,y:e.centerY},{x:e.centerX,y:e.maxY},{x:e.minX,y:e.centerY}]}function c(e,t){var n,r,o=a(t),i=1/0;return o.forEach(function(t,o){var a,c,s=(a=e,c=t,Math.sqrt(Math.pow(a.x-c.x,2)+Math.pow(a.y-c.y,2)));s<i&&(n=t,i=s,r=o)}),{point:n,index:r}}function s(e,t){return{x:(e[t].x+e[t+1].x)/2,y:(e[t].y+e[t+1].y)/2}}function u(e,t){var n=e.point,r=e.index,o=t.point,i=t.index;return n.x===o.x||n.y===o.y?[n,o]:2===r&&0===i||0===r&&2===i?[n,{x:n.x,y:(n.y+o.y)/2},{x:o.x,y:(n.y+o.y)/2},o]:2!==r&&0!==r||3!==i&&1!==i?1!==r&&3!==r||2!==i&&0!==i?[n,{x:(n.x+o.x)/2,y:n.y},{x:(n.x+o.x)/2,y:o.y},o]:[n,{x:o.x,y:n.y},o]:[n,{x:n.x,y:o.y},o]}function l(e,t){return e[t].x===e[t+1].x}function f(e,t,n){return l(t,n)?e.x===t[n].x&&(e.y-t[n].y)*(e.y-t[n+1].y)<=0:e.y===t[n].y&&(e.x-t[n].x)*(e.x-t[n+1].x)<=0}function h(e,t){for(var n,r,o,i,a,c=1/0,s=0;s<t.length-1;s++){var u=l(t,s),h=void 0;if(f(h=u?{x:t[s].x,y:e.y}:{x:e.x,y:t[s].y},t,s)){var p=(i=e,a=h,Math.pow(i.x-a.x,2)+Math.pow(i.y-a.y,2));c>p&&(c=p,n=s,r=h,o=u)}}return{verticalPoint:r,index:n,vertical:o}}function p(e,t,n){var r,o,i,s=function(e){if(!e)return{x:void 0,y:void 0};var t=e.getBBox();return{x:t.centerX,y:t.centerY}}(t),u=e.getLinkPoints(s)[0];if(n){var l=a(e.getBBox())[n];r=e.getBBox(),o=l,i={x:t.getBBox().centerX,y:t.getBBox().centerY},((r.centerX-o.x)*(r.centerX-i.x)>0||(r.centerY-o.y)*(r.centerY-i.y)>0)&&(u=l)}u=c(u,e.getBBox());var f=t.getLinkPoints(u.point)[0];return{sourcePoint:u,targetPoint:f=c(f,t.getBBox())}}function d(e,t,n){return l(t,n)?e.minX>t[n].x?1:e.maxX<t[n].x?-1:0:e.minY>t[n].y?1:e.maxY<t.y?-1:0}function g(e,t,n){return l(t,n)?{x:t[n].x,y:e.y}:{x:e.x,y:t[n].y}}function v(e){var t;switch(e){case 0:t=2;break;case 1:t=3;break;case 3:t=1;break;default:t=0}return t}n.d(t,"b",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"f",function(){return c}),n.d(t,"j",function(){return s}),n.d(t,"h",function(){return u}),n.d(t,"i",function(){return l}),n.d(t,"l",function(){return f}),n.d(t,"e",function(){return h}),n.d(t,"d",function(){return p}),n.d(t,"a",function(){return d}),n.d(t,"g",function(){return g}),n.d(t,"k",function(){return v})},function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(7),a=n(3),c=n(4),s={getActivedStyle:function(){},getSelectedStyle:function(){},getStyle:function(){},getPath:function(){}};function u(e,t,n){var r=[];return c.isString(e)?r=[t,e]:c.isArray(e)?(e.unshift(t),r=e):r=[t],n&&r.unshift(n+"-base"),r}i.registerNode("page-base",r({},s)),i.registerEdge("page-base",r({},s)),i.registerGroup("page-base",r({},s)),i.registerGuide("page-base",r({},s)),a.setRegister=function(e,t,n){e.registerNode=function(e,r,o){i.registerNode(e,r,u(o,t+"-base",n))},e.registerEdge=function(e,r,o){i.registerEdge(e,r,u(o,t+"-base",n))},e.registerGroup=function(e,r,o){i.registerGroup(e,r,u(o,t+"-base",n))},e.registerGuide=function(e,r,o){i.registerGuide(e,r,u(o,t+"-base",n))},e.registerBehaviour=function(e,t,n){i.registerBehaviour(e,function(e){var n=e.get("page");n.set("_graph",e),t(n)},n)}},a.setRegister(a,"page"),n(44),e.exports=a},function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(7),i=n(22),a=n(63),c=n(64),s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}({},o.Util,i,a,c);e.exports=s},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=n(21),f=n(4),h=n(14),p=n(34),d=n(35),g=n(37),v=[p,n(38),n(39),d,g,n(40),n(42),n(43)],m=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r={defaultData:null,shortcut:{redo:!0,undo:!0,delete:!0,resetZoom:!0,autoZoom:!0,zoomIn:!0,zoomOut:!0},_controllers:{},_signals:{}};return f.each(v,function(e){f.mix(r,e.CFG)}),f.mix(!0,r,e),(n=c(this,s(t).call(this,r))).isPage=!0,n.type="page",n._init(),n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,l),n=t,(r=[{key:"getDelegation",value:function(e,t){var n;if(t||(t=this.getGraph().getRootGroup()),1!==e.length||e[0].isNode||e[0].isGroup){var r=f.getTotalBBox(e.map(function(e){return e.getBBox()}));(n=f.getRectByBox(r,t,h.nodeDelegationStyle)).set("capture",!1)}else e[0].isEdge?n=t.addShape("path",{attrs:o({path:"M0 0L 1 1"},h.edgeDelegationStyle),capture:!1}):(n=f.getRectByBox(e[0],t,h.nodeDelegationStyle)).set("capture",!1);return n}},{key:"focusGraphWrapper",value:function(){this.getGraph().getKeyboardEventWrapper().focus()}},{key:"saveImage",value:function(e){var t,n,r=this,i=this.getGraph(),a=i.getBBox(),c=i.getFitViewPadding();return i.saveImage(o({width:a.width+c[1]+c[3],height:a.height+c[0]+c[2],beforeTransform:function(){t=r.getSelected().map(function(e){return e.id}),n=r.getSelected().map(function(e){return e.id}),r.clearSelected(),r.clearActived()},afterTransform:function(){r.setSelected(t,!0),r.setActived(n,!0)}},e))}},{key:"_init",value:function(){var e=this;f.each(v,function(t){t.INIT&&e[t.INIT]()}),this.bindEvent(),this._cacheBBox()}},{key:"executeCommand",value:function(e,t){var n=this.editor;n?n.executeCommand(e,t):e()}},{key:"_cacheBBox",value:function(){var e=this.getGraph();this.set("bboxCache",e.getBBox())}},{key:"bindEvent",value:function(){var e=this;this.getGraph().on("afterchange",function(){e._cacheBBox()})}},{key:"translateLimt",value:function(e){var t=this.getGraph(),n=this.get("bboxCache"),r=t.getWidth(),o=t.getHeight(),i=[n.minX,n.minY,1],a=[n.maxX,n.maxY,1];return f.vec3.transformMat3(i,i,e),f.vec3.transformMat3(a,a,e),a[0]<100&&f.mat3.translate(e,e,[100-a[0],0]),a[1]<100&&f.mat3.translate(e,e,[0,100-a[1]]),i[1]>o-100&&f.mat3.translate(e,e,[0,o-100-i[1]]),i[0]>r-100&&f.mat3.translate(e,e,[r-100-i[0],0]),!0}},{key:"setSignal",value:function(e,t){this.get("_signals")[e]=t}},{key:"getSignal",value:function(e){return this.get("_signals")[e]}},{key:"setController",value:function(e,t){this.get("_controllers")[e]=t}},{key:"getController",value:function(e){return this.get("_controllers")[e]}},{key:"destroy",value:function(){var e=this.get("_graph"),t=this.get("_controllers");f.each(t,function(e){e.destroy()}),e.destroy()}}])&&a(n.prototype,r),t}();f.each(v,function(e){f.mix(m.prototype,e.AUGMENT)}),e.exports=m},function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(6),i=n(14),a=o.createDOM("<canvas>").getContext("2d");e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}({},o,{getPanCanvasBehaviour:function(e){return function(t){var n,r,a=t.getGraph();a.behaviourOn("canvas:mouseenter",function(){t.css({cursor:i.cursor.beforePanCanvas})}),a.behaviourOn("mouseleave",function(e){e.toShape||t.css({cursor:i.cursor.beforePanCanvas})}),a.behaviourOn("mousedown",function(o){(2!==o.button&&!e||!o.shape||o.item&&!1===o.item.dragable&&"mind-root"!==o.item.shapeObj.type&&!t.getSignal("dragEdge"))&&(n={x:o.domX,y:o.domY},t.css({cursor:i.cursor.panningCanvas}),r=a.getMatrix(),t.setCapture(!1))}),a.behaviourOn("drag",function(e){if(n){var i=e.domX-n.x,c=e.domY-n.y,s=[];o.mat3.translate(s,r,[i,c]),t.translateLimt(s)&&(a.updateMatrix(s),a.draw())}}),a.behaviourOn("mouseup",function(){n&&(n=void 0,r=void 0,t.setCapture(!0),t.css({cursor:i.cursor.beforePanCanvas}))})}},getLabelTextByTextLineWidth:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:320;a.font=t;var r=a.measureText(e).width;if(r>n){r=0;for(var o=1;o<e.length;o++)(r+=a.measureText(e[o]).width)>=n&&(e=e.substring(0,o)+"\n"+e.substring(o,e.length),o+=1,r=0)}return e}})},function(e,t){e.exports={orbitGap:10,nodeDefaultShape:"flow-node",edgeDefaultShape:"flow-smooth",groupDefaultShape:"flow-group",nodeActivedOutterStyle:{lineWidth:0},groupSelectedOutterStyle:{stroke:"#E0F0FF",lineWidth:2},nodeSelectedOutterStyle:{stroke:"#E0F0FF",lineWidth:2},edgeActivedStyle:{stroke:"#1890FF",strokeOpacity:.92},nodeActivedStyle:{fill:"#F3F9FF",stroke:"#1890FF"},groupActivedStyle:{stroke:"#1890FF"},edgeSelectedStyle:{lineWidth:2,strokeOpacity:.92,stroke:"#A3B1BF"},nodeSelectedStyle:{fill:"#F3F9FF",stroke:"#1890FF"},groupSelectedStyle:{stroke:"#1890FF",fillOpacity:.92},nodeStyle:{stroke:"#CED4D9",fill:"#FFFFFF",shadowOffsetX:0,shadowOffsetY:4,shadowBlur:10,shadowColor:"rgba(13, 26, 38, 0.08)",lineWidth:1,radius:4,fillOpacity:.92},edgeStyle:{stroke:"#A3B1BF",strokeOpacity:.92,lineWidth:1,lineAppendWidth:8,endArrow:!0},groupBackgroundPadding:[40,10,10,10],groupLabelOffsetX:10,groupLabelOffsetY:10,edgeLabelStyle:{fill:"#666",textAlign:"center",textBaseline:"middle"},edgeLabelRectPadding:4,edgeLabelRectStyle:{fill:"white"},nodeLabelStyle:{fill:"#666",textAlign:"center",textBaseline:"middle"},groupStyle:{stroke:"#CED4D9",radius:4},groupLabelStyle:{fill:"#666",textAlign:"left",textBaseline:"top"},multiSelectRectStyle:{fill:"#1890FF",fillOpacity:.08,stroke:"#1890FF",opacity:.1},dragNodeHoverToGroupStyle:{stroke:"#1890FF",lineWidth:2},dragNodeLeaveFromGroupStyle:{stroke:"#BAE7FF",lineWidth:2},anchorPointStyle:{radius:3.5,fill:"#fff",stroke:"#1890FF",lineAppendWidth:12},anchorHotsoptStyle:{radius:12,fill:"#1890FF",fillOpacity:.25},anchorHotsoptActivedStyle:{radius:14},anchorPointHoverStyle:{radius:4,fill:"#1890FF",fillOpacity:1,stroke:"#1890FF"},nodeControlPointStyle:{radius:4,fill:"#fff",shadowBlur:4,shadowColor:"#666"},edgeControlPointStyle:{radius:6,symbol:"square",lineAppendWidth:6,fillOpacity:0,strokeOpacity:0},nodeSelectedBoxStyle:{stroke:"#C2C2C2"},cursor:{panningCanvas:"-webkit-grabbing",beforePanCanvas:"-webkit-grab",hoverNode:"move",hoverEffectiveAnchor:"crosshair",hoverEdge:"default",hoverGroup:"move",hoverUnEffectiveAnchor:"default",hoverEdgeControllPoint:"crosshair",multiSelect:"crosshair"},zIndex:{anchorPoint:3,anchorHotsopt:2,selectedBox:1,controlPoint:4},polylineEdgeStyle:{offset:10,borderRadius:5},addToGroupDelayTime:400,outFromGroupDelayTime:400}},function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(7),a=n(28),c=n(29),s={whitespace:{9:"Tab",13:"Enter",32:"Space"},fn:{112:"f1 ",113:"f2 ",114:"f3 ",115:"f4 ",116:"f5 ",117:"f6 ",118:"f7 ",119:"f8 ",120:"f9 ",121:"f10",122:"f11",123:"f12"},letter:{65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z"},number:{48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9"},navigation:{37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown"},symbol:{110:"decimal point",186:"semi-colon",187:"=",188:"comma",189:"-",190:"period ",191:"/",192:"grave accent",219:"open bracket ",220:"back slash ",221:"close bracket ",222:"single quote "},smallNumberKey:{96:"numpad 0 ",97:"numpad 1 ",98:"numpad 2 ",99:"numpad 3 ",100:"numpad 4 ",101:"numpad 5 ",102:"numpad 6 ",103:"numpad 7 ",104:"numpad 8 ",105:"numpad 9 "},modifierKey:{16:"Shift",17:"Ctrl ",18:"Alt",20:"caps lock"},escKey:{8:"Backspace",46:"Delete",27:"Escape"},homeKey:{91:"Windows Key / Left command",92:"right window key ",93:"Windows Menu"},computeKey:{106:"multiply ",107:"add",109:"subtract ",111:"divide "}},u=r({},i.Util,a,{getNodeSize:function(e){if(e){if(i.Util.isNumber(e))return[e,e];if(i.Util.isString(e)){if(-1===e.indexOf("*")){var t=Number(e);return[t,t]}return e.split("*")}return e}return[96,48]},getTypeAndChar:function(e){var t;for(var n in e=""+e,s)for(var r in t=n,s[n])if(r===e)return{type:t,character:s[n][r]};return{}},getKeyboradKey:function(e){return e.key||u.getTypeAndChar(e.keyCode).character},getIndex:function(e){return e.getParent().get("children").indexOf(e)},setId:function(e){e.id||(e.id=i.Util.guid())},pointLineDistance:function(e,t,n,r,o,a){var c=[n-e,r-t];if(i.Util.vec2.exactEquals(c,[0,0]))return NaN;var s=[-c[1],c[0]];i.Util.vec2.normalize(s,s);var u=[o-e,a-t];return Math.abs(i.Util.vec2.dot(u,s))},getRectByBox:function(e,t,n){return t.addShape("rect",{attrs:r({},n,{x:e.minX,y:e.minY,width:e.maxX-e.minX,height:e.maxY-e.minY})})},objectToValues:function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(e[t]);return n},getValue:function(e){return i.Util.isFunction(e)?e():e},getContrast:function(e,t){var n={};return i.Util.each(t,function(t,r){n[r]=e[r]}),n},arrowTo:function(e,t,n,r,o,a,c){var s=[a-r,c-o],u=i.Util.vec2.angleTo(s,[1,0],!0);return e.transform([["r",u],["t",t,n]]),e},setEndOfContenteditable:function(e){var t,n;document.createRange?((t=document.createRange()).selectNodeContents(e),t.collapse(!1),(n=window.getSelection()).removeAllRanges(),n.addRange(t)):document.selection&&((t=document.body.createTextRange()).moveToElementText(e),t.collapse(!1),t.select())},matches:function(e,t){return(Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}).call(e,t)},delegateEvent:function(e,t,n,r){return u.addEventListener(e,t,function(t){for(var o=t.target||t.srcElement;o!==e;)u.matches(o,n)&&r.call(o,Array.prototype.slice.call(arguments)),o=o.parentNode})},Palettes:c});e.exports=u},function(e,t){e.exports=r},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=n(7),h=n(1),p=n(10),d=[],g=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r={showHotArea:!1,defaultData:{roots:[{label:"\u601d\u7ef4\u5bfc\u56fe",children:[{label:"\u65b0\u5efa\u8282\u70b9"},{label:"\u65b0\u5efa\u8282\u70b9"},{label:"\u65b0\u5efa\u8282\u70b9"}]}]},shortcut:{append:!0,appendChild:!0,collapseExpand:!0,selectAll:!0},labelEditable:!0,graph:{modes:{default:["clickNodeSelected","keydownMoveSelection","clickCanvasSelected","keydownEditLabel","panBlank","wheelChangeViewport","panMindNode","clickCollapsedButton","clickExpandedButton","hoverButton","hoverNodeActived","dblclickItemEditLabel"],readOnly:["clickNodeSelected","wheelChangeViewport","keydownMoveSelection","hoverNodeActived","panCanvas","clickExpandedButton","hoverButton","clickCanvasSelected"]},layout:new f.Layouts.Mindmap({direction:"H",getSubTreeSep:function(e){return e.children&&e.children.length>0?e.hierarchy<=2?8:2:0},getHGap:function(e){return 1===e.hierarchy?8:2===e.hierarchy?24:18},getVGap:function(e){return 1===e.hierarchy?24:2===e.hierarchy?24:2},getSide:function(e){return e.data.side?e.data.side:"right"}}),mode:"default",defaultIntersectBox:"rect",nodeDefaultShape:"mind-base",edgeDefaultShape:"mind-edge",minZoom:.2,maxZoom:2},align:{item:!1},rootShape:"mind-root",firstSubShape:"mind-first-sub",secondSubShape:"mind-second-sub",subShape:"mind-base",nodeDefaultShape:"mind-base",graphConstructor:f.Tree,defaultSide:"right"},o={};return p.each(d,function(e){p.mix(o,e.CFG)}),p.mix(!0,r,o,e),(n=c(this,u(t).call(this,r))).isMind=!0,n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,h),n=t,(r=[{key:"_init",value:function(){var e=this;s(u(t.prototype),"_init",this).call(this),p.each(d,function(t){t.INIT&&e[t.INIT]()});var n=this.getGraph(),r=this.get("defaultData"),o=n.get("mode"),i=n.getRootGroup().addGroup();if(this.set("hotAreaGroup",i),n.edge().shape(function(e){if(n.find(e.target).getModel().isPlaceholder)return"mind-placeholder-edge"}),r&&this.read(r),"default"===o){if(r){var a=this.getRoot(),c=n.find(a.id);this.setSelected(c,!0)}}else if("readOnly"===o){var l=this.get("shortcut");l.append=!1,l.appendChild=!1,l.selectAll=!1,l.delete=!1}if(r){var f=this.getRoot();this.focus(f.id)}}},{key:"bindEvent",value:function(){var e=this;s(u(t.prototype),"bindEvent",this).call(this);var n=this.get("_graph");n.on("keydown",function(e){e.domEvent.preventDefault()}),n.on("beforechange",function(t){"add"===t.action?e._beforeAdd(t):"changeData"===t.action&&e._beforeChangeData(t)}),n.on("aftersource",function(){e._setHierarchy()}),n.on("afterchange",function(){e._setHotArea()}),n.on("afteritemdraw",function(e){var t=e.item,n=t.getModel();if(t.isEdge){var r=t.getGraphicGroup();p.toBack(r,r.getParent()),r.setSilent("capture",!1)}n.parent||(t.isRoot=!0,t.deleteable=!1,t.collapseExpand=!1,t.appendable=!1,t.dragable=!1)}),this.on("beforedelete",function(t){var n=t.items[0],r=e._getBrothers(n),o=e._getNth(n);r[o-1]?e.setSelected(r[o-1].id,!0):r[o+1]?e.setSelected(r[o+1].id,!0):e.setSelected(n.getParent(),!0)}),this.on("afteritemselected",function(t){e._tryAdjustViewport(t.item)})}},{key:"getRoot",value:function(){return this.getGraph().getSource().roots[0]}},{key:"_setHierarchy",value:function(e){var t=this.getGraph(),n=this.get("firstSubShape"),r=this.get("secondSubShape"),o=this.get("defaultSide");if(e){var i=t.find(e.parent);if(i){var a=i.getModel();e.hierarchy=a.hierarchy+1,"mind-placeholder"!==e.shape&&(2===e.hierarchy&&(e.shape=n,e.side||(e.side=o)),3===e.hierarchy&&(e.shape=r))}}else(e=this.getRoot()).hierarchy=1;p.traverseTree(e,function(e,t){e.hierarchy=t.hierarchy+1,e.side||(e.side=o),t.side&&(e.side=t.side),2===e.hierarchy?e.shape=n:3===e.hierarchy&&(e.shape=r)},function(e){return e.children})}},{key:"getFirstChildrenBySide",value:function(e){var t=this.getRoot(),n=[];return t.children.forEach(function(t){t.side===e&&n.push(t)}),n}},{key:"_getNth",value:function(e){return this.getGraph().getNth(e)}},{key:"_getBrothers",value:function(e){return e.getParent().getModel().children}},{key:"_getMoveChildModel",value:function(e){if(e&&e.length>0){var t=e.length;return e[parseInt(t/2)]}}},{key:"_getVerticalMoveItem",value:function(e,t,n){for(var r,o=this.getGraph().getNodes(),i=e.getBBox(),a=[i.minX,i.maxX],c=[],s=0;s<a.length;s++)for(var u=a[s],l=0;l<o.length;l++){var f=o[l],h=f.getBBox();t(h,i,u)&&c.push({long:n(h,i),node:f})}return c.length>0&&(c.sort(function(e,t){return e.long-t.long}),r=c[0].node),r}},{key:"_arrowTopItem",value:function(e){var t=this._getBrothers(e),n=this._getNth(e);return t[n-1]?t[n-1]:this._getVerticalMoveItem(e,function(e,t,n){return e.centerY<t.centerY&&n<=e.maxX&&n>=e.minX},function(e,t){return t.centerY-e.centerY})}},{key:"_arrowBottomItem",value:function(e){var t=this._getBrothers(e),n=this._getNth(e);return t[n+1]?t[n+1]:this._getVerticalMoveItem(e,function(e,t,n){return e.centerY>t.centerY&&n<=e.maxX&&n>=e.minX},function(e,t){return e.centerY-t.centerY})}},{key:"_arrowLeftItem",value:function(e){var t=p.getMindNodeSide(e);if(e.isRoot){var n=this.getFirstChildrenBySide("left");return this._getMoveChildModel(n)}if("left"===t){var r=e.getModel().children;return this._getMoveChildModel(r)}return e.getParent()}},{key:"_arrowRightItem",value:function(e){var t=p.getMindNodeSide(e);if(e.isRoot){var n=this.getFirstChildrenBySide("right");return this._getMoveChildModel(n)}if("right"===t){var r=e.getModel().children;return this._getMoveChildModel(r)}return e.getParent()}},{key:"_moveItemSelection",value:function(e){var t=this.getGraph(),n=this.getSelected()[0];if(n){var r,o=e.domEvent,i=p.getKeyboradKey(o);"ArrowUp"!==i||n.isRoot?"ArrowDown"!==i||n.isRoot?"ArrowLeft"===i?r=this._arrowLeftItem(n):"ArrowRight"===i&&(r=this._arrowRightItem(n)):r=this._arrowBottomItem(n):r=this._arrowTopItem(n),r&&(r=t.find(r.id)).isVisible()&&(this.clearSelected(),this.setSelected(r,!0))}}},{key:"showLabelEditor",value:function(e){var t=e.domEvent,n=this.getSelected()[0],r=p.getKeyboradKey(t);if(n&&1===r.length&&!t.metaKey&&!t.ctrlKey){var o=this.get("labelTextArea");n&&(this.beginEditLabel(n),o.innerHTML=r,p.setEndOfContenteditable(o))}}},{key:"_tryAdjustViewport",value:function(e){var t=this.get("_graph"),n=e.getBBox(),r={x:n.minX,y:n.minY},o={x:n.maxX,y:n.maxY},i=t.getDomPoint(r),a=t.getDomPoint(o),c=t.getWidth(),s=t.getHeight();i.x<0&&t.translate(16-i.x,0),i.y<0&&t.translate(0,16-i.y),a.x>c&&t.translate(c-a.x-16,0),a.y>s&&t.translate(0,s-a.y-16)}},{key:"_beforeChangeData",value:function(e){var t=e.data.roots[0],n=this.get("rootShape");t.shape=n,this._setHierarchy(t)}},{key:"_beforeAdd",value:function(e){var t=this.get("_graph"),n=e.model,r=t.find(n.parent);r.getModel().collapsed&&t.update(r,{collapsed:!1}),this._setHierarchy(n)}},{key:"_drawHotAreaShape",value:function(){var e=this.get("_graph"),t=this.get("hotAreaGroup"),n=this.get("hotAreas");t.clear(),n.forEach(function(e){t.addShape("rect",{attrs:{x:e.minX,y:e.minY,width:e.maxX-e.minX,height:e.maxY-e.minY,fill:e.color,fillOpacity:.4},capture:!1})}),e.draw()}},{key:"_setHotArea",value:function(){var e=[],t=this.get("_graph"),n=this.getRoot(),r="placeholder",i=this.get("showHotArea"),a=t.find(n.id).getBBox();e.push({minX:a.minX-90,minY:a.minY-60,maxX:(a.minX+a.maxX)/2,maxY:a.maxY+60,parent:n,current:n,id:n.id+"left"+r,nth:n.children.length,side:"left",color:"orange"}),e.push({minX:(a.minX+a.maxX)/2,minY:a.minY-60,maxX:a.maxX+90,maxY:a.maxY+60,parent:n,current:n,id:n.id+"right"+r,nth:n.children.length,side:"right",color:"pink"}),p.traverseTree(n,function(n,i,a){var c=t.find(n.id);if(!n.isPlaceholder&&c&&c.isVisible()){var s,u=function(e,t,n){var r=n.children,o=e;if(!n.parent)for(;r[o]&&r[o].side!==t.side;)o++;for(;r[o]&&r[o].isPlaceholder;)o++;if(r[o]&&r[o].side===t.side)return r[o]}(a+1,n,i),l=function(e,t,n){var r=n.children,o=e;if(!n.parent)for(;r[o]&&r[o].side!==t.side;)o--;for(;r[o]&&r[o].isPlaceholder;)o--;if(r[o]&&r[o].side===t.side)return r[o]}(a-1,n,i),f=t.find(n.id).getBBox(),h=i.children,p=2===n.hierarchy&&"right"===n.side,d=2===n.hierarchy&&"left"===n.side;if(l||e.push({minX:p?f.minX-90:f.minX,minY:function(){var e=l?f.minY:f.minY-16;return h[a-1]&&h[a-1].isPlaceholder&&h[a-1].side===n.side&&(e=t.find(h[a-1].id).getBBox().minY),e}(),maxX:d?f.maxX+90:f.maxX,maxY:(f.minY+f.maxY)/2,parent:i,id:(l?l.id:void 0)+n.id+i.id+r,side:n.side,color:"yellow",nth:a}),u){var g=t.find(u.id).getBBox();e.push({minX:"left"===n.side?Math.max(f.minX,g.minX):p?f.minX-90:f.minX,minY:(f.minY+f.maxY)/2,maxX:"right"===n.side?Math.min(f.maxX,g.maxX):d?f.maxX+90:f.maxX,maxY:(g.minY+g.maxY)/2,parent:i,id:n.id+(u?u.id:void 0)+i.id+r,side:n.side,color:"blue",nth:a+1})}else e.push({minX:p?f.minX-90:f.minX,minY:(f.minY+f.maxY)/2,maxX:d?f.maxX+90:f.maxX,maxY:function(){var e=f.maxY+16;return h[a+1]&&h[a+1].isPlaceholder&&h[a+1].side===n.side&&(e=t.find(h[a+1].id).getBBox().maxY),e}(),parent:i,id:n.id+void 0+i.id+r,color:"red",nth:a+1,addOrder:"push",side:n.side});(!n.children||0===n.children.length||1===n.children.length&&n.children[0].isPlaceholder)&&(s=n.x>i.x?{minX:f.maxX,minY:f.minY-0,maxX:f.maxX+100,maxY:f.maxY+0}:{minX:f.minX-100,minY:f.minY-0,maxX:f.minX,maxY:f.maxY+0},e.push(o({},s,{parent:n,id:NaN+n.id+r,nth:0,color:"green",side:n.side,addOrder:"push"})))}},function(e){return e.children}),this.set("hotAreas",e),i&&this._drawHotAreaShape()}},{key:"hideHotArea",value:function(){var e=this.get("_graph");this.get("hotAreaGroup").clear(),e.draw(),this.set("showHotArea",!1)}},{key:"showHotArea",value:function(){this._drawHotAreaShape(),this.set("showHotArea",!0)}},{key:"getHotArea",value:function(e){var t;return this.get("hotAreas").forEach(function(n){if(e.x>n.minX&&e.x<n.maxX&&e.y>n.minY&&e.y<n.maxY)return t=n,!1}),t}},{key:"saveExpandImage",value:function(e){var t,n,r,i=this,a=this.getGraph(),c=a.getBBox(),s=a.getFitViewPadding();return a.saveImage(o({width:c.width+s[1]+s[3],height:c.height+s[0]+s[2],beforeTransform:function(){var e=a.getNodes();(t=e.filter(function(e){return e.getModel().collapsed}).map(function(e){return e.getModel().id})).forEach(function(e){a.update(e,{collapsed:!1})}),a.layout(),n=i.getSelected().map(function(e){return e.id}),r=i.getSelected().map(function(e){return e.id}),i.clearSelected(),i.clearActived()},afterTransform:function(){t.forEach(function(e){a.update(e,{collapsed:!0})}),i.setSelected(n,!0),i.setActived(r,!0)}},e))}},{key:"save",value:function(){var e=this.get("_graph").save();return e.roots.forEach(function(e){p.traverseTree(e,function(e){delete e.x,delete e.y,delete e.width,delete e.height,delete e.parent,delete e.nth,delete e.hierarchy,delete e.index,delete e.shape},function(e){return e.children},!0)}),e}}])&&a(n.prototype,r),t}();p.each(d,function(e){p.mix(g.prototype,e.AUGMENT)}),h.setRegister(g,"mind","page"),e.exports=g},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}var i=n(7).Util,a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=this.getDefaultCfg();i.mix(!0,this,n,t),this.init()}return o(e,[{key:"getDefaultCfg",value:function(){return{}}}]),o(e,[{key:"init",value:function(){}},{key:"destroy",value:function(){}}]),e}();e.exports=a},function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}({},n(4),{getMindNodeSide:function(e){var t=e.getModel();if(t.side)return t.side;var n=e.getParent();return n?n.getModel().side?n.getModel().side:o.getMindNodeSide(n):void 0}});e.exports=o},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=n(1),s=n(16),u=n(19),l=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r={graph:{modes:{default:["panBlank","hoverGroupActived","keydownCmdWheelZoom","clickEdgeSelected","clickNodeSelected","clickCanvasSelected","clickGroupSelected","hoverNodeActived","hoverEdgeActived","hoverButton","clickCollapsedButton","clickExpandedButton","wheelChangeViewport","keydownShiftMultiSelected","dragNodeAddToGroup","dragOutFromGroup","panItem","hoverEdgeControlPoint","dragEdgeControlPoint"],add:["dragPanelItemAddNode"],readOnly:["panCanvas"],move:["panCanvas"],multiSelect:["dragMultiSelect"]},mode:"default",defaultIntersectBox:"rect",nodeDefaultShape:"flow-base",edgeDefaultShape:"flow-smooth",groupDefaultShape:"flow-base"},linkNode:!1};return u.mix(!0,r,{},e),(n=o(this,i(t).call(this,r))).isFlow=!0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,s),t}();c.setRegister(l,"flow","diagram"),e.exports=l},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=n(16),l=n(1),f=n(6),h=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r={graph:{modes:{default:["panBlank","keydownCmdWheelZoom","clickEdgeSelected","clickNodeSelected","clickCanvasSelected","hoverNodeActived","hoverEdgeActived","hoverButton","wheelChangeViewport","keydownShiftMultiSelected","panItem","hoverNodeShowArrowController","hoverEdgeControlPoint","dragEdgeControlPoint","bpmnMoveEdgeController"],add:["dragPanelItemAddNode","processAddEdge"],readOnly:["panCanvas"],move:["panCanvas"],multiSelect:["dragMultiSelect"]},mode:"default",defaultIntersectBox:"rect",nodeDefaultShape:"bpmn-base",edgeDefaultShape:"bpmn-base"},arrowController:{thickness:32,long:32,controllers:[]}};return f.mix(!0,r,{},e),(n=i(this,c(t).call(this,r))).isBPMN=!0,n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,u),n=t,(r=[{key:"_init",value:function(){a(c(t.prototype),"_init",this).call(this),this._initArrowController()}},{key:"_createArrowController",value:function(e,t){var n=this,r=this.get("arrowController").controllers,o=f.createDOM('<div class="g6-bpmn-arrow"><svg t="1543840367375" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1061" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32"><defs><style type="text/css"></style></defs><path d="M906.77248 512c0 4.77184-2.21184 9.2672-5.9904 12.17536l-376.5248 289.4848c-2.7648 2.11968-6.06208 3.18464-9.3696 3.18464-3.25632 0-6.5024-1.03424-9.24672-3.09248-5.50912-4.15744-7.5776-11.48928-5.03808-17.90976l75.71456-191.67232L132.58752 604.17024c-8.48896 0-15.36-6.88128-15.36-15.36l0-153.6c0-8.48896 6.87104-15.36 15.36-15.36l443.72992 0-75.71456-191.68256c-2.53952-6.42048-0.47104-13.75232 5.04832-17.90976 5.50912-4.15744 13.12768-4.13696 18.60608 0.09216l376.5248 289.4848C904.56064 502.7328 906.77248 507.22816 906.77248 512z" p-id="1062" fill="#34B7EF"></path></svg></div>',{visibility:"hidden",width:e+"px",height:t+"px",position:"absolute"});return o.setAttribute("draggable","true"),f.addEventListener(o,"dragstart",function(){var e=o.hoverNode,t={shape:"bpmn-base",source:e.id,anchorIndex:o.getAttribute("anchorIndex")},r=e.getBBox(),i=n.getDelegation([{isEdge:!0}]);n.setSignal("dragEdge",!0),n.beginAdd("edge",t),n.set("addEdgeConfig",{addModel:t,delegation:i,startPoint:{x:r.centerX,y:r.centerY},sourceItem:e}),n.hideArrowController()}),r.push(o),o}},{key:"showArrowController",value:function(e){this.get("arrowController").controllers.forEach(function(t){t.show(),t.hoverNode=e})}},{key:"hideArrowController",value:function(){this.get("arrowController").controllers.forEach(function(e){e.hide()})}},{key:"_initArrowController",value:function(){var e=this.getGraph().getGraphContainer(),t=this.get("arrowController"),n=t.thickness,r=t.long,o=this._createArrowController(n,r),i=this._createArrowController(n,r),a=this._createArrowController(r,n),c=this._createArrowController(r,n);e.appendChild(o),e.appendChild(i),e.appendChild(a),e.appendChild(c),t.topArrow=o,t.bottomArrow=i,t.leftArrow=a,t.rightArrow=c}},{key:"bindEvent",value:function(){var e=this;a(c(t.prototype),"bindEvent",this).call(this);var n=this.getGraph();n.on("beforepanitem",function(){e.hideArrowController()}),n.on("afterviewportchange",function(){e.hideArrowController()})}}])&&o(n.prototype,r),t}();l.setRegister(h,"bpmn","diagram"),e.exports=h},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=n(7),l=n(1),f=n(2),h=n(65),p=n(66),d=n(68),g=n(72),v=[h,n(73),g,p,d,n(74)],m=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r={shortcut:{copy:!0,paste:!0,selectAll:!0,addGroup:!0,unGroup:!0},graph:{minZoom:.2,maxZoom:2},graphConstructor:u.Graph,noEndEdge:!0},o={};return f.each(v,function(e){f.mix(o,e.CFG)}),f.mix(!0,r,o,e),(n=i(this,c(t).call(this,r))).isFlow=!0,n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,l),n=t,(r=[{key:"_init",value:function(){var e=this;a(c(t.prototype),"_init",this).call(this),f.each(v,function(t){t.INIT&&e[t.INIT]()})}},{key:"bindEvent",value:function(){var e=this;a(c(t.prototype),"bindEvent",this).call(this),this.on("beforeitemactived",function(t){var n=t.item,r=e.get("_graph").getShapeObj(n).getActivedOutterStyle(n);n.isNode&&e.addOutterShape(n,r)}),this.on("beforeitemunactived",function(t){var n=t.item;(n.isNode||n.isGroup)&&e.clearOutterShape(n)}),this.on("beforeitemselected",function(t){var n=t.item,r=e.get("_graph").getShapeObj(n).getSelectedOutterStyle(n);n.isNode?e.addOutterShape(n,r):n.isGroup&&e.addOutterShape(n,r)}),this.on("beforeitemunselected",function(t){var n=t.item;(n.isNode||n.isGroup)&&e.clearOutterShape(n)})}}])&&o(n.prototype,r),t}();f.each(v,function(e){f.mix(m.prototype,e.AUGMENT)}),l.setRegister(m,"diagram","page"),e.exports=m},function(e,t){e.exports={gridStyle:{stroke:"#A3B1BF",lineWidth:.5},cursor:{panningCanvas:"-webkit-grabbing",beforePanCanvas:"-webkit-grab"},wheelPanRatio:.3,alignLineStyle:{stroke:"#FA8C16",lineWidth:1},nodeDelegationStyle:{stroke:"#1890FF",fill:"#1890FF",fillOpacity:.08,lineDash:[4,4],radius:4,lineWidth:1},edgeDelegationStyle:{stroke:"#1890FF",lineDash:[4,4],lineWidth:1}}},function(e,t,n){var r=n(18);n(32),n(33),e.exports=r},function(e,t,n){var r=n(13);n(75),n(80),e.exports=r},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=n(1),l=n(16),f=n(24),h=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r={graph:{modes:{default:["panBlank","hoverGroupActived","keydownCmdWheelZoom","clickEdgeSelected","clickNodeSelected","clickCanvasSelected","clickGroupSelected","hoverNodeActived","hoverEdgeActived","hoverButton","clickCollapsedButton","clickExpandedButton","wheelChangeViewport","keydownShiftMultiSelected","dragNodeAddToGroup","dragOutFromGroup","panItem","hoverEdgeControlPoint","dragEdgeControlPoint"],add:["dragPanelItemAddNode","processAddEdge"],readOnly:["panCanvas"],move:["panCanvas"],multiSelect:["dragMultiSelect"]},mode:"default",defaultIntersectBox:"circle",nodeDefaultShape:"koni-base",edgeDefaultShape:"koni-base",groupDefaultShape:"koni-base",minZoom:.5,maxZoom:2},orbit:{satellite:["forkAndLink"]},anchorLink:!1,noEndEdge:!1};return f.mix(!0,r,{},e),(n=i(this,c(t).call(this,r))).isKoni=!0,n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,l),n=t,(r=[{key:"bindEvent",value:function(){a(c(t.prototype),"bindEvent",this).call(this);var e=this.getGraph();e.on("afterchange",function(t){var n=t.item,r=t.action,o=t.originModel,i=t.updateModel;if(n&&n.isEdge)if("add"===r||"remove"===r){var a=n.getSource(),c=n.getTarget();f.getParallelEdges(a,c,!0).forEach(function(e){e.update()})}else if("update"===r){var s=e.find(o.source),u=e.find(o.target),l=[];if(f.getParallelEdges(s,u,!0).forEach(function(e){e.update()}),f.isNil(i.target)&&!f.isNil(i.source)){var h=e.find(i.source);l=f.getParallelEdges(h,u,!0)}else if(!f.isNil(i.target)&&f.isNil(i.source)){var p=e.find(i.target);l=f.getParallelEdges(s,p,!0)}else if(!f.isNil(i.target)&&!f.isNil(i.source)){var d=e.find(i.source),g=e.find(i.target);l=f.getParallelEdges(d,g,!0)}l.forEach(function(e){e.update()})}"changeData"===r&&e.getEdges().forEach(function(e){e.update()}),e.draw()})}}])&&o(n.prototype,r),t}();u.setRegister(h,"koni","diagram"),e.exports=h},function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(6),a={};function c(e){return e.getCurrentPage().getSelected().length>0}function s(e){var t=e.getCurrentPage();this.snapShot=t.save(),this.selectedItems=t.getSelected().map(function(e){return e.id}),this.method&&(i.isString(this.method)?t[this.method]():this.method(e))}function u(e){var t=e.getCurrentPage();t.read(this.snapShot),t.setSelected(this.selectedItems,!0)}function l(e){return e.getCurrentPage().getMode()!==this.toMode}function f(e){var t=e.getCurrentPage();this.fromMode=t.getMode(),t.changeMode(this.toMode)}function h(e){e.getCurrentPage().changeMode(this.fromMode)}function p(e){var t={},n=[];return e.forEach(function(e){var o=e.model,a=i.mix(!0,{},r({},o,{id:i.guid()}));t[o.id]=a.id,n.push(r({},e,{model:a}))}),n.forEach(function(e){var n=e.model;if(n.parent){var r=t[n.parent];r?n.parent=r:delete n.parent}}),n.sort(function(e,t){return e.index-t.index}),n}a.list=[],a.registerCommand=function(e,t,n){if(a[e])i.mix(a[e],t);else{var o=r({enable:function(){return!0},init:function(){},execute:s,back:u,shortcutCodes:void 0,executeTimes:1,name:e,queue:!0},t);n&&a[n]&&(o=i.mix({},a[n],t)),a[e]=o,a.list.push(o)}},a.execute=function(e,t,n){var r=i.mix(!0,{},a[e],n),o=t.get("_command");return r.enable(t)&&(r.init(),r.queue&&(o.queue.splice(o.current,o.queue.length-o.current,r),o.current+=1),t.emit("beforecommandexecute",{command:r}),r.execute(t),t.emit("aftercommandexecute",{command:r}),t.setCommandDOMenable()),r},a.enable=function(e,t){return a[e].enable(t)},a.registerCommand("common",{back:u}),a.registerCommand("copyAdjacent",{enable:function(){return this.copyNode&&this.copyNode.isNode&&this.x&&this.y},execute:function(e){var t=this.copyNode,n=e.getCurrentPage(),r=n.getGraph(),o=t.getModel(),a=i.clone(o);a.id=i.guid(),a.x=this.x,a.y=this.y;var c=r.add("node",a),s=r.add("edge",{source:o.id,target:a.id});1===this.executeTimes&&(this.addIds=[c.id,s.id],this.page=n)},back:function(){var e=this.page.getGraph();this.addIds.forEach(function(t){e.remove(t)})}}),a.registerCommand("add",{enable:function(){return this.type&&this.addModel},execute:function(e){var t=e.getCurrentPage(),n=t.getGraph().add(this.type,this.addModel);1===this.executeTimes&&(this.addId=n.id,this.page=t)},back:function(){this.page.getGraph().remove(this.addId)}}),a.registerCommand("update",{enable:function(){return this.itemId&&this.updateModel},execute:function(e){var t=e.getCurrentPage(),n=t.getGraph(),r=n.find(this.itemId);1===this.executeTimes&&(this.originModel=i.getContrast(r.getModel(),this.updateModel),this.page=t),n.update(r,this.updateModel)},back:function(){var e=this.page.getGraph(),t=e.find(this.itemId);e.update(t,this.originModel)}}),a.registerCommand("redo",{queue:!1,enable:function(e){var t=e.get("_command"),n=t.queue;return t.current<n.length},execute:function(e){var t=e.get("_command");t.queue[t.current].execute(e),t.current+=1},shortcutCodes:[["metaKey","shiftKey","z"],["ctrlKey","shiftKey","z"]]}),a.registerCommand("undo",{queue:!1,enable:function(e){return e.get("_command").current>0},execute:function(e){var t=e.get("_command"),n=t.queue[t.current-1];n.executeTimes++,n.back(e),t.current-=1},shortcutCodes:[["metaKey","z"],["ctrlKey","z"]]}),a.registerCommand("copy",{queue:!1,enable:c,method:function(e){var t=e.getCurrentPage().getSelected(),n=e.get("_command"),o=t.map(function(e){return e.getGraphicGroup()}),a=i.getChildrenBBox(o);n.clipboard=[],t.forEach(function(e){i.traverseTree(e,function(e){var t=e.getModel(),r=e.getGraphicGroup();n.clipboard.push({type:e.type,index:i.getIndex(r),model:t})},function(e){return e.getChildren&&e.getChildren()},!0)}),e.set("copyCenterBox",r({},a))}}),a.registerCommand("pasteHere",{enable:function(e){return e.get("_command").clipboard.length>0},method:function(e){var t=e.getCurrentPage(),n=e.get("_command"),r=this.pasteData?this.pasteData:p(n.clipboard),o=this.copyCenterBox?this.copyCenterBox:e.get("copyCenterBox"),a=this.contextmenuPoint?this.contextmenuPoint:e.get("contextmenuPoint");t.clearSelected(),this.copyCenterBox=i.clone(o),this.pasteData=i.clone(r),this.contextmenuPoint=i.clone(a),r.forEach(function(e){var n=e.model;n.x&&(n.x+=a.x-o.minX),n.y&&(n.y+=a.y-o.minY),t.add(e.type,n)})},back:u}),a.registerCommand("paste",{enable:function(e){return e.get("_command").clipboard.length>0},method:function(e){var t=e.getCurrentPage(),n=e.get("_command"),r=this.pasteData?this.pasteData:p(n.clipboard);t.clearSelected(),this.pasteData=i.clone(r),r.forEach(function(e){var n=e.model;n.x&&(n.x+=10),n.y&&(n.y+=10),t.add(e.type,n)})},back:u}),a.registerCommand("addGroup",{init:function(){this.addGroupId=i.guid()},enable:function(e){return e.getCurrentPage().getSelected().length>1},method:function(e){e.getCurrentPage().addGroup({id:this.addGroupId})},back:u}),a.registerCommand("unGroup",{enable:function(e){var t=e.getCurrentPage().getSelected();return 1===t.length&&t[0].isGroup},method:"unGroup",back:u}),a.registerCommand("delete",{getDeleteItems:function(e){var t=e.getCurrentPage(),n=t.getGraph(),r=this.itemIds?this.itemIds.map(function(e){return n.find(e)}):t.getSelected();return r=r.filter(function(e){return!1!==e.deleteable})},enable:function(e){return this.getDeleteItems(e).length>0},method:function(e){var t=e.getCurrentPage(),n=this.getDeleteItems(e),r=t.getGraph();t.emit("beforedelete",{items:n}),i.each(n,function(e){r.remove(e)}),t.emit("afterdelete",{items:n}),this.itemIds=n.map(function(e){return e.getModel().id})},back:u,shortcutCodes:["Delete","Backspace"]}),a.registerCommand("selectAll",{method:function(e){var t=e.getCurrentPage();t.getGraph().getItems().forEach(function(e){t.setSelected(e,!0)})},back:u,shortcutCodes:[["metaKey","a"]]}),a.registerCommand("toBack",{enable:c,method:"toBack",back:u}),a.registerCommand("toFront",{enable:c,method:"toFront",back:u}),a.registerCommand("clear",{enable:function(e){return e.getCurrentPage().getItems().length>0},method:"clear",back:u}),a.registerCommand("multiSelect",{enable:l,toMode:"multiSelect",execute:f,back:h}),a.registerCommand("move",{enable:l,toMode:"move",execute:f,back:h}),e.exports=a},function(e,t,n){e.exports=n(2)},function(e,t,n){"use strict";n.r(t),n.d(t,"mouseEnterEdge",function(){return o}),n.d(t,"mouseLeaveEdge",function(){return i}),n.d(t,"startMove",function(){return a}),n.d(t,"endMove",function(){return c}),n.d(t,"mouseMoveEdge",function(){return s}),n.d(t,"mergeLine",function(){return u});var r=n(0);function o(e){var t=e.graph,n=e.bpmn,o=e.ev,i=e.backUpCursor,a=o.item,c=a.model.controlPoints,s=Object(r.e)({x:o.x,y:o.y},c),u=s.index,l=s.vertical;null!=u&&(i&&(a._cursor=n.getGraph().getMouseEventWrapper().style.cursor),t.update(a,{hold:{index:u,vertical:l}}),l?n.css({cursor:"col-resize"}):n.css({cursor:"row-resize"}))}function i(e){var t=e.graph,n=e.bpmn,r=e.item;r._cursor&&n.css({cursor:r._cursor}),delete r._cursor,t.update(r,{hold:void 0})}function a(e,t){var n=t.item;e.update(n,{lastMouse:{x:t.x,y:t.y}})}function c(e){var t=e.graph,n=e.item;t.update(n,{lastMouse:void 0,moveDelta:void 0})}function s(e,t,n){var r;r=t.model&&t.model.hold&&t.model.hold.vertical?{x:n.x-t.model.lastMouse.x,y:0}:{x:0,y:n.y-t.model.lastMouse.y},e.update(t,{edgeMoved:r,modifiedByMouse:!0})}function u(e,t,n){var r,o=e.model,i=t||o.hold.index,a=o.controlPoints;null===n&&(n=o.hold.vertical);var c=[];return i>=2&&(n?Math.abs(a[i-2].x-a[i].x)<=3&&(r=[{x:a[i-2].x,y:a[i-2].y},{x:a[i-2].x,y:a[i+1].y}],c.push(i-1,i),o.hold.index=i-2,o.controlPoints[i+1].x=a[i-2].x):Math.abs(a[i-2].y-a[i].y)<=3&&(r=[{x:a[i-2].x,y:a[i-2].y},{x:a[i+1].x,y:a[i-2].y}],c.push(i-1,i),o.hold.index=i-2,o.controlPoints[i+1].y=a[i-2].y)),i<=a.length-4&&(n?Math.abs(a[i].x-a[i+2].x)<=3&&(r?(r[1]={x:a[i-2].x,y:a[i+3].y},o.controlPoints[i+3].x=a[i-2].x):(r=[{x:a[i+3].x,y:a[i].y},{x:a[i+3].x,y:a[i+3].y}],o.controlPoints[i].x=a[i+3].x),c.push(i+1,i+2)):Math.abs(a[i].y-a[i+2].y)<=3&&(r?(r[1]={x:a[i+3].x,y:a[i-2].y},o.controlPoints[i+3].y=a[i-2].y):(r=[{x:a[i].x,y:a[i+3].y},{x:a[i+3].x,y:a[i+3].y}],o.controlPoints[i].y=a[i+3].y),c.push(i+1,i+2))),c&&c.length&&a.splice(c[0],c.length),r}},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=n(27),l=n(6),f=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=(n=o(this,i(t).call(this))).getDefaultCfg();return n._cfg=l.mix(!0,{},n._cfg,r,e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,u),c(t,[{key:"getDefaultCfg",value:function(){return{}}}]),c(t,[{key:"get",value:function(e){return this._cfg[e]}},{key:"set",value:function(e,t){this._cfg[e]=t}},{key:"destroy",value:function(){this._cfg={},this.destroyed=!0}}]),t}();e.exports=f},function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(4);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}({},o,{getParallelEdges:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.getEdges().filter(function(e){var r=e.getModel();return r.target===t.id||n&&r.source===t.id})},object2array:function(e){var t=[];return o.each(e,function(e){t.push(e)}),t}})},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=n(9),u=n(2),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,a(t).apply(this,arguments))}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,s),n=t,(r=[{key:"getDefaultCfg",value:function(){return{name:"",render:function(){return"<button>satellite</button>"},bindEvent:function(){return[]}}}},{key:"_renderDOM",value:function(){var e=u.createDOM(this.render(this.diagram));return this.dom=e,e.isSatellite=!0,e}},{key:"getDOM",value:function(){return this.dom||this._renderDOM()}},{key:"init",value:function(){var e=this.getDOM(),t=this.diagram.getGraph().getGraphContainer();e&&(e.css({position:"absolute",visibility:"hidden"}),t.appendChild(e),e&&this.bindEvent(e,this.diagram))}},{key:"enable",value:function(){return!0}},{key:"show",value:function(){this.getDOM().show()}},{key:"hide",value:function(){this.getDOM().hide()}},{key:"isVisible",value:function(){return"hidden"!==this.getDOM().style.visibility}},{key:"destroy",value:function(){var e=this.events;e&&e.forEach(function(e){e.remove()})}}])&&o(n.prototype,r),t}();e.exports=l},function(e,t,n){e.exports=n(2)},function(e,t,n){var r=n(26),o=n(6),i=n(15);n(7),r.Editor=r,r.Util=o,r.Diagram=n(16),r.Page=n(1),r.Flow=n(95),r.Koni=n(102),r.Mind=n(107),r.Toolbar=n(121),r.Contextmenu=n(122),r.Command=n(15),r.BPMN=n(123),r.registerBehaviour=r.Page.registerBehaviour,r.registerNode=r.Page.registerNode,r.registerEdge=r.Page.registerEdge,r.registerGroup=r.Page.registerGroup,r.registerGuide=r.Page.registerGuide,r.registerCommand=i.registerCommand,e.exports=r},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=n(21),u=n(6),l=n(15),f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,a(t).apply(this,arguments))}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,s),n=t,(r=[{key:"getDefaultCfg",value:function(){return{_components:[],_command:{zoomDelta:.1,queue:[],current:0,clipboard:[]}}}},{key:"_getComponentsBy",value:function(e){return this.get("_components").filter(e)}},{key:"_bindCommands",value:function(e){var t=this;u.each(e,function(e){var n=e.dataset,r=n.command;l[r]?u.addEventListener(e,"click",function(){t.getCurrentPage().focusGraphWrapper(),t.executeCommand(r,n)}):console.warn("\u8bf7\u8bbe\u7f6e\u6709\u6548\u7684\u547d\u4ee4\uff01")})}},{key:"getCommands",value:function(){return this.get("_command").queue}},{key:"getCurrentCommand",value:function(){var e=this.get("_command");return e.queue[e.current-1]}},{key:"executeCommand",value:function(e,t){u.isString(e)?l.execute(e,this,t):l.execute("common",this,{method:e},t)}},{key:"commandEnable",value:function(e){return l.enable(e,this)}},{key:"setCommandDOMenable",value:function(){var e=this,t=this.getComponentsByType("toolbar"),n=this.getComponentsByType("contextmenu"),r=[];t.forEach(function(e){u.each(e.getCommandDoms(),function(e){r.push(e)})}),n.forEach(function(e){u.each(e.getCommandDoms(),function(e){r.push(e)})}),u.each(r,function(t){var n=t.dataset.command;l.enable(n,e)?t.classList.remove("disable"):t.classList.add("disable")})}},{key:"_onPageStatusChange",value:function(){this.setCommandDOMenable()}},{key:"_afterAddContextmenu",value:function(){this.getCurrentPage()&&this.setCommandDOMenable()}},{key:"_afterAddPage",value:function(e){var t=this;this.setCommandDOMenable(),e.on("statuschange",function(e){t._onPageStatusChange(e)}),e.on("mousedown",function(){t.getComponentsByType("contextmenu").forEach(function(e){e.hide()})}),e.on("contextmenu",function(n){var r=t.getComponentsByType("contextmenu"),o=e.getGraph().getCanvas().get("el"),i=u.getBoundingClientRect(o),a={x:n.x,y:n.y},c=n.item;c&&!c.isSelected&&(e.clearSelected(),e.setSelected(n.item,!0)),t.set("contextmenuPoint",a),n.domEvent.preventDefault(),r.forEach(function(e){e.show(),e.contextmenuPoint=a,e.move(i.left+n.domX,i.top+n.domY)})}),e.on("statuschange",function(e){t.getComponentsByType("contextmenu").forEach(function(t){t.switch(e.status)})}),this._bindShortcut(e)}},{key:"_beforeAddToolbar",value:function(e){var t=e.getCommandDoms();this._bindCommands(t)}},{key:"_beforeAddContextmenu",value:function(e){var t=e.getCommandDoms();e.bindEvent(),this._bindCommands(t)}},{key:"getComponentsByType",value:function(e){return this._getComponentsBy(function(t){return t.type===e})}},{key:"getCurrentPage",value:function(){var e,t=this.getComponentsByType("page");return t.every(function(t){return!t.isActived||(e=t,!1)}),e||(e=t[0]),e}},{key:"getComponents",value:function(){return this.get("_components")}},{key:"_shortcutEnable",value:function(e,t){for(var n=e.shortcutCodes,r=u.getKeyboradKey(t),o=!1,i=0;i<n.length;i++){var a=n[i];if(u.isArray(a)){for(var c=a.length,s=!0,l=0;l<c-1;l++)if(!t[a[l]]){s=!1;break}a[c-1]!==r&&a[c-1]!==u.lowerFirst(r)||!s||(o=!0)}else a===r&&(o=!0);if(o)break}return o}},{key:"_bindShortcut",value:function(e){var t=this,n=e.get("shortcut");e.getGraph().on("keydown",function(e){var r=t.getComponentsByType("contextmenu"),o=e.domEvent;r.forEach(function(e){e.hide()}),o.preventDefault();for(var i=l.list.filter(function(e){return e.shortcutCodes&&n[e.name]}),a=0;a<i.length;a++){var c=i[a];if(t._shortcutEnable(c,o))return t.executeCommand(c.name),!1}})}},{key:"add",value:function(e){var t=this.get("_components"),n=u.upperFirst(e.type);e.editor=this,this["_beforeAdd"+n]&&this["_beforeAdd"+n](e),t.push(e),this["_afterAdd"+n]&&this["_afterAdd"+n](e)}},{key:"destroy",value:function(){this.get("_components").forEach(function(e){e.destroy()})}}])&&o(n.prototype,r),t}();e.exports=f},function(e,t,n){var r;!function(t){"use strict";function o(){}var i=o.prototype,a=t.EventEmitter;function c(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function s(e){return function(){return this[e].apply(this,arguments)}}i.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp)for(n in t={},r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n]);else t=r[e]||(r[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},i.addListener=function(e,t){if(!function e(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&e(t.listener)}(t))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(e),o="object"==typeof t;for(n in r)r.hasOwnProperty(n)&&-1===c(r[n],t)&&r[n].push(o?t:{listener:t,once:!1});return this},i.on=s("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=s("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,t){var n,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&-1!==(n=c(o[r],t))&&o[r].splice(n,1);return this},i.off=s("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var r,o,i=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)i.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(o=t[r])&&("function"==typeof o?i.call(this,r,o):a.call(this,r,o));return this},i.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},i.removeAllListeners=s("removeEvent"),i.emitEvent=function(e,t){var n,r,o,i,a=this.getListenersAsObject(e);for(i in a)if(a.hasOwnProperty(i))for(n=a[i].slice(0),o=0;o<n.length;o++)!0===(r=n[o]).once&&this.removeListener(e,r.listener),r.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},i.trigger=s("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},o.noConflict=function(){return t.EventEmitter=a,o},void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}("undefined"!=typeof window?window:this||{})},function(e,t,n){var r=n(7).Util;e.exports={getGroupIconPath:function(){return"M9.75,9.60000014 L3.75,9.60000014 C3.33578644,9.60000014 3,9.2865995 3,8.90000022 C3,8.51340093 3.33578644,8.20000029 3.75,8.20000029 L9.75,8.20000029 C10.1642136,8.20000029 10.5,8.51340093 10.5,8.90000022 C10.5,9.2865995 10.1642136,9.60000014 9.75,9.60000014 M3,11.6999999 C3,11.3134006 3.33578644,11 3.75,11 L6.75,11 C7.16421356,11 7.5,11.3134006 7.5,11.6999999 C7.5,12.0865992 7.16421356,12.3999999 6.75,12.3999999 L3.75,12.3999999 C3.33578644,12.3999999 3,12.0865992 3,11.6999999 M3.75,13.7999997 L6.75,13.7999997 C7.16421356,13.7999997 7.5,14.1134004 7.5,14.4999996 C7.5,14.8865989 7.16421356,15.1999996 6.75,15.1999996 L3.75,15.1999996 C3.33578644,15.1999996 3,14.8865989 3,14.4999996 C3,14.1134004 3.33578644,13.7999997 3.75,13.7999997 M16.4985,4.00000072 L1.5015,4.00000072 C0.674533504,3.99922416 0.00289396564,4.6232696 0,5.39510058 L0,16.6048994 C0.00289396564,17.3767304 0.674533504,18.0007758 1.5015,17.9999993 L16.4985,17.9999993 C17.3254665,18.0007758 17.997106,17.3767304 18,16.6048994 L18,5.39510058 C17.997106,4.6232696 17.3254665,3.99922416 16.4985,4.00000072M19,13.9999993 L19,3 L5,3 L5,1.39510058 C5.00289397,0.623269599 5.6745335,-0.00077583787 6.5015,7.23978642e-07 L21.4985,7.23978642e-07 C22.3254665,-0.00077583787 22.997106,0.623269599 23,1.39510058 L23,12.6048994 C22.997106,13.3767304 22.3254665,14.0007758 21.4985,13.9999993 L19,13.9999993 Z"},getCollapsedButtonPath:function(){return r.getRectPath(0,0,14,14,2)+"M3,7L11,7"},getExpandedButtonPath:function(){return r.getRectPath(0,0,14,14,2)+"M3,7L11,7M7,3L7,11"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.presetPrimaryColors=t.presetPalettes=t.generate=void 0;var r,o=n(30),i=(r=o)&&r.__esModule?r:{default:r},a={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},c={};Object.keys(a).forEach(function(e){c[e]=(0,i.default)(a[e])}),t.generate=i.default,t.presetPalettes=c,t.presetPrimaryColors=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=[],n=(0,i.default)(e),r=f;r>0;r-=1){var o=n.toHsv(),a=(0,i.default)({h:p(o,r,!0),s:d(o,r,!0),v:g(o,r,!0)}).toHexString();t.push(a)}t.push(n.toHexString());for(var c=1;c<=h;c+=1){var s=n.toHsv(),u=(0,i.default)({h:p(s,c),s:d(s,c),v:g(s,c)}).toHexString();t.push(u)}return t};var r,o=n(31),i=(r=o)&&r.__esModule?r:{default:r},a=2,c=16,s=5,u=5,l=15,f=5,h=4;function p(e,t,n){var r=void 0;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-a*t:Math.round(e.h)+a*t:n?Math.round(e.h)+a*t:Math.round(e.h)-a*t)<0?r+=360:r>=360&&(r-=360),r}function d(e,t,n){if(0===e.h&&0===e.s)return e.s;var r=void 0;return(r=n?Math.round(100*e.s)-c*t:t===h?Math.round(100*e.s)+c:Math.round(100*e.s)+s*t)>100&&(r=100),n&&t===f&&r>10&&(r=10),r<6&&(r=6),r}function g(e,t,n){return n?Math.round(100*e.v)+u*t:Math.round(100*e.v)-l*t}},function(e,t,n){var r;!function(o){var i=/^\s+/,a=/\s+$/,c=0,s=o.round,u=o.min,l=o.max,f=o.random;function h(e,t){if(t=t||{},(e=e||"")instanceof h)return e;if(!(this instanceof h))return new h(e,t);var n=function(e){var t,n,r,c={r:0,g:0,b:0},s=1,f=null,h=null,p=null,d=!1,g=!1;return"string"==typeof e&&(e=function(e){e=e.replace(i,"").replace(a,"").toLowerCase();var t,n=!1;if(A[e])e=A[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=V.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=V.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=V.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=V.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=V.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=V.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=V.hex8.exec(e))?{r:D(t[1]),g:D(t[2]),b:D(t[3]),a:F(t[4]),format:n?"name":"hex8"}:(t=V.hex6.exec(e))?{r:D(t[1]),g:D(t[2]),b:D(t[3]),format:n?"name":"hex"}:(t=V.hex4.exec(e))?{r:D(t[1]+""+t[1]),g:D(t[2]+""+t[2]),b:D(t[3]+""+t[3]),a:F(t[4]+""+t[4]),format:n?"name":"hex8"}:!!(t=V.hex3.exec(e))&&{r:D(t[1]+""+t[1]),g:D(t[2]+""+t[2]),b:D(t[3]+""+t[3]),format:n?"name":"hex"}}(e)),"object"==typeof e&&(H(e.r)&&H(e.g)&&H(e.b)?(t=e.r,n=e.g,r=e.b,c={r:255*N(t,255),g:255*N(n,255),b:255*N(r,255)},d=!0,g="%"===String(e.r).substr(-1)?"prgb":"rgb"):H(e.h)&&H(e.s)&&H(e.v)?(f=B(e.s),h=B(e.v),c=function(e,t,n){e=6*N(e,360),t=N(t,100),n=N(n,100);var r=o.floor(e),i=e-r,a=n*(1-t),c=n*(1-i*t),s=n*(1-(1-i)*t),u=r%6;return{r:255*[n,c,a,a,s,n][u],g:255*[s,n,n,c,a,a][u],b:255*[a,a,s,n,n,c][u]}}(e.h,f,h),d=!0,g="hsv"):H(e.h)&&H(e.s)&&H(e.l)&&(f=B(e.s),p=B(e.l),c=function(e,t,n){var r,o,i;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=N(e,360),t=N(t,100),n=N(n,100),0===t)r=o=i=n;else{var c=n<.5?n*(1+t):n+t-n*t,s=2*n-c;r=a(s,c,e+1/3),o=a(s,c,e),i=a(s,c,e-1/3)}return{r:255*r,g:255*o,b:255*i}}(e.h,f,p),d=!0,g="hsl"),e.hasOwnProperty("a")&&(s=e.a)),s=T(s),{ok:d,format:e.format||g,r:u(255,l(c.r,0)),g:u(255,l(c.g,0)),b:u(255,l(c.b,0)),a:s}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=s(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=s(this._r)),this._g<1&&(this._g=s(this._g)),this._b<1&&(this._b=s(this._b)),this._ok=n.ok,this._tc_id=c++}function p(e,t,n){e=N(e,255),t=N(t,255),n=N(n,255);var r,o,i=l(e,t,n),a=u(e,t,n),c=(i+a)/2;if(i==a)r=o=0;else{var s=i-a;switch(o=c>.5?s/(2-i-a):s/(i+a),i){case e:r=(t-n)/s+(t<n?6:0);break;case t:r=(n-e)/s+2;break;case n:r=(e-t)/s+4}r/=6}return{h:r,s:o,l:c}}function d(e,t,n){e=N(e,255),t=N(t,255),n=N(n,255);var r,o,i=l(e,t,n),a=u(e,t,n),c=i,s=i-a;if(o=0===i?0:s/i,i==a)r=0;else{switch(i){case e:r=(t-n)/s+(t<n?6:0);break;case t:r=(n-e)/s+2;break;case n:r=(e-t)/s+4}r/=6}return{h:r,s:o,v:c}}function g(e,t,n,r){var o=[L(s(e).toString(16)),L(s(t).toString(16)),L(s(n).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function v(e,t,n,r){return[L(R(r)),L(s(e).toString(16)),L(s(t).toString(16)),L(s(n).toString(16))].join("")}function m(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.s-=t/100,n.s=I(n.s),h(n)}function y(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.s+=t/100,n.s=I(n.s),h(n)}function b(e){return h(e).desaturate(100)}function x(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.l+=t/100,n.l=I(n.l),h(n)}function w(e,t){t=0===t?0:t||10;var n=h(e).toRgb();return n.r=l(0,u(255,n.r-s(-t/100*255))),n.g=l(0,u(255,n.g-s(-t/100*255))),n.b=l(0,u(255,n.b-s(-t/100*255))),h(n)}function O(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.l-=t/100,n.l=I(n.l),h(n)}function S(e,t){var n=h(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,h(n)}function E(e){var t=h(e).toHsl();return t.h=(t.h+180)%360,h(t)}function _(e){var t=h(e).toHsl(),n=t.h;return[h(e),h({h:(n+120)%360,s:t.s,l:t.l}),h({h:(n+240)%360,s:t.s,l:t.l})]}function P(e){var t=h(e).toHsl(),n=t.h;return[h(e),h({h:(n+90)%360,s:t.s,l:t.l}),h({h:(n+180)%360,s:t.s,l:t.l}),h({h:(n+270)%360,s:t.s,l:t.l})]}function C(e){var t=h(e).toHsl(),n=t.h;return[h(e),h({h:(n+72)%360,s:t.s,l:t.l}),h({h:(n+216)%360,s:t.s,l:t.l})]}function M(e,t,n){t=t||6,n=n||30;var r=h(e).toHsl(),o=360/n,i=[h(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(h(r));return i}function k(e,t){t=t||6;for(var n=h(e).toHsv(),r=n.h,o=n.s,i=n.v,a=[],c=1/t;t--;)a.push(h({h:r,s:o,v:i})),i=(i+c)%1;return a}h.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:o.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:o.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:o.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=T(e),this._roundA=s(100*this._a)/100,this},toHsv:function(){var e=d(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=d(this._r,this._g,this._b),t=s(360*e.h),n=s(100*e.s),r=s(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=p(this._r,this._g,this._b),t=s(360*e.h),n=s(100*e.s),r=s(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return g(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,o){var i=[L(s(e).toString(16)),L(s(t).toString(16)),L(s(n).toString(16)),L(R(r))];return o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:s(this._r),g:s(this._g),b:s(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+s(this._r)+", "+s(this._g)+", "+s(this._b)+")":"rgba("+s(this._r)+", "+s(this._g)+", "+s(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:s(100*N(this._r,255))+"%",g:s(100*N(this._g,255))+"%",b:s(100*N(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+s(100*N(this._r,255))+"%, "+s(100*N(this._g,255))+"%, "+s(100*N(this._b,255))+"%)":"rgba("+s(100*N(this._r,255))+"%, "+s(100*N(this._g,255))+"%, "+s(100*N(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(j[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+v(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=h(e);n="#"+v(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return h(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(x,arguments)},brighten:function(){return this._applyModification(w,arguments)},darken:function(){return this._applyModification(O,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(S,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(M,arguments)},complement:function(){return this._applyCombination(E,arguments)},monochromatic:function(){return this._applyCombination(k,arguments)},splitcomplement:function(){return this._applyCombination(C,arguments)},triad:function(){return this._applyCombination(_,arguments)},tetrad:function(){return this._applyCombination(P,arguments)}},h.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:B(e[r]));e=n}return h(e,t)},h.equals=function(e,t){return!(!e||!t)&&h(e).toRgbString()==h(t).toRgbString()},h.random=function(){return h.fromRatio({r:f(),g:f(),b:f()})},h.mix=function(e,t,n){n=0===n?0:n||50;var r=h(e).toRgb(),o=h(t).toRgb(),i=n/100;return h({r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a})},h.readability=function(e,t){var n=h(e),r=h(t);return(o.max(n.getLuminance(),r.getLuminance())+.05)/(o.min(n.getLuminance(),r.getLuminance())+.05)},h.isReadable=function(e,t,n){var r,o,i=h.readability(e,t);switch(o=!1,(r=function(e){var t,n;return t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7}return o},h.mostReadable=function(e,t,n){var r,o,i,a,c=null,s=0;o=(n=n||{}).includeFallbackColors,i=n.level,a=n.size;for(var u=0;u<t.length;u++)(r=h.readability(e,t[u]))>s&&(s=r,c=h(t[u]));return h.isReadable(e,c,{level:i,size:a})||!o?c:(n.includeFallbackColors=!1,h.mostReadable(e,["#fff","#000"],n))};var A=h.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},j=h.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(A);function T(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function N(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=u(t,l(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),o.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function I(e){return u(1,l(0,e))}function D(e){return parseInt(e,16)}function L(e){return 1==e.length?"0"+e:""+e}function B(e){return e<=1&&(e=100*e+"%"),e}function R(e){return o.round(255*parseFloat(e)).toString(16)}function F(e){return D(e)/255}var Y,X,G,V=(X="[\\s|\\(]+("+(Y="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+Y+")[,|\\s]+("+Y+")\\s*\\)?",G="[\\s|\\(]+("+Y+")[,|\\s]+("+Y+")[,|\\s]+("+Y+")[,|\\s]+("+Y+")\\s*\\)?",{CSS_UNIT:new RegExp(Y),rgb:new RegExp("rgb"+X),rgba:new RegExp("rgba"+G),hsl:new RegExp("hsl"+X),hsla:new RegExp("hsla"+G),hsv:new RegExp("hsv"+X),hsva:new RegExp("hsva"+G),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function H(e){return!!V.CSS_UNIT.exec(e)}e.exports?e.exports=h:void 0===(r=function(){return h}.call(t,n,t,e))||(e.exports=r)}(Math)},function(e,t,n){var r=n(18);function o(e){var t=e.getCurrentPage();this.matrixCache=t.getMatrix().slice(0),this._zoom(e),t.updateStatus()}function i(e){e.getCurrentPage().updateMatrix(this.matrixCache)}r.registerCommand("zoomTo",{_zoom:function(e){e.getCurrentPage().zoom(Number(this.zoom))},queue:!1,execute:o,back:i}),r.registerCommand("zoomIn",{enable:function(e){var t=e.getCurrentPage(),n=t.getMaxZoom(),r=t.getMinZoom(),o=t.getZoom();return o<n||o===r},_zoom:function(e){var t=e.getCurrentPage(),n=e.get("_command"),r=t.getZoom(),o=t.getMaxZoom(),i=r+n.zoomDelta;i>=o&&(i=o),t.zoom(i)},queue:!1,execute:o,back:i,shortcutCodes:[["metaKey","="],["ctrlKey","="]]}),r.registerCommand("zoomOut",{enable:function(e){var t=e.getCurrentPage(),n=t.getMaxZoom(),r=t.getMinZoom(),o=t.getZoom();return o>r||o===n},_zoom:function(e){var t=e.getCurrentPage(),n=t.getZoom(),r=t.getMinZoom(),o=n-e.get("_command").zoomDelta;o<=r&&(o=r),t.zoom(o)},queue:!1,execute:o,back:i,shortcutCodes:[["metaKey","-"],["ctrlKey","-"]]}),r.registerCommand("autoZoom",{enable:function(){return!0},_zoom:function(e){e.getCurrentPage().autoZoom()},queue:!1,execute:o,back:i}),r.registerCommand("resetZoom",{enable:function(){return!0},_zoom:function(e){e.getCurrentPage().resetZoom()},queue:!1,execute:o,back:i,shortcutCodes:[["metaKey","0"],["ctrlKey","0"]]})},function(e,t,n){var r=n(18);r.registerCommand("collapseExpand",{getItem:function(e){var t=e.getCurrentPage(),n=t.getGraph();return this.itemId?n.find(this.itemId):t.getSelected()[0]},enable:function(e){var t=this.getItem(e);return t&&!1!==t.collapseExpand&&t.getChildren().length>0},execute:function(e){var t=e.getCurrentPage(),n=t.getGraph(),r=this.getItem(e);r.getModel().collapsed?(n.update(r,{collapsed:!1}),r.getInnerEdges&&r.getInnerEdges().forEach(function(e){e.update()}),this.toCollapsed=!1):(n.update(r,{collapsed:!0}),this.toCollapsed=!0),t.clearSelected(),t.setSelected(r,!0),1===this.executeTimes&&(this.itemId=r.id)},back:function(e){var t=e.getCurrentPage(),n=t.getGraph(),r=this.getItem(e);this.toCollapsed?n.update(r,{collapsed:!1}):n.update(r,{collapsed:!0}),t.clearSelected(),t.setSelected(r,!0)},shortcutCodes:[["metaKey","/"],["ctrlKey","/"]]}),r.registerCommand("collapse",{enable:function(e){var t=this.getItem(e);return t&&!1!==t.collapseExpand&&t.getChildren().length>0&&!t.getModel().collapsed}},"collapseExpand"),r.registerCommand("expand",{enable:function(e){var t=this.getItem(e);return t&&!1!==t.collapseExpand&&t.getChildren().length>0&&t.getModel().collapsed}},"collapseExpand")},function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(4),i={INIT:"_initGraph"};i.AUGMENT={_initGraph:function(){var e=this.get("graph"),t=new(this.get("graphConstructor"))(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}({page:this},e));t.draw(),this.set("_graph",t)},changeMode:function(e){this.get("_graph").changeMode(e)},updateMatrix:function(e){this.get("_graph").updateMatrix(e)},getMode:function(){return this.get("_graph").get("mode")},getMatrix:function(){return this.get("_graph").getMatrix()},getZoom:function(){return this.get("_graph").getMatrix()[0]},getMaxZoom:function(){return this.get("_graph").get("maxZoom")},getMinZoom:function(){return this.get("_graph").get("minZoom")},getGraph:function(){return this.get("_graph")},getItems:function(){return this.get("_graph").getItems()},getNodes:function(){return this.get("_graph").getNodes()},translate:function(e,t){return this.get("_graph").translate(e,t)},getEdges:function(){return this.get("_graph").getEdges()},getGroups:function(){return this.get("_graph").getGroups()},render:function(){return this.get("_graph").render(),this},add:function(e,t){return this.get("_graph").add(e,t),this},focusPointByDom:function(e){return this.get("_graph").focusPointByDom(e),this},focusPoint:function(e){return this.get("_graph").focusPoint(e),this},find:function(e){return this.get("_graph").find(e)},focus:function(e){var t=this.get("_graph"),n=t.find(e);if(n){var r=n.getCenter();t.focusPoint(r)}return this},save:function(){return this.get("_graph").save()},read:function(e){this.get("_graph").read(e)},clear:function(){this.get("_graph").clear()},remove:function(e){return this.get("_graph").remove(e),this},update:function(e,t){return this.get("_graph").update(e,t),this},zoom:function(e,t){return this.get("_graph").zoom(e,t),this},getDomPoint:function(e){return this.get("_graph").getDomPoint(e)},getPoint:function(e){return this.get("_graph").getPoint(e)},zoomByDom:function(e,t){var n=this.get("_graph"),r=n.getPoint(e);return n.zoom(r,t),this},autoZoom:function(){return this.get("_graph").autoZoom(),this},resetZoom:function(){var e=this.get("_graph"),t=e.getWidth(),n=e.getHeight();return e.zoomByDom({x:t/2,y:n/2},1),this},css:function(e){var t=this.get("_graph").getMouseEventWrapper();o.modifyCSS(t,e)},setCapture:function(e){this.get("_graph").getRootGroup().set("capture",e)},destroy:function(){this.get("_graph").destroy()},delete:function(){var e=this.getSelected(),t=this.get("_graph");o.each(e,function(e){t.remove(e)})}},e.exports=i},function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(36),i=n(4),a={CFG:{grid:void 0},INIT:"_initGrid"};a.AUGMENT={_initGrid:function(){var e=this.get("grid"),t=this.get("_graph");if(e){var n=new o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}({page:this,graph:t},e));this.setController("grid",n)}},showGrid:function(e){var t=this.get("_graph"),n=this.getController("grid");n||(e?i.isObject(e)&&this.set("grid",e):this.set("grid",!0),this._initGrid()),(n=this.getController("grid")).show(),t.draw()},hideGrid:function(){var e=this.get("_graph"),t=this.getController("grid");t&&t.hide(),e.draw()},getGridCell:function(){return this.getController("grid").getCell()}},e.exports=a},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=n(9),u=n(14),l=n(4),f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,a(t).apply(this,arguments))}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,s),n=t,(r=[{key:"getDefaultCfg",value:function(){return{cell:16,line:u.gridStyle,type:"point",visible:!0}}},{key:"init",value:function(){this._draw(),this._onViewPortChange(),!this.visible&&this.hide()}},{key:"_onViewPortChange",value:function(){var e=this,t=this.graph;t.on("afterviewportchange",function(){e.update()}),t.on("beforechangesize",function(){e.update()})}},{key:"_draw",value:function(){var e=this.graph,t=this._getPath(),n=e.getRootGroup(),r=l.mix({},this.line),o=e.getMatrix(),i=this.type,a="line"===i?1/o[0]:2/o[0];"point"===i&&(r.lineDash=null),r.lineWidth=a,r.path=t;var c=n.addShape("path",{attrs:r,capture:!1,zIndex:0});l.toBack(c,n),this.gridEl=c}},{key:"show",value:function(){this.gridEl.show(),this.visible=!0}},{key:"hide",value:function(){this.gridEl.hide(),this.visible=!1}},{key:"_getLinePath",value:function(){for(var e=this.graph,t=e.get("width"),n=e.get("height"),r=e.getPoint({x:0,y:0}),o=e.getPoint({x:t,y:n}),i=this.cell,a=Math.ceil(r.x/i)*i,c=Math.ceil(r.y/i)*i,s=[],u=0;u<=o.x-r.x;u+=i){var l=a+u;s.push(["M",l,r.y]),s.push(["L",l,o.y])}for(var f=0;f<=o.y-r.y;f+=i){var h=c+f;s.push(["M",r.x,h]),s.push(["L",o.x,h])}return s}},{key:"_getPointPath",value:function(){for(var e=this.graph,t=e.get("width"),n=e.get("height"),r=e.getPoint({x:0,y:0}),o=2/e.getMatrix()[0],i=e.getPoint({x:t,y:n}),a=this.getCell(),c=Math.ceil(r.x/a)*a,s=Math.ceil(r.y/a)*a,u=[],l=0;l<=i.x-r.x;l+=a)for(var f=c+l,h=0;h<=i.y-r.y;h+=a){var p=s+h;u.push(["M",f,p]),u.push(["L",f+o,p])}return u}},{key:"getCell",value:function(){var e=this.cell,t=this.graph.getMatrix()[0];return e*t<9.6?9.6/t:e}},{key:"_getPath",value:function(){var e=this.type;return this["_get"+l.upperFirst(e)+"Path"]()}},{key:"update",value:function(e){l.mix(this,e);var t=this._getPath(),n=this.gridEl,r=this.graph.getMatrix(),o="line"===this.type?1/r[0]:2/r[0];n.attr("lineWidth",o),n.attr("path",t)}},{key:"destroy",value:function(){var e=this.gridEl;e&&e.remove()}}])&&o(n.prototype,r),t}();e.exports=f},function(e,t){var n={};function r(e,t,n){e.on(n,function(e){t.emit(n,e)}),e.on("node:"+n,function(e){t.emit("node:"+n,e)}),e.on("edge:"+n,function(e){t.emit("edge:"+n,e)}),e.on("group:"+n,function(e){t.emit("group:"+n,e)}),e.on("anchor:"+n,function(e){t.emit("anchor:"+n,e)})}n.INIT="_initEvent",n.AUGMENT={_initEvent:function(){var e=this,t=this.get("_graph");r(t,this,"click"),r(t,this,"dblclick"),r(t,this,"mouseenter"),r(t,this,"mouseleave"),r(t,this,"mousedown"),r(t,this,"mouseup"),r(t,this,"contextmenu"),t.on("keydown",function(t){e.emit("keydown",t)}),t.on("keyup",function(t){e.emit("keyup",t)}),t.on("beforechange",function(t){e.emit("beforechange",t)}),t.on("afterchange",function(t){e.emit("afterchange",t)}),t.on("afterviewportchange",function(t){e.emit("afterviewportchange",t),t.updateMatrix[0]!==t.originMatrix[0]&&e.emit("afterzoom",t)}),t.on("beforeviewportchange",function(t){e.emit("beforeviewportchange",t),t.updateMatrix[0]!==t.originMatrix[0]&&e.emit("beforezoom",t)})}},e.exports=n},function(e,t,n){var r=n(4),o={CFG:{selectable:!0,multiSelectable:!0,_selectedCache:{}},INIT:"_initSelected"};o.AUGMENT={_initSelected:function(){var e=this,t=this.get("_graph");t.on("afteritemdraw",function(t){var n=t.item;n.isSelected&&e.setItemSelected(n)}),t.on("beforeitemdestroy",function(t){e.clearItemSelected(t.item)})},setItemSelected:function(e){var t=this.get("_graph").getShapeObj(e).getSelectedStyle(e),n=e.getKeyShape();this.get("_selectedCache")[e.id]=e,t&&n.attr(t),e.isEdge&&(e.startArrow&&e.startArrow.attr({fill:t.stroke}),e.endArrow&&e.endArrow.attr({fill:t.stroke}))},clearItemSelected:function(e){var t=this.get("_graph"),n=e.getKeyShape(),o=t.getShapeObj(e),i=o.getStyle(e),a=o.getSelectedStyle(e),c=this.get("_selectedCache"),s=r.getContrast(i,a);n.attr(s),e.isEdge&&(e.startArrow&&e.startArrow.attr({fill:s.stroke}),e.endArrow&&e.endArrow.attr({fill:s.stroke})),delete c[e.id]},setSelected:function(e,t){var n,o=this,i=this.get("selectable"),a=this.get("_graph");i&&(n=r.isArray(e)?e:[e],r.each(n,function(e){r.isString(e)&&(e=a.find(e)),e&&!e.destroyed&&(t?(o.emit("beforeitemselected",{item:e}),o.setItemSelected(e),o.emit("afteritemselected",{item:e})):(o.emit("beforeitemunselected",{item:e}),o.clearItemSelected(e),o.emit("afteritemunselected",{item:e})),e.isSelected=t,o.updateStatus(),a.draw())}))},getSelected:function(){var e=this.get("_selectedCache");return r.objectToValues(e)},clearSelected:function(){var e=this,t=this.get("_graph"),n=this.get("_selectedCache");r.each(n,function(t){t.isSelected&&e.setSelected(t,!1)}),t.draw()}},e.exports=o},function(e,t,n){var r=n(4),o={CFG:{activeable:!0,_activedCache:{}},INIT:"_initActived"};o.AUGMENT={_initActived:function(){var e=this,t=this.get("_graph");t.on("afteritemdraw",function(t){var n=t.item;n.isActived&&e.setItemActived(n)}),t.on("beforeitemdestroy",function(t){e.clearItemActived(t.item)})},setItemActived:function(e){var t=this.get("_graph").getShapeObj(e),n=this.get("_activedCache"),r=t.getActivedStyle(e),o=e.getKeyShape();n[e.id]=e,r&&o.attr(r),e.isEdge&&(e.startArrow&&e.startArrow.attr({fill:r.stroke}),e.endArrow&&e.endArrow.attr({fill:r.stroke}))},clearItemActived:function(e){var t=this.get("_graph"),n=e.getKeyShape(),o=t.getShapeObj(e),i=o.getStyle(e),a=this.get("_activedCache"),c=o.getActivedStyle(e),s=r.getContrast(i,c);n.attr(s),e.isEdge&&(e.startArrow&&e.startArrow.attr({fill:s.stroke}),e.endArrow&&e.endArrow.attr({fill:s.stroke})),delete a[e.id]},setActived:function(e,t){var n,o=this,i=this.get("activeable"),a=this.get("_graph");i&&(n=r.isArray(e)?e:[e],r.each(n,function(e){r.isString(e)&&(e=a.find(e)),e&&!e.destroyed&&(t?(o.emit("beforeitemactived",{item:e}),o.setItemActived(e),o.emit("afteritemactived",{item:e})):(o.emit("beforeitemunactived",{item:e}),o.clearItemActived(e),o.emit("afteritemunactived",{item:e})),e.isActived=t)}),a.draw())},getActived:function(){var e=this.get("_activedCache");return r.objectToValues(e)},clearActived:function(){var e=this,t=this.get("_graph"),n=this.get("_activedCache");r.each(n,function(t){t.isActived&&e.setActived(t,!1)}),t.draw()}},e.exports=o},function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(41),i={CFG:{align:{}},INIT:"_initAlign"};i.AUGMENT={_initAlign:function(){var e=this.get("align"),t=this.get("_graph"),n=new o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}({flow:this,graph:t},e));this.setController("align",n)},align:function(e,t,n){return this.getController("align").align(e,t,n)},clearAlignLine:function(){return this.getController("align").clearAlignLine()}},e.exports=i},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=n(9),u=n(14),l=n(4);function f(e,t){return{line:e,point:t,dis:l.pointLineDistance(e[0],e[1],e[2],e[3],t.x,t.y)}}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,a(t).apply(this,arguments))}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,s),n=t,(r=[{key:"getDefaultCfg",value:function(){return{line:u.alignLineStyle,item:!0,grid:!1,tolerance:5,_horizontalLines:{},_verticalLines:{},_alignLines:[]}}},{key:"init",value:function(){this.item&&this._cacheBoxLine()}},{key:"_cacheBoxLine",value:function(){var e=this.graph,t=this._horizontalLines,n=this._verticalLines,r=this.item;e.on("afteritemdraw",function(e){var o=e.item;if(!l.isEdge(o)){var i=o.getBBox();!0===r||"horizontal"===r?(t[o.id+"tltr"]=[i.minX,i.minY,i.maxX,i.minY,o],t[o.id+"lcrc"]=[i.minX,i.centerY,i.maxX,i.centerY,o],t[o.id+"blbr"]=[i.minX,i.maxY,i.maxX,i.maxY,o]):"center"===r&&(t[o.id+"lcrc"]=[i.minX,i.centerY,i.maxX,i.centerY,o]),!0===r||"vertical"===r?(n[o.id+"tlbl"]=[i.minX,i.minY,i.minX,i.maxY,o],n[o.id+"tcbc"]=[i.centerX,i.minY,i.centerX,i.maxY,o],n[o.id+"trbr"]=[i.maxX,i.minY,i.maxX,i.maxY,o]):"center"===r&&(n[o.id+"tcbc"]=[i.centerX,i.minY,i.centerX,i.maxY,o])}}),e.on("beforeitemdestroy",function(e){var r=e.item;delete t[r.id+"tltr"],delete t[r.id+"lcrc"],delete t[r.id+"blbr"],delete n[r.id+"tlbl"],delete n[r.id+"tcbc"],delete n[r.id+"trbr"]})}},{key:"align",value:function(e,t){var n=l.mix({},e),r=this.flow.getController("grid");return this.grid&&r&&r.visible&&this._gridAlign(e,t),this.item&&this._itemAlign(e,t,n),e}},{key:"_gridAlign",value:function(e,t){var n=this.flow,r=this.grid,o=n.getGridCell();if("cc"===r){var i=Math.round((e.x+t.width/2)/o)*o,a=Math.round((e.y+t.height/2)/o)*o;e.x=i-t.width/2,e.y=a-t.height/2}else e.x=Math.round(e.x/o)*o,e.y=Math.round(e.y/o)*o}},{key:"_itemAlign",value:function(e,t,n){var r=this._horizontalLines,o=this._verticalLines,i=this.tolerance,a={x:n.x+t.width/2,y:n.y},c={x:n.x+t.width/2,y:n.y+t.height/2},s={x:n.x+t.width/2,y:n.y+t.height},u={x:n.x,y:n.y+t.height/2},h={x:n.x+t.width,y:n.y+t.height/2},p=[],d=[],g=null;if(this.clearAlignLine(),l.each(r,function(e){e[4].isVisible()&&(p.push(f(e,a)),p.push(f(e,c)),p.push(f(e,s)))}),l.each(o,function(e){e[4].isVisible()&&(d.push(f(e,u)),d.push(f(e,c)),d.push(f(e,h)))}),p.sort(function(e,t){return e.dis-t.dis}),d.sort(function(e,t){return e.dis-t.dis}),0!==p.length&&p[0].dis<i){e.y=p[0].line[1]-p[0].point.y+n.y,g={type:"item",horizontals:[p[0]]};for(var v=1;v<3;v++)p[0].dis===p[v].dis&&g.horizontals.push(p[v])}if(0!==d.length&&d[0].dis<i){e.x=d[0].line[0]-d[0].point.x+n.x,g?g.verticals=[d[0]]:g={type:"item",verticals:[d[0]]};for(var m=1;m<3;m++)d[0].dis===d[m].dis&&g.verticals.push(d[m])}g&&(g.bbox=t,this._addAlignLine(g))}},{key:"clearAlignLine",value:function(){var e=this._alignLines;l.each(e,function(e){e.remove()}),this._alignLines=[]}},{key:"_addAlignLine",value:function(e){var t=e.bbox,n=this.graph.getRootGroup(),r=this.line,o=this._alignLines;"item"===e.type&&(e.horizontals&&l.each(e.horizontals,function(e){var i,a,c=e.line,s=e.point,u=(c[0]+c[2])/2;s.x<u?(i=s.x-t.width/2,a=Math.max(c[0],c[2])):(i=s.x+t.width/2,a=Math.min(c[0],c[2]));var f=n.addShape("line",{attrs:l.mix({x1:i,y1:c[1],x2:a,y2:c[1]},r),capture:!1});o.push(f)}),e.verticals&&l.each(e.verticals,function(e){var i,a,c=e.line,s=e.point,u=(c[1]+c[3])/2;s.y<u?(i=s.y-t.height/2,a=Math.max(c[1],c[3])):(i=s.y+t.height/2,a=Math.min(c[1],c[3]));var f=n.addShape("line",{attrs:l.mix({x1:c[0],y1:i,x2:c[0],y2:a},r),capture:!1});o.push(f)}))}}])&&o(n.prototype,r),t}();e.exports=h},function(e,t,n){var r=n(4),o={CFG:{labelEditable:!1},INIT:"_initLabelEditor"};o.AUGMENT={_initLabelEditor:function(){var e=this;if(this.get("labelEditable")){var t=this.getGraph(),n=r.createDOM('<div contenteditable="true" role="textbox" tabindex="1" class="g6-label-editor"></div>',{position:"absolute",visibility:"hidden","z-index":"2",padding:"0px 2px 0px 0px",resize:"none",width:"auto",height:"auto",outline:"none",border:"1px solid #1890FF","transform-origin":"left top","max-width":"320px",background:"white","box-sizing":"content-box"});t.getGraphContainer().appendChild(n),n.on("blur",function(n){n.stopPropagation(),!t.destroyed&&e.endEditLabel()}),n.on("keydown",function(t){t.stopPropagation();var n=r.getKeyboradKey(t);(t.metaKey&&"s"===n||t.ctrlKey&&"s"===n)&&t.preventDefault(),"Enter"!==n&&"Escape"!==n||e.endEditLabel()}),this.set("labelTextArea",n),t.on("beforeviewportchange",function(){n.focusItem&&e.setLabelEditorBeginPosition(n.focusItem)})}},_getLabelTextAreaBox:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0];t&&e.attr("text",t);var o=this.getGraph().getRootGroup(),i=r.getBBox(e,o);return{minX:i.minX-n[1],minY:i.minY-n[0],maxX:i.maxX+n[1],maxY:i.maxY+n[0]}},setLabelEditorBeginPosition:function(e){var t=this.get("labelTextArea"),n=e.getLabel();if(n){var o=this._getLabelTextAreaBox(n),i=n.attr("lineHeight"),a=n.attr("fontSize"),c={x:o.minX,y:o.minY-i/4+a/4-1,width:o.maxX-o.minX,height:o.maxY-o.minY};t.css({top:c.y+"px",left:c.x+"px"}),t.labelPoint=c}else{var s=this.getGraph().getRootGroup(),u=e.getKeyShape(),l=r.getBBox(u,s),f={x:l.minY+(l.maxY-l.minY-t.height())/2,y:(l.minX+l.maxX)/2};t.css({top:f.x+"px",left:f.y+"px"}),t.labelPoint=f}},beginEditLabel:function(e){var t=this.get("labelTextArea"),n=this.getGraph();if(r.isString(e)&&(e=n.find(e)),e&&!e.destroyed&&t){this.setSignal("preventWheelPan",!0);var o=e.getModel(),i=e.getLabel(),a=n.getZoom();if(t.focusItem=e,i){var c=i.attr("lineHeight"),s=this._getLabelTextAreaBox(i),u=(s.maxX-s.minX)/a,l=(s.maxY-s.minY+c/4)/a;t.innerHTML=o.label,t.innerHTML=o.label,t.css({"min-width":u+"px","min-height":l+"px",visibility:"visible","font-family":i.attr("fontFamily"),"line-height":c+"px","font-size":i.attr("fontSize")+"px",transform:"scale("+a+")"})}else t.innerHTML="",t.css({"min-width":"auto","min-height":"auto"});this.setLabelEditorBeginPosition(e),t.css({visibility:"visible"}),t.focus(),document.execCommand("selectAll",!1,null)}},endEditLabel:function(){var e=this.get("labelTextArea");if(this.setSignal("preventWheelPan",!1),e){var t=e.focusItem;if(t){var n=t.getModel(),r=this.editor;n.label!==e.textContent&&r.executeCommand("update",{action:"updateLabel",itemId:t.id,updateModel:{label:e.textContent}}),e.hide(),e.focusItem=void 0,this.focusGraphWrapper()}}}},e.exports=o},function(e,t){e.exports={AUGMENT:{updateStatus:function(){var e,t=this.getSelected();0===t.length?e="canvas-selected":1===t.length?t[0].isNode?e="node-selected":t[0].isEdge?e="edge-selected":t[0].isGroup&&(e="group-selected"):e="multi-selected",this.emit("statuschange",{status:e})}}}},function(e,t,n){n(45),n(46),n(47),n(48),n(49),n(50),n(51),n(52),n(53),n(54),n(55),n(56),n(57),n(58),n(59),n(60),n(61),n(62)},function(e,t,n){var r=n(3),o=n(4);r.registerBehaviour("panBlank",o.getPanCanvasBehaviour(!0))},function(e,t,n){n(3).registerBehaviour("hoverButton",function(e){e.getGraph().behaviourOn("mouseenter",function(t){e.getSignal("panningItem")||t.shape&&t.shape.isButton&&e.css({cursor:"pointer"})})})},function(e,t,n){var r=n(3),o=n(4);r.registerBehaviour("panCanvas",o.getPanCanvasBehaviour())},function(e,t,n){var r=n(3),o=n(14),i=n(4);r.registerBehaviour("wheelChangeViewport",function(e){var t,n=e.getGraph();n.behaviourOn("wheel",function(e){e.domEvent.preventDefault()}),n.behaviourOn("wheel",i.throttle(function(r){if(!e.getSignal("preventWheelPan")){var a=r.domEvent,c=e.getSignal("wheelZoom");if(t||e.setCapture(!1),c){var s=a.wheelDelta;if(Math.abs(s)>10){var u=n.getMatrix()[0];s>0?n.zoom({x:r.x,y:r.y},1.05*u):n.zoom({x:r.x,y:r.y},u*(1/1.05))}}else{var l=[],f=n.getMatrix();i.mat3.translate(l,f,[a.wheelDeltaX*o.wheelPanRatio,a.wheelDeltaY*o.wheelPanRatio]),e.translateLimt(l)&&n.updateMatrix(l)}t&&clearTimeout(t),t=setTimeout(function(){e.setCapture(!0),t=void 0},50)}},16))})},function(e,t,n){n(3).registerBehaviour("processPanItem",function(e){var t=e.getGraph();t.behaviourOn("mousemove",function(n){var r=e.get("panItemDelegation");if(r){var o=e.get("panItemStartPoint"),i=e.get("panItemStartBox"),a=n.x-o.x,c=n.y-o.y,s=e.align({x:i.minX+a,y:i.minY+c},{width:i.width,height:i.height});r.attr({x:s.x,y:s.y}),t.emit("itempanning",n),t.draw()}})})},function(e,t,n){n(3).registerBehaviour("startPanItem",function(e){var t=e.getGraph(),n=t.getRootGroup();t.behaviourOn("dragstart",function(r){if(2!==r.button&&r.item&&(r.item.isNode||r.item.isGroup)){var o,i=r.item;if((o=(o=i.isSelected?e.getSelected():[i]).filter(function(e){return e.isNode||e.isGroup}))[0]&&!1!==o[0].dragable){t.emit("beforepanitem",{items:o}),t.emit("beforeshowdelegation",{items:o});var a=e.getDelegation(o,n),c=a.getBBox();e.setSignal("panningItem",!0),e.set("panItems",o),e.set("panItemDelegation",a),e.set("panItemStartBox",c),e.set("panItemStartPoint",{x:r.x,y:r.y}),t.draw()}}})})},function(e,t,n){n(3).registerBehaviour("endPanItem",function(e){var t=e.getGraph();t.behaviourOn("panitemend",function(){var n=e.get("panItemDelegation");n&&(n.remove(),t.draw()),e.setSignal("panningItem",!1),e.set("panItemDelegation",void 0),e.set("panItemStartPoint",void 0),e.set("panItemStartBox",void 0),e.set("panItems",void 0)}),t.behaviourOn("canvas:mouseleave",function(){e.get("panItems")&&(e.clearAlignLine(),t.emit("panitemend"))})})},function(e,t,n){n(3).registerBehaviour("dblclickItemEditLabel",function(e){e.getGraph().behaviourOn("node:dblclick",function(t){t.shape&&!t.shape.isButton&&e.beginEditLabel(t.item)})})},function(e,t,n){n(3).registerBehaviour("clickCanvasSelected",function(e){var t=e.getGraph();t.behaviourOn("click",function(t){t.shape||(e.clearSelected(),e.clearActived(),e.updateStatus())}),t.behaviourOn("contextmenu",function(t){t.shape||(e.clearSelected(),e.clearActived(),e.updateStatus())})})},function(e,t,n){n(3).registerBehaviour("clickCollapsedButton",function(e){var t=e.getGraph();t.behaviourOn("click",function(n){var r=n.item,o=n.shape;if(r&&o&&o.isCollapsedButton){var i=e.editor;i?i.executeCommand("collapseExpand",{itemId:r.id}):t.update(r,{collapsed:!0})}})})},function(e,t,n){n(3).registerBehaviour("clickEdgeSelected",function(e){e.getGraph().behaviourOn("edge:click",function(t){e.get("multiSelectable")&&!0===e.getSignal("shiftKeyDown")?e.setSelected(t.item.id,!0):(e.clearActived(),e.clearSelected(),e.setSelected(t.item.id,!0))})})},function(e,t,n){n(3).registerBehaviour("clickExpandedButton",function(e){var t=e.getGraph();t.behaviourOn("click",function(n){var r=n.item,o=n.shape;if(r&&o&&o.isExpandedButton){var i=e.editor;i?i.executeCommand("collapseExpand",{itemId:r.id}):t.update(r,{collapsed:!1})}})})},function(e,t,n){n(3).registerBehaviour("clickGroupSelected",function(e){e.getGraph().behaviourOn("group:click",function(t){e.get("multiSelectable")&&!0===e.getSignal("shiftKeyDown")?e.setSelected(t.item.id,!0):(e.clearActived(),e.clearSelected(),e.setSelected(t.item.id,!0))})})},function(e,t,n){n(3).registerBehaviour("clickNodeSelected",function(e){e.getGraph().behaviourOn("node:click",function(t){e.get("multiSelectable")&&!0===e.getSignal("shiftKeyDown")?e.setSelected(t.item.id,!0):(e.clearActived(),e.clearSelected(),e.setSelected(t.item.id,!0))})})},function(e,t,n){n(3).registerBehaviour("hoverNodeActived",function(e){var t,n=e.getGraph();n.behaviourOn("node:mouseenter",function(n){!1!==n.item.getShapeObj().panAble&&e.css({cursor:"move"}),e.getSignal("panningItem")||e.getSignal("dragEdge")||n.item&&n.item.isSelected||(t=n.item,e.setActived(t,!0))}),n.behaviourOn("node:mouseleave",function(n){var r=n.toShape;t&&(r&&r.isAnchor&&r.getItem()===t||e.getSignal("dragEdge")||(t.isSelected||e.setActived(t,!1),t=void 0))})})},function(e,t,n){n(3).registerBehaviour("hoverGroupActived",function(e){var t=e.getGraph();t.behaviourOn("mouseenter",function(t){e.getSignal("panningItem")||t.item&&t.item.isSelected||e.getSignal("dragEdge")||t.shape&&t.shape.isGroupKeyShape&&(e.css({cursor:"move"}),e.setActived(t.item,!0))}),t.behaviourOn("group:mouseleave",function(t){t.item.isActived&&!t.item.isSelected&&e.setActived(t.item,!1)})})},function(e,t,n){n(3).registerBehaviour("hoverEdgeActived",function(e){var t=e.getGraph();t.behaviourOn("edge:mouseenter",function(t){e.getSignal("panningItem")||t.item&&t.item.isSelected||e.getSignal("dragEdge")||e.setActived(t.item,!0)}),t.behaviourOn("edge:mouseleave",function(t){e.setActived(t.item,!1)})})},function(e,t,n){n(3).registerBehaviour("keydownCmdWheelZoom",function(e){var t=e.getGraph();t.behaviourOn("keydown",function(t){91===t.domEvent.keyCode&&e.setSignal("wheelZoom",!0)}),t.behaviourOn("keyup",function(t){91===t.domEvent.keyCode&&e.setSignal("wheelZoom",!1)})})},function(e,t,n){var r=n(22);e.exports={dragingEdgeEndPoint:function(e){var t=e.endPointType,n=e.edgeModel,r=e.graph,o=e.delegation,i=e.startPoint,a=e.ev,c=e.source,s=e.target,u=a.item,l="source"===t?[a,i]:[i,a];u&&("source"===t?s=u:c=u);var f=r.getShapeObj("edge",n).getPathByPoints({points:l,source:c,target:s});o.attr("path",f),r.draw()},panGroup:function(e,t,n,o){var i=e.getModel();r.traverseTree(e,function(r){if("node"===r.type){var i=r.getModel();o.update(r,{x:i.x+t,y:i.y+n})}e.getCrossEdges&&e.getCrossEdges().forEach(function(e){e.update()})},function(e){return"group"===e.type?e.getChildren():[]}),o.update(e,{x:i.x+t,y:i.y+n})},dropUpdateEdge:function(e){var t=e.ev,n=e.endPointType,r=e.model,o=e.diagram,i=o.get("noEndEdge"),a=o.get("linkAnchor"),c=o.get("linkNode"),s=t.item,u=t.shape,l=t.x,f=t.y;if(o.getGraph().emit("beforedropedge"),u){if(a&&u.isAnchor&&u.hasHotspot){var h=u,p=h.getItem();return"target"===n?(r.target=p.id,r.targetAnchor=h.getIndex(),!0):(r.source=p.id,r.sourceAnchor=h.getIndex(),!0)}if(c&&s&&s.isNode)return"target"===n?(r.target=s.id,!0):(r.source=s.id,!0)}else if(i)return"target"===n?(r.target={x:l,y:f},!0):(r.source={x:l,y:f},!0);return!1}}},function(e,t){e.exports={rectRectCrossAlgorithm:function(e,t){var n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),o=Math.min(e.maxX,t.maxX),i=Math.min(e.maxY,t.maxY);return n>o||r>i},euclideanDistance:{pointPoint:function(e,t){var n=Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2);return Math.sqrt(n)}}}},function(e,t,n){var r={},o=n(2);r.AUGMENT={changeAddEdgeModel:function(e){this.set("addEdgeModel",e)},cancelAdd:function(){this.set("addType",void 0),this.set("addModel",void 0),this.changeMode("default")},beginAdd:function(e,t){this.set("addType",e),this.set("addModel",t),this.changeMode("add")},endAdd:function(){this.set("addType",void 0),this.set("addModel",void 0),this.changeMode("default")},delete:function(){var e=this.getSelected(),t=this.get("_graph");o.each(e,function(e){t.remove(e)})},toBack:function(){var e=this.getSelected(),t=this.get("_graph");e.sort(function(e,t){var n=e.getGraphicGroup(),r=t.getGraphicGroup();return o.getIndex(r)-o.getIndex(n)}),e.forEach(function(e){t.toBack(e)})},toFront:function(){var e=this.getSelected(),t=this.get("_graph");e.sort(function(e,t){var n=e.getGraphicGroup(),r=t.getGraphicGroup();return o.getIndex(n)-o.getIndex(r)}),e.forEach(function(e){t.toFront(e)})},addGroup:function(e){var t,n=this.get("_graph"),r=this.getSelected(),i=!0;if(0!==r.length){e||(e={label:"\u65b0\u5efa\u5206\u7ec4"}),o.setId(e),n.add("group",e),n.toFront(e.id);var a=n.find(e.id);if(r.forEach(function(e){var n=e.getParent();n&&(t?t!==n&&(i=!1):t=n)}),i){t&&(e.parent=t.getModel().id),r.forEach(function(t){n.update(t,{parent:e.id})});var c=a.getInnerEdges();a.deepEach(function(e){n.toFront(e)}),c.forEach(function(e){n.toFront(e)})}else console.warn("add group elements must have the same parent")}},unGroup:function(){var e=this.get("_graph"),t=this.getSelected(),n=t[0];1===t.length&&o.isGroup(n)&&(n.getChildren().forEach(function(t){e.update(t,{parent:void 0}),t.collapsedParent||t.show(),t.isGroup&&t.deepEach(function(e){e.collapsedParent||e.show()})}),e.remove(n))},newGroup:function(e){this.addGroup(e)}},e.exports=r},function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(67),i=n(2),a={CFG:{anchor:{}},INIT:"_initAnchor"};a.AUGMENT={_initAnchor:function(){var e=this.get("anchor"),t=this.get("_graph");if(e){var n=new o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}({diagram:this,graph:t},e));this.setController("anchor",n)}},showAnchor:function(e,t,n){this.getController("anchor").showAnchor(e,t,n)},clearAnchor:function(e){this.getController("anchor").clearAnchor(e)},setHotspotActived:function(e,t){this.getController("anchor").setHotspotActived(e,t)},hoverShowAnchor:function(e){var t=this,n=e.getAnchorPoints(),r=[];n.forEach(function(n,o){var i={anchor:n,item:e};t.emit("hovernode:beforeshowanchor",i),i.cancel||r.push(o)}),this.showAnchor(e,r)},anchorHasBeenLinked:function(e,t){var n=e.getEdges(),r=[];return n.forEach(function(t){var n=t.getModel();n.source!==e.id||i.isNil(n.sourceAnchor)||r.push(n.sourceAnchor),n.target!==e.id||i.isNil(n.targetAnchor)||r.push(n.targetAnchor)}),i.isObject(t)?-1!==r.indexOf(t.index):-1!==r.indexOf(t)},dragEdgeBeforeShowAnchor:function(e,t,n){var r=this;this.getGraph().getNodes().forEach(function(o){var i,a=[],c=o.getAnchorPoints();if(e.isNode){var s=e.getAnchorPoints();c.forEach(function(c,u){i="target"===n?{source:e,sourceAnchor:s[t],target:o,targetAnchor:c,dragEndPointType:n}:{target:e,targetAnchor:s[t],source:o,sourceAnchor:c,dragEndPointType:n},r.emit("dragedge:beforeshowanchor",i),i.cancel||a.push(u)})}else c.forEach(function(e,t){a.push(t)});o===e&&o.isAnchorShow?a.forEach(function(e){var n=o.getAnchor(e);t!==e&&n&&n.showHotspot()}):r.showAnchor(o,a,!0)})}},e.exports=a},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=n(9),f=n(5),h=n(2),p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,s(t).apply(this,arguments))}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,l),n=t,(r=[{key:"getDefaultCfg",value:function(){return{_anchorItemCache:{}}}},{key:"init",value:function(){var e=this,t=this.graph;t.on("afteritemdraw",function(t){t.item.isAnchorShow&&e.showAnchor(t.item)}),t.on("beforeitemdestroy",function(t){e._clearAnchor(t.item)}),t.on("afteritemhide",function(t){t.item.isNode&&e._clearAnchor(t.item)})}},{key:"_updateAnchor",value:function(e){var t=this.graph;e.anchorShapes.forEach(function(e){e.updatePosition()}),t.draw()}},{key:"_drawAnchor",value:function(e,t,n,r){var i=e.getAnchorPoints();this._clearAnchor(e),h.each(i,function(i,a){if(!n||-1!==n.indexOf(a)){var c,s=t.addShape("marker",{attrs:o({symbol:"circle"},f.anchorPointStyle,{x:i.x,y:i.y}),freezePoint:i,item:e,index:a,eventPreFix:"anchor",isItemChange:function(){},zIndex:f.zIndex.anchorPoint});s.toFront(),s.eventPreFix="anchor",s.showHotspot=function(){c=t.addShape("marker",{attrs:o({symbol:"circle"},f.anchorHotsoptStyle,{x:i.x,y:i.y}),freezePoint:i,capture:!1,zIndex:f.zIndex.anchorHotsopt}),e.anchorShapes.push(c),s.hasHotspot=!0,c.toFront(),s.toFront()},s.getIndex=function(){return a},s.getItem=function(){return e},s.getPoint=function(){return i},s.updatePosition=function(){var t=e.getAnchorPoints()[a];s.attr(t)},s.setActived=function(){s.attr(f.anchorPointHoverStyle)},s.clearActived=function(){s.attr(f.anchorPointStyle)},s.isAnchor=!0,s.setHotspotActived=function(e){c&&(e?c.attr(f.anchorHotsoptActivedStyle):c.attr(f.anchorHotsoptStyle))},r&&s.showHotspot(),e.anchorShapes.push(s),e.getAllAnchors=function(){return e.anchorShapes.filter(function(e){return e.isAnchor})},e.getAnchor=function(t){return e.anchorShapes.find(function(e){return e.get("index")===t})}}})}},{key:"_clearAnchor",value:function(e){e.anchorShapes&&e.anchorShapes.forEach(function(e){e.remove()}),e.anchorShapes=[]}},{key:"setHotspotActived",value:function(e,t){var n=this.diagram.getGraph();e.setHotspotActived(t),n.draw()}},{key:"showAnchor",value:function(e,t,n){if(e.isVisible()){var r=this.graph,o=this._anchorItemCache,i=r.getRootGroup();this._drawAnchor(e,i,t,n),e.isAnchorShow=!0,o[e.id]=e}}},{key:"clearAnchor",value:function(e){var t=this,n=this.graph,r=n.get("itemCache"),o=this._anchorItemCache,i=e;i=h.isObject(e)?[e]:h.isString(e)?[r[e]]:o,h.each(i,function(e){t._clearAnchor(e),e.isAnchorShow=!1,delete o[e.id]}),n.draw()}}])&&a(n.prototype,r),t}();e.exports=p},function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(69),i={CFG:{orbit:null},INIT:"_initOrbit"};i.AUGMENT={_initOrbit:function(){var e=this.get("orbit");if(e){var t=new o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}({diagram:this},e));this.setController("orbit",t)}},showOrbit:function(e){this.getController("orbit").show(e)},hideOrbit:function(){this.getController("orbit").hide()},layoutOrbit:function(e,t){this.getController("orbit").layout(e,t)}},e.exports=i},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=n(9),l=n(5),f=n(70),h=n(2),p=h.vec2,d=h.isString,g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,c(t).apply(this,arguments))}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,u),n=t,(r=[{key:"getDefaultCfg",value:function(){return{satellite:[],satelliteCache:[]}}},{key:"init",value:function(){var e=this,t=this.satellite,n=this.diagram,r={diagram:n};n.getGraph().addBehaviour("orbit"),t.forEach(function(t){d(t)?e.satelliteCache.push(new f[t](r)):e.satelliteCache.push(new f(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}({},r,t)))})}},{key:"layout",value:function(e,t){var n=this.diagram,r=n.getGraph(),o=this.satelliteCache,i=e.getBBox(),a=i.centerX,c=i.centerY,s=n.getZoom(),u=l.orbitGap/s,f=o.filter(function(e){return e.isVisible()}),h=[t.x-a,t.y-c],d=p.length(h),g=i.width/2+u,v=p.scale([],h,g/d);f.forEach(function(e){var t=e.getDOM(),n=t.width()/2,o=r.getDomPoint({x:v[0]+a,y:v[1]+c});t.css({top:o.y-n+"px",left:o.x-n+"px"})})}},{key:"show",value:function(e){this.satelliteCache.forEach(function(t){t.enable()&&(t.item=e,t.show())})}},{key:"hide",value:function(){this.satelliteCache.forEach(function(e){e.hide()})}}])&&i(n.prototype,r),t}();e.exports=g},function(e,t,n){var r=n(23);r.forkAndLink=n(71),e.exports=r},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=n(23),l=n(2),f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,c(t).apply(this,arguments))}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,u),n=t,(r=[{key:"getDefaultCfg",value:function(){return{name:"forkAndLink",render:function(){return'\n          <div style="\n            width: 11px;\n            height: 11px;\n            cursor: copy;\n            background-image: url(https://gw.alipayobjects.com/zos/rmsportal/yWAiQOmucbYMCpwkvTBP.svg)\n          "></div>\n        '},bindEvent:function(e,t){var n=this,r=t.getGraph(),i=r.getRootGroup();return e.setAttribute("draggable","true"),[l.addEventListener(e,"dragstart",function(){var r=n.item,a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}({},t.get("addEdgeModel"),{source:r.id}),c=r.getBBox(),s=t.getDelegation([{isEdge:!0}],i);t.setSignal("dragEdge",!0),t.beginAdd("edge",a),t.set("addEdgeConfig",{addModel:a,delegation:s,startPoint:{x:c.centerX,y:c.centerY},sourceItem:r}),e.hide()}),l.addEventListener(e,"click",function(e){var o=e.clientX,i=e.clientY,a=t.editor,c=n.item,s=r.getPointByClient({x:o,y:i}),u=c.getBBox(),f=c.getModel(),h=[s.x-u.centerX,s.y-u.centerY],p=l.vec2.length(h);if(l.vec2.scale(h,h,160/p),a)a.executeCommand("copyAdjacent",{copyNode:c,x:s.x+h[0],y:s.y+h[1]});else{var d=l.clone(f);d.x=s.x+h[0],d.y=s.y+h[1],r.add(c.type,d)}})]}}}}])&&i(n.prototype,r),t}();e.exports=f},function(e,t,n){var r=n(2),o=n(5),i={};function a(e){e.controlPointShapes&&r.each(e.controlPointShapes,function(e){e.remove()}),e.controlPointShapes=[],e.isControlPointShow=!1}i.INIT="_initResize",i.CFG={nodeResizeable:!1,edgeResizeable:!0},i.AUGMENT={_initResize:function(){var e=this,t=this.get("_graph"),n=this.get("nodeResizeable"),o=this.get("edgeResizeable");n&&t.on("afteritemdraw",function(t){"node"===t.item.type&&t.item.isVisible()&&e.drawControlPoints(t.item)}),o&&t.on("afteritemdraw",function(t){"edge"===t.item.type&&t.item.isVisible()&&e.drawControlPoints(t.item)}),t.on("afteritemhide",function(e){var t;e.item.isControlPointShow&&((t=e.item).controlPointShapes&&r.each(t.controlPointShapes,function(e){e.hide()}),t.isControlPointShow=!1)}),t.on("afteritemshow",function(e){var t;!e.item.isControlPointShow&&((t=e.item).controlPointShapes&&r.each(t.controlPointShapes,function(e){e.show()}),t.isControlPointShow=!0)}),t.on("beforeitemdestroy",function(e){e.item.isControlPointShow&&a(e.item)})},drawControlPoints:function(e){var t,n,i,c,s,u,l,f,h,p=this.get("_graph").getRootGroup(),d=this.get("nodeResizeable"),g=this.get("edgeResizeable");"node"===e.type?d&&function(e,t){var n=e.getBBox(),i=[{x:n.minX,y:n.minY},{x:n.maxX,y:n.minY},{x:n.minX,y:n.maxY},{x:n.maxX,y:n.maxY}];a(e);var c=t.addShape("rect",{attrs:r.mix({},o.nodeSelectedBoxStyle,{symbol:"square",x:n.minX,y:n.minY,width:n.maxX-n.minX,height:n.maxY-n.minY})});e.controlPointShapes.push(c),r.each(i,function(n){var i=t.addShape("marker",{attrs:r.mix({},o.nodeControlPointStyle,{symbol:"square",x:n.x,y:n.y}),freezePoint:{x:n.x,y:n.y},item:e});e.controlPointShapes.push(i)})}(e,p):"edge"===e.type&&g&&(n=p,i=(t=e).getKeyShape().attr("path"),c=i[0],s=c.length,u=i[i.length-1],l=u.length,f=[{x:c[s-2],y:c[s-1]},{x:u[l-2],y:u[l-1]}],h=t.getModel(),a(t),r.each(f,function(e,i){var a=n.addShape("marker",{attrs:r.mix({},o.edgeControlPointStyle,{x:e.x,y:e.y}),freezePoint:{x:e.x,y:e.y},item:t});a.eventPreFix="edgeControlPoint",a.getSourcePoint=function(){return f[0]},a.getTargetPoint=function(){return f[f.length-1]},a.getItem=function(){return t},a.isSourceEndPoint=function(){return h.source&&0===i},a.isTargetEndPoint=function(){return h.target&&i===f.length-1},t.controlPointShapes.push(a)})),e.isControlPointShow=!0}},e.exports=i},function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(2),a={};a.AUGMENT={addOutterShape:function(e,t){this.clearOutterShape(e);var n=t.lineWidth,o=e.getKeyShape(),a=e.getGraphicGroup(),c=o.attr(),s=o.get("type"),u=o.attr("lineWidth"),l=i.clone(c);delete l.fillStyle,delete l.strokeStyle,delete l.matrix;var f=a.addShape(s,{attrs:r({},l,{fill:null},t)});i.toBack(f,a);var h=f.getBBox(),p=h.maxX-h.minX,d=h.maxY-h.minY,g=(h.minX+h.maxX)/2,v=(h.minY+h.maxY)/2;f.transform([["t",-g,-v],["s",(n+p+u)/p,(n+d+u)/d],["t",g,v]]),f.isOutter=!0,e.outterShape=f},clearOutterShape:function(e){e.outterShape&&e.outterShape.remove()}},e.exports=a},function(e,t){e.exports={CFG:{linkNode:!0,linkAnchor:!0},INIT:"_initLink",AUGMENT:{_initLink:function(){var e=this,t=this.getGraph(),n=this.get("linkAnchor"),r=this.get("linkNode"),o=t.get("mode");n&&(this.on("beforeitemactived",function(t){var n=t.item;n.isNode&&e.hoverShowAnchor(n)}),this.on("beforeitemunactived",function(t){var n=t.item;(n.isNode||n.isGroup)&&e.clearAnchor(n)}),this.on("beforeitemselected",function(t){var n=t.item;n.isNode?e.hoverShowAnchor(n):n.isGroup&&e.hoverShowAnchor(n)}),this.on("beforeitemunselected",function(t){var n=t.item;(n.isNode||n.isGroup)&&e.clearAnchor(n)}),t.addBehaviour("dragAnchorAddEdge","add"),t.addBehaviour("hoverAnchorActived","default"),t.changeMode(o)),r&&(t.addBehaviour("hoverNodeAddOutter","add"),t.addBehaviour("hoverNodeAddOutter","default"),t.changeMode(o))}}}},function(e,t,n){n(76),n(77),n(78),n(79)},function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(13),a=n(2),c=n(5);i.registerNode("diagram-base",{getSize:function(e){var t=e.getModel();return a.getNodeSize(t.size)},defaultFillPalette:0,defaultStrokePalette:3,activedFillPalette:0,activedStrokePalette:5,selectedFillPalette:2,selectedStrokePalette:5,getDefaulStyle:function(){return c.nodeStyle},getDefaulActivedStyle:function(){return c.nodeActivedStyle},getDefaulSelectedtyle:function(){return c.nodeSelectedStyle},getStyle:function(e){var t,n,r=e.getModel(),o=r.color;if(o){var i=a.Palettes.generate(o);t=i[this.defaultFillPalette],n=i[this.defaultStrokePalette]}return a.mix(!0,{},this.getDefaulStyle(),{fill:t,stroke:n},r.style)},getPath:function(e){var t=this.getSize(e),n=this.getStyle(e);return a.getRectPath(-t[0]/2,-t[1]/2,t[0],t[1],n.radius)},getActivedOutterStyle:function(){return c.nodeActivedOutterStyle},getActivedStyle:function(e){var t=e.getModel(),n=this.getDefaulActivedStyle(e),o=t.color;if(o){var i=a.Palettes.generate(o);return r({},n,{fill:i[this.activedFillPalette],stroke:i[this.activedStrokePalette]})}return n},getSelectedStyle:function(e){var t=e.getModel(),n=this.getDefaulSelectedtyle(e),o=t.color;if(o){var i=a.Palettes.generate(o);return r({},n,{fill:i[this.selectedFillPalette],stroke:i[this.selectedStrokePalette]})}return n},getSelectedOutterStyle:function(e){var t=e.getModel().color;if(t){var n=a.Palettes.generate(t);return r({},c.nodeSelectedOutterStyle,{stroke:n[1],fill:n[1]})}return c.nodeSelectedOutterStyle},anchor:[[.5,0],[1,.5],[.5,1],[0,.5]]}),i.registerNode("capsule",{getPath:function(e){var t=this.getSize(e);return a.getRectPath(-t[0]/2,-t[1]/2,t[0],t[1],t[1]/2)}}),i.registerNode("circle",{getPath:function(e){var t=this.getSize(e),n=t[0],r=t[1];return a.getEllipsePath(0,0,n/2,r/2)}}),i.registerNode("rhombus",{getPath:function(e){var t=this.getSize(e),n=t[0],r=t[1],o=[{x:0,y:0-r/2},{x:0+n/2,y:0},{x:0,y:0+r/2},{x:0-n/2,y:0},{x:0,y:0-r/2}];return a.pointsToPolygon(o)}})},function(e,t,n){var r=n(13),o=n(2),i=n(5);r.registerEdge("diagram-base",{getPath:function(e){var t=e.getPoints(),n=e.getSource(),r=e.getTarget();return this.getPathByPoints({points:t,source:n,target:r,item:e})},getPathByPoints:function(e){var t=e.points;return o.pointsToPolygon(t)},getStyle:function(e){var t=e.getModel();return o.mix(!0,{},i.edgeStyle,{stroke:t.color},t.style)},getActivedStyle:function(){return i.edgeActivedStyle},getSelectedStyle:function(){return i.edgeSelectedStyle},getActivedOutterStyle:function(){},getSelectedOutterStyle:function(){}})},function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(13),a=n(5),c=n(2),s=c.getGroupIconPath(),u=c.getCollapsedButtonPath(),l=c.getExpandedButtonPath(),f={fill:"#CED4D9"},h={stroke:"#697B8C",fill:"#fff",fillOpacity:0},p={stroke:"#697B8C",fill:"#fff",fillOpacity:0},d={fill:"#000000",textBaseline:"top",textAlign:"left"},g={stroke:"#CED4D9",fill:"#F2F4F5",radius:4},v=a.groupBackgroundPadding,m=184-v[1]-v[3],y=40-v[0]-v[2];i.registerGroup("diagram-base",{draw:function(e){var t=e.getModel(),n=e.getGraphicGroup(),o=e.getChildrenBBox(),i=this.getStyle(e),a=t.collapsed,g=t.padding?t.padding:v;if(o.minX===1/0&&(o.minX=t.x,o.maxX=t.x+m,o.minY=t.y,o.maxY=t.y+y),a&&(o.minX=o.maxX-m,o.maxY=o.minY+y),o.maxX-o.minX<m){var b=m-o.maxX+o.minX;o.minX-=b/2,o.maxX+=b/2}var x=function(e,t){return e.minX-t[3]}(o,g),w=function(e,t){return e.minY-t[0]}(o,g),O=function(e,t){return e.maxX-e.minX+t[3]+t[1]}(o,g),S=function(e,t){return e.maxY-e.minY+t[0]+t[2]}(o,g),E=function(e,t,n,o){var i=t.addShape("path",{attrs:r({},o,{path:n})});return i.isGroupKeyShape=!0,i}(0,n,c.getRectPath(x,w,O,S,i.radius),i);return function(e,t,n,r){var o=c.mix(!0,{},d,{x:n+40,y:r+13});c.isString(e)?o.text=e:c.mix(o,e),t.addShape("text",{attrs:o})}(c.isNil(t.label)?"\u65b0\u5efa\u5206\u7ec4":t.label,n,x,w),function(e,t,n,o){var i=t.addShape("path",{attrs:r({path:e},f)}),a=i.getBBox();i.translate(n-a.minX+8,o-a.minY+12)}(c.isNil(t.icon)?s:t.icon,n,x,w),(function(e,t,n,o,i){var a;if(e){var c=(a=t.addShape("path",{attrs:r({path:l},p)})).getBBox(),s=c.maxX-c.minX;a.isExpandedButton=!0,a.translate(n+i-c.minX-s-12,o-c.minY+12)}else{var f=(a=t.addShape("path",{attrs:r({path:u},h)})).getBBox(),d=f.maxX-f.minX;a.isCollapsedButton=!0,a.translate(n+i-f.minX-d-12,o-f.minY+12)}return a.isButton=!0,a}(a,n,x,w,O)).item=e,t.x=o.minX,t.y=o.minY,E},getStyle:function(e){var t=e.getModel();return c.mix(!0,{},g,{fill:t.color,stroke:t.color},t.style)},getActivedStyle:function(){return a.groupActivedStyle},getSelectedStyle:function(){return a.groupSelectedStyle},getSelectedOutterStyle:function(){return a.groupSelectedOutterStyle},getActivedOutterStyle:function(){},intersectBox:"rect"})},function(e,t,n){n(13).registerGuide("diagram-base")},function(e,t,n){n(81),n(82),n(83),n(84),n(85),n(86),n(87),n(88),n(89),n(90),n(91),n(92),n(93),n(94)},function(e,t,n){var r=n(1),o=n(2);r.registerBehaviour("panItem",function(e){var t=e.getGraph();t.behaviourOn("drop",function(){var n=e.get("panItems");if(n){var r=n[0],i=n.map(function(e){return e.id}),a=e.get("panItemDelegation"),c=e.get("panItemStartBox"),s=r.id,u=a.attr("x")-c.minX,l=a.attr("y")-c.minY;t.emit("afterpanitemdrop",{panItems:n}),e.clearAlignLine();var f=e.editor;t.emit("panitemend"),!f||e.getSignal("dragaddnodetogroup")?h():f.executeCommand(h)}function h(){i.forEach(function(e){var n=t.find(e),r=n.getModel();n.isGroup?o.panGroup(n,u,l,t):(t.update(n,{x:r.x+u,y:r.y+l}),t.toFront(n))}),1===i.length&&(e.clearSelected(),e.setSelected(s,!0))}})},["startPanItem","processPanItem","endPanItem"])},function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(1),i=n(5);o.registerBehaviour("hoverAnchorActived",function(e){var t=e.getGraph();t.behaviourOn("anchor:mouseenter",function(n){if(!e.getSignal("panningItem")&&!e.getSignal("dragEdge")){var o=n.shape,a=o.getItem(),c=a.getModel(),s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}({},e.get("addEdgeModel"),{source:c.id}),u={anchor:o.getPoint(),item:a};e.emit("hoveranchor:beforeaddedge",u),u.cancel?e.css({cursor:i.cursor.hoverUnEffectiveAnchor}):(e.css({cursor:i.cursor.hoverEffectiveAnchor}),!o.get("destroyed")&&o.setActived(),e.beginAdd("edge",s),t.draw())}}),t.behaviourOn("anchor:mouseleave",function(n){if(!e.getSignal("dragEdge")&&!e.getSignal("panningItem")){var r=n.shape,o=r.getItem();e.css({cursor:i.cursor.beforePanCanvas}),o.isSelected||(e.clearAnchor(o),e.setActived(o,!1)),!r.get("destroyed")&&r.clearActived(),e.cancelAdd(),t.draw()}})})},function(e,t,n){var r=n(1),o=n(5);r.registerBehaviour("hoverEdgeControlPoint",function(e){e.getGraph().behaviourOn("edgeControlPoint:mouseenter",function(t){if(!e.getSignal("dragEdge")&&!e.getSignal("panningItem")){var n=t.shape;(n.isTargetEndPoint()||n.isSourceEndPoint())&&e.css({cursor:o.cursor.hoverEdgeControllPoint})}})})},function(e,t,n){var r=n(1),o=n(5),i=n(2);r.registerBehaviour("dragEdgeControlPoint",function(e){var t,n,r,a,c,s,u,l,f,h,p=e.getGraph(),d=p.getRootGroup();function g(d){if(r){var g={};p.getNodes().forEach(function(t){e.clearAnchor(t)}),e.css({cursor:o.cursor.beforePanCanvas}),r.remove();var v=i.dropUpdateEdge({ev:d,endPointType:t?"target":"source",model:g,diagram:e});p.show(f);var m=f.id;if(v){var y=e.editor;y?y.executeCommand("update",{itemId:m,updateModel:g}):p.update(m,g)}e.setSignal("dragEdge",!1),t=void 0,n=void 0,r=void 0,a=void 0,c=void 0,s=void 0,u=void 0,l=void 0,f=void 0,h=void 0}}p.behaviourOn("edgeControlPoint:mousedown",function(o){if(2!==o.button){var i=o.shape;i.isTargetEndPoint()?(f=i.getItem(),h=f.getModel(),t=i,a=i.getSourcePoint(),c=f.getSource(),u=h.sourceAnchor):i.isSourceEndPoint()&&(f=i.getItem(),h=f.getModel(),n=i,a=i.getTargetPoint(),s=f.getTarget(),l=h.targetAnchor),f&&(r=e.getDelegation([f],d),c?e.dragEdgeBeforeShowAnchor(c,u,"target"):s&&e.dragEdgeBeforeShowAnchor(s,l,"source"),p.hide(f),e.setSignal("dragEdge",!0))}}),p.behaviourOn("mousemove",function(e){r&&i.dragingEdgeEndPoint({endPointType:c?"target":"source",edgeModel:h,graph:p,delegation:r,startPoint:a,ev:e,originSource:c,originTarget:s})}),p.behaviourOn("edgeControlPoint:mouseleave",function(r){t||n||r.toShape||e.css({cursor:o.cursor.beforePanCanvas})}),p.behaviourOn("mouseup",g),p.behaviourOn("canvas:mouseleave",g)},["dragHoverAnchorHotspot"])},function(e,t,n){var r=n(1),o=n(2);r.registerBehaviour("dragPanelItemAddNode",function(e){var t,n,r,i,a,c=e.getGraph(),s=c.getRootGroup();function u(){e.setSignal("panningItem",!1),e.set("panItemDelegation",void 0),e.set("panItemStartBox",void 0),e.set("panItemStartPoint",void 0),n=void 0,r=void 0,i=void 0,a=void 0}c.behaviourOn("canvas:mouseenter",function(c){if(!n&&(i=e.get("addType"),a=e.get("addModel"),a=o.clone(a),"node"===i)){var u=(r=o.getNodeSize(a.size))[0]/2,l=r[1]/2;t={minX:c.x-u,minY:c.y-l,maxX:c.x+u,maxY:c.y+l,width:r[0],height:r[1]},n=e.getDelegation([t],s),e.setSignal("panningItem",!0),e.set("panItemDelegation",n),e.set("panItemStartBox",t),e.set("panItemStartPoint",{x:c.x,y:c.y})}}),c.behaviourOn("mouseup",function(t){if(n){a.x=t.x,a.y=t.y;var r=i;o.setId(a);var s=e.editor;n.remove(),e.endAdd(),e.clearAlignLine(),e.clearSelected(),e.focusGraphWrapper(),s?s.executeCommand("add",{type:"node",addModel:a}):c.add(r,a),e.setSelected(c.find(a.id),!0),u()}}),c.behaviourOn("canvas:mouseleave",function(){n&&(e.clearAlignLine(),n.remove(),c.draw(),e.cancelAdd(),u())})},["processPanItem"])},function(e,t,n){n(1).registerBehaviour("dragHoverAnchorHotspot",function(e){var t=e.getGraph();t.behaviourOn("anchor:dragenter",function(t){if(e.getSignal("dragEdge")){var n=t.shape;e.setHotspotActived(n,!0)}}),t.behaviourOn("anchor:dragleave",function(t){if(e.getSignal("dragEdge")){var n=t.shape;e.setHotspotActived(n,!1)}})})},function(e,t,n){var r=n(1),o=n(2);r.registerBehaviour("dragAnchorAddEdge",function(e){var t=e.getGraph(),n=t.getRootGroup();t.behaviourOn("anchor:dragstart",function(t){if(2!==t.button){var r=t.shape,i=r.get("freezePoint"),a=r.getItem(),c=o.clone(e.get("addModel")),s=r.getIndex();c.source=a.id,c.sourceAnchor=s;var u={x:i.x,y:i.y},l=e.getDelegation([{isEdge:!0}],n);e.setSignal("dragEdge",!0),e.dragEdgeBeforeShowAnchor(a,s,"target"),e.set("addEdgeConfig",{addModel:c,delegation:l,startPoint:u,sourceItem:a})}})},["processAddEdge","dragHoverAnchorHotspot","hoverAnchorActived"])},function(e,t,n){var r=n(1),o=n(5);r.registerBehaviour("dragMultiSelect",function(e){var t,n,r=e.getGraph(),i=r.getRootGroup();function a(){e.css({cursor:o.cursor.beforePanCanvas}),t=void 0,n=void 0}e.css({cursor:o.cursor.multiSelect}),r.behaviourOn("dragstart",function(e){2!==e.button&&(t={x:e.x,y:e.y},n=i.addShape("rect",{attrs:o.multiSelectRectStyle}))}),r.behaviourOn("drag",function(e){n&&(n.attr({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),width:Math.abs(e.x-t.x),height:Math.abs(e.y-t.y)}),r.draw())}),r.behaviourOn("dragend",function(){if(n){var t=r.getNodes().map(function(e){return e.id}),o=n.getBBox(),i=e.editor;i?i.executeCommand(c):c(),n.remove(),e.changeMode("default"),e.updateStatus(),r.draw(),a()}function c(){e.clearSelected(),t.forEach(function(t){var n=r.find(t),i=n.getBBox();i.minX>o.minX&&i.minY>o.minY&&i.maxX<o.maxX&&i.maxY<o.maxY&&e.setSelected(n,!0)})}}),r.behaviourOn("canvas:mouseleave",function(){n&&(n.remove(),r.draw(),a())})})},function(e,t,n){n(1).registerBehaviour("keydownShiftMultiSelected",function(e){var t=e.getGraph();t.behaviourOn("keydown",function(t){t.domEvent.shiftKey&&e.setSignal("shiftKeyDown",!0)}),t.behaviourOn("keyup",function(t){t.domEvent.shiftKey||e.setSignal("shiftKeyDown",!1)})})},function(e,t,n){var r=n(1),o=n(5);r.registerBehaviour("dragNodeAddToGroup",function(e){var t,n,r=e.getGraph();function i(){e.setSignal("dragaddnodetogroup",!1),t=void 0,n=void 0}r.behaviourOn("dragenter",function(i){if(e.getSignal("panningItem")){var a=e.get("panItems");a[0]&&a[0].isNode&&1===a.length&&i.item&&i.item.isGroup&&a[0].getParent()!==i.item&&(t=a[0],n=i.item,r.update(n,{padding:o.groupBackgroundPadding.map(function(e){return e+4}),style:o.dragNodeHoverToGroupStyle}))}}),r.behaviourOn("dragleave",function(){n&&t&&r.update(n,{padding:void 0,style:void 0})}),r.behaviourOn("drop",function(o){if(n&&t&&n===o.item){e.setSignal("dragaddnodetogroup",!0);var i=t.id,a=n.id;r.update(a,{padding:void 0,style:void 0,collapsed:!1});var c=e.editor;c?c.executeCommand(s):s()}function s(){r.update(i,{parent:a})}}),r.behaviourOn("dragend",function(){i()}),r.behaviourOn("canvas:mouseleave",function(){n&&(r.update(n,{padding:void 0,style:void 0}),i())})})},function(e,t,n){var r=n(1),o=n(5),i=n(2);r.registerBehaviour("dragOutFromGroup",function(e){var t,n,r,a=e.getGraph(),c=!1;function s(){clearTimeout(r),n&&a.update(n,{padding:void 0,style:void 0}),c=!1,t=void 0,n=void 0}a.behaviourOn("drag",function(s){e.getSignal("panningItem")&&!c&&(clearTimeout(r),r=setTimeout(function(){var r=e.get("panItems");if(r){if(t=r[0],n=r[0].getParent(),t&&1===r.length&&n&&!s.shape){var u=e.get("panItemDelegation").getBBox(),l=n.getBBox();i.rectRectCrossAlgorithm(u,l)&&(a.update(n,{padding:o.groupBackgroundPadding.map(function(e){return e-8}),style:o.dragNodeLeaveFromGroupStyle}),c=!0)}c||(t=void 0,n=void 0)}},o.outFromGroupDelayTime))}),a.behaviourOn("dragenter",function(e){t&&n&&(n===e.item&&a.update(n,{padding:o.groupBackgroundPadding.map(function(e){return e+4}),style:o.dragNodeHoverToGroupStyle}),c=!1)}),a.on("drop",function(e){n&&t&&!e.shape&&(a.update(t,{parent:void 0}),a.update(n,{style:void 0}),s())}),a.on("dragend",function(){s()}),a.behaviourOn("canvas:mouseleave",function(){s()})})},function(e,t,n){var r=n(1),o=n(2),i=n(5);r.registerBehaviour("processAddEdge",function(e){var t=e.getGraph();function n(){e.setSignal("dragEdge",!1),e.set("addEdgeConfig",{addModel:void 0,delegation:void 0,startPoint:void 0,sourceItem:void 0})}t.behaviourOn("mousemove",function(n){var r=e.get("addEdgeConfig");if(r){var i=r.addModel,a=r.delegation,c=r.startPoint,s=r.sourceItem;a&&o.dragingEdgeEndPoint({endPointType:"target",edgeModel:i,graph:t,delegation:a,startPoint:c,ev:n,sourceItem:s})}}),t.behaviourOn("mouseup",function(r){var a=e.get("addEdgeConfig");if(a){var c=a.addModel,s=a.delegation,u=a.sourceItem,l=e.editor;s?(t.getNodes().forEach(function(t){e.clearAnchor(t)}),e.clearAnchor(u),e.setActived(u,!1),e.setSelected(u,!1),e.css({cursor:i.cursor.beforePanCanvas}),s.remove(),o.dropUpdateEdge({ev:r,endPointType:"target",model:c,diagram:e})&&(l?l.executeCommand("add",{type:"edge",addModel:c}):t.add("edge",c)),t.draw(),e.endAdd(),n()):n()}}),t.behaviourOn("canvas:mouseleave",function(){var r=e.get("addEdgeConfig");if(r){var o=r.delegation,i=r.sourceItem;o?(t.getNodes().forEach(function(t){e.clearAnchor(t)}),e.setActived(i,!1),e.clearAnchor(i),o.remove(),e.cancelAdd(),t.draw(),n()):n()}})})},function(e,t,n){n(1).registerBehaviour("hoverNodeAddOutter",function(e){var t,n=e.getGraph();n.behaviourOn("node:mouseenter",function(n){var r=n.item;e.getSignal("dragEdge")&&(t=r,e.addOutterShape(r,{stroke:"#52C41A",strokeOpacity:.45,lineWidth:4}))}),n.behaviourOn("node:mouseleave",function(){t&&e.clearOutterShape(t)}),n.behaviourOn("beforedropedge",function(){t&&e.clearOutterShape(t)})})},function(e,t,n){var r=n(1),o=n(5),i=n(2);r.registerBehaviour("orbit",function(e){var t,n=e.getGraph();n.behaviourOn("beforepanitem",function(){e.hideOrbit()}),n.behaviourOn("node:mouseenter",function(n){var r=n.item;e.getSignal("panningItem")||e.getSignal("dragEdge")||(t=r,e.showOrbit(r))}),n.on("beforeviewportchange",function(){e.hideOrbit()}),n.behaviourOn("mousemove",function(r){var a=r.item,c=r.x,s=r.y;if(t){var u=t.getBBox(),l=i.euclideanDistance.pointPoint({x:u.centerX,y:u.centerY},{x:c,y:s}),f=n.getMatrix()[0];a!==t&&l>u.width/2+o.orbitGap/f&&(e.hideOrbit(),t=void 0),t&&e.layoutOrbit(t,{x:c,y:s})}})})},function(e,t,n){var r=n(11);n(96),e.exports=r},function(e,t,n){n(97),n(98),n(99),n(100),n(101)},function(e,t,n){var r=n(11);r.registerNode("flow-base",{}),r.registerNode("flow-html",{},["html"]),r.registerNode("flow-rect",{},"flow-base"),r.registerNode("flow-capsule",{},"capsule"),r.registerNode("flow-circle",{},"circle"),r.registerNode("flow-rhombus",{},"rhombus")},function(e,t,n){n(11).registerEdge("flow-base",{})},function(e,t,n){var r=n(19),o=n(11);function i(e,t,n,r){var o=r?r/2:30,i=r;if(e<=t&&t<=n||e>=t&&t>=n){var a=(n-t)/2,c=Math.abs(a);if(0===a)return e===t?0:(t-e)/Math.abs(t-e)*o;if(c>i){var s=a/c*i;return Math.abs(s)<o?a/c*o:s}return c<o?a/c*o:a}var u=o;return(u=Math.abs(t-n)<2*Math.abs(t-e)?r*Math.abs(t-n)/(2*Math.abs(t-e)):r)>i&&(u=i),u<o&&(u=o),t>e?u:-u}function a(e,t,n,r){var o,a,c=e.bbox,s=function(e,t){var n=Math.abs(e.x-t.centerX),r=Math.abs(e.y-t.centerY);return n/t.width>r/t.height}(t,c);o=a=0;var u=Math.min(c.height,c.width);return r&&r.bbox&&(u=Math.min(u,r.bbox.height,r.bbox.width)),s?o=i(c.centerX,t.x,n.x,u):a=i(c.centerY,t.y,n.y,u),{x:t.x+o,y:t.y+a}}var c=.1;function s(e,t){var n=e.x,r=e.y,o=t.x,i=t.y;return{x:n+(o-n)*c,y:r+(i-r)*c}}o.registerEdge("flow-smooth",{getPathByPoints:function(e){return function(e,t,n){var o=e[0],i=e[e.length-1],c=["M",o.x,o.y],u=function(e,t,n,r){return[n&&n.bbox?a(n,e,t,r):s(e,t),r&&r.bbox?a(r,t,e,n):s(t,e)]}(o,i,t,n),l=["C"],f=[c];return r.each(u,function(e){l.push(e.x,e.y)}),l.push(i.x,i.y),f.push(l),f}(e.points,e.source,e.target)}},"flow-edge")},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=n(19),a=n(11);function c(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),o=Math.max(e.maxX,t.maxX),i=Math.max(e.maxY,t.maxY);return{centerX:(n+o)/2,centerY:(r+i)/2,minX:n,minY:r,maxX:o,maxY:i,height:i-r,width:o-n}}function s(e,t){return 2*Math.abs(e.centerX-t.centerX)<e.width+t.width&&2*Math.abs(e.centerY-t.centerY)<e.height+t.height}function u(e){var t=e.x,n=e.y;return{centerX:t,centerY:n,minX:t,minY:n,maxX:t,maxY:n,height:0,width:0}}function l(e,t){return 0===e.width&&0===e.height?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}}function f(e,t){return function(e,t){var n=Math.abs(e.x-t.centerX),r=Math.abs(e.y-t.centerY);return n/t.width>r/t.height}(t,e)?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}}function h(e){var t=e.minX,n=e.minY,r=e.maxX,o=e.maxY;return[{x:t,y:n},{x:r,y:n},{x:r,y:o},{x:t,y:o}]}function p(e,t){var n=e.x,r=e.y;return n<t.minX||n>t.maxX||r<t.minY||r>t.maxY}function d(e,t,n,r){var o=t.x-e.x,i=t.y-e.y,a=r.x-n.x,c=r.y-n.y,s=(-i*(e.x-n.x)+o*(e.y-n.y))/(-a*i+o*c),u=(a*(e.y-n.y)-c*(e.x-n.x))/(-a*i+o*c);return s>=0&&s<=1&&u>=0&&u<=1}function g(e,t,n){if(n.width===n.height===0)return!1;var r=o(h(n),4),i=r[0],a=r[1],c=r[2],s=r[3];return d(e,t,i,a)||d(e,t,i,s)||d(e,t,a,c)||d(e,t,c,s)}function v(e){return e=y(e)}function m(e,t){return[e,{x:e.x,y:t.y},t]}function y(e){var t=[],n={};return e.forEach(function(e){var t=e.id="".concat(e.x,"-").concat(e.y);n[t]=e}),i.each(n,function(e){t.push(e)}),t}function b(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)}function x(e,t,n,r,o){return b(e,t)+b(e,n)+function(e,t){var n=0;return t.forEach(function(t){t&&(e.x===t.x&&(n+=-2),e.y===t.y&&(n+=-2))}),n}(e,[t,n,r,o])}function w(e,t,n,o,i,a,c){var s=[],u=[t],l={},f={},h={};f[t.id]=0,h[t.id]=x(t,n,t);var p={};e.forEach(function(e){p[e.id]=e});for(var d=function(){var r,d,v,m=void 0,w=1/0;if(u.forEach(function(e){h[e.id]<w&&(w=h[e.id],m=e)}),m===n){var O=[];return function e(t,n,r,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;t.unshift(n[o]),r[o]&&r[o]!==o&&i<=100&&e(t,n,r,r[o],i+1)}(O,p,l,n.id),{v:O}}d=m,(v=(r=u).indexOf(d))>-1&&r.splice(v,1),s.push(m),function(e,t,n,r){var o=[];return e.forEach(function(e){e!==t&&(e.x!==t.x&&e.y!==t.y||g(e,t,n)||g(e,t,r)||o.push(e))}),y(o)}(e,m,o,i).forEach(function(e){if(-1===s.indexOf(e)){-1===u.indexOf(e)&&u.push(e);var r=h[m.id]+b(m,e);f[e.id]&&r>=f[e.id]||(l[e.id]=m.id,f[e.id]=r,h[e.id]=f[e.id]+x(e,n,t,a,c))}})};u.length;){var v=d();if("object"===r(v))return v.v}return console.error("cannot find path: ",e,t,n),[t,n]}function O(e,t,n,r,o){var i=n&&n.bbox?n.bbox:u(e),a=r&&r.bbox?r.bbox:u(t);if(s(i,a))return v(m(e,t));var d=l(i,o),g=l(a,o);if(s(d,g))return v(m(e,t));var b=f(d,e),x=f(g,t),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],n=[];e.forEach(function(e){t.push(e.x),n.push(e.y)});var r=Math.min.apply(Math,t),o=Math.max.apply(Math,t),i=Math.min.apply(Math,n),a=Math.max.apply(Math,n);return{centerX:(r+o)/2,centerY:(i+a)/2,maxX:o,maxY:a,minX:r,minY:i,height:a-i,width:o-r}}([b,x]),S=(c(d,g),c(d,O)),E=c(g,O),_=[];_=(_=_.concat(h(S))).concat(h(E));var P={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[O,S,E].forEach(function(e){_=_.concat(function(e,t){return function(e,t){return t<e.minX||t>e.maxX?[]:[{x:t,y:e.minY},{x:t,y:e.maxY}]}(e,t.x).concat(function(e,t){return t<e.minY||t>e.maxY?[]:[{x:e.minX,y:t},{x:e.maxX,y:t}]}(e,t.y))}(e,P).filter(function(e){return p(e,d)&&p(e,g)}))}),[{x:b.x,y:x.y},{x:x.x,y:b.y}].forEach(function(e){p(e,d)&&p(e,g)&&_.push(e)}),_.unshift(b),_.push(x);var C=w(_=y(_),b,x,i,a,e,t);return C.unshift(e),C.push(t),v(C)}function S(e,t){var n=[],r=e[0];return n.push("M".concat(r.x," ").concat(r.y)),e.forEach(function(r,i){var a=e[i+1],c=e[i+2];if(a&&c)if(function(e,t,n){return!(e.x===t.x===n.x||e.y===t.y===n.y)}(r,a,c)){var s=o(function(e,t,n,r){var o=b(e,t),i=b(n,t);return o<r&&(r=o),i<r&&(r=i),[{x:t.x-r/o*(t.x-e.x),y:t.y-r/o*(t.y-e.y)},{x:t.x-r/i*(t.x-n.x),y:t.y-r/i*(t.y-n.y)}]}(r,a,c,t),2),u=s[0],l=s[1];n.push("L".concat(u.x," ").concat(u.y)),n.push("Q".concat(a.x," ").concat(a.y," ").concat(l.x," ").concat(l.y)),n.push("L".concat(l.x," ").concat(l.y))}else n.push("L".concat(a.x," ").concat(a.y));else a&&n.push("L".concat(a.x," ").concat(a.y))}),n.join("")}a.registerEdge("flow-polyline",{getPathByPoints:function(e){var t=e.points,n=e.source,r=e.target,o=O(t[0],t[t.length-1],n,r,16);return i.pointsToPolygon(o)}}),a.registerEdge("flow-polyline-round",{getPathByPoints:function(e){var t=e.points,n=e.source,r=e.target;return S(v(O(t[0],t[t.length-1],n,r,16)),5)}})},function(e,t,n){n(11).registerGroup("flow-base",{})},function(e,t,n){var r=n(17);n(103),e.exports=r},function(e,t,n){n(104),n(105),n(106)},function(e,t,n){n(17).registerNode("koni-base",{defaultFillPalette:5,defaultStrokePalette:5,activedFillPalette:4,activedStrokePalette:6,selectedFillPalette:5,selectedStrokePalette:6,anchor:null},"circle")},function(e,t,n){var r=n(17),o=n(24),i=o.vec2;r.registerEdge("koni-base",{getDefaultLabelRectPadding:function(){return o.toAllPadding([0,2])},getPathByPoints:function(e){var t=e.points,n=e.source,r=e.target,a=e.item;if(n&&r){var c=o.getParallelEdges(r,n),s=o.getParallelEdges(n,r),u=s.indexOf(a);return n===r?(u=(s=s.filter(function(e){var t=e.getModel();return t.source===n.id&&t.target===r.id})).indexOf(a),function(e,t){var n=e.getBBox(),r=[n.centerX,n.centerY],o=n.width/2,a=50*(t+1)+50,c=[r[0]-o/2,r[1]-Math.sqrt(3)/2*o],s=[c[0]-r[0],c[1]-r[1]],u=i.scale([],s,(o+a)/o),l=[r[0]+u[0],r[1]+u[1]],f=[r[0]+o/2,r[1]-Math.sqrt(3)/2*o],h=[f[0]-r[0],f[1]-r[1]],p=i.scale([],h,(o+a)/o),d=[r[0]+p[0],r[1]+p[1]];return[["M",c[0],c[1]],["C",l[0],l[1],d[0],d[1],f[0],f[1]]]}(n,u)):(0===c.length&&u--,function(e,t,n){var r=e.getBBox(),o=t.getBBox(),a=r.centerX,c=r.centerY,s=20*(n+1),u=[.5*(o.centerX+a)-a,.5*(o.centerY+c)-c],l=[-u[1],u[0]],f=i.length(l);i.scale(l,l,s/f);var h={x:u[0]+l[0]+a,y:u[1]+l[1]+c},p=e.getLinkPoints(h)[0],d=t.getLinkPoints(h)[0];return[["M",p.x,p.y],["Q",h.x,h.y,d.x,d.y]]}(n,r,u))}return o.pointsToPolygon(t)}})},function(e,t,n){n(17).registerGroup("koni-base",{})},function(e,t,n){var r=n(8);r.Util=n(10),n(108),n(112),n(120),e.exports=r},function(e,t,n){n(109),n(110),n(111)},function(e,t,n){var r=n(1),o=n(10);r.registerBehaviour("panMindNode",function(e){var t,n,r,i=e.getGraph();function a(){t.nth=n;var o=i.add("node",t);e.setSelected(o,!0),r&&i.remove(r.id)}function c(){i.emit("panitemend"),t=void 0,r=void 0,n=void 0}i.behaviourOn("beforeshowdelegation",function(){e.clearSelected(),e.clearActived()}),i.behaviourOn("node:dragstart",function(e){if(2!==e.button){var r=e.item;!(t=r.getModel()).parent||e.shape.isCollapsedButton||e.shape.isExpandedButton?c():(n=i.getNth(r),i.remove(r))}}),i.behaviourOn("itempanning",function(t){if(!t.shape||!t.shape.isPlaceholder){var n=e.getHotArea(t),o=e.getRoot();if(r&&(n?r.id!==n.id&&i.remove(i.find(r.id)):i.remove(i.find(r.id))),r=n,n){var a=n.parent;if(!i.find(n.id)){var c={id:n.id,parent:a.id,isPlaceholder:!0,parentModel:a,baseline:r.parent.id===o.id?"center":void 0,shape:"mind-placeholder",nth:n.nth};n.side&&(c.side=n.side),i.add("node",c)}}}}),i.behaviourOn("drop",function(){if(t)if(r){var s=o.clone(t);i.remove(r.id),e.executeCommand("moveMindNode",{model:s,newParentId:r.parent.id,newNth:r.nth,newSide:r.side,originParentId:t.parent,originNth:n,originSide:t.side})}else a();c()}),i.behaviourOn("canvas:mouseleave",function(){t&&(a(),c())})},["startPanItem","processPanItem","endPanItem"])},function(e,t,n){n(1).registerBehaviour("keydownMoveSelection",function(e){e.getGraph().on("keydown",function(t){e._moveItemSelection(t)})})},function(e,t,n){n(1).registerBehaviour("keydownEditLabel",function(e){e.getGraph().behaviourOn("keydown",function(t){e.showLabelEditor(t)})})},function(e,t,n){n(113),n(114),n(115),n(116),n(117),n(118),n(119)},function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(8),a=n(10),c={fill:"#000",textAlign:"left",textBaseline:"top"},s={stroke:"#959EA6",strokeOpacity:0,fill:"#959EA6",cursor:"pointer"},u={stroke:"#434B54",fill:"#fff",cursor:"pointer"};i.registerNode("mind-base",{dy:4,afterDraw:function(e){var t=e.getModel();t.children&&t.children.length>0&&t.collapsed&&this.drawExpandedButton(e)},debugDrawLayoutPoint:function(e){var t=e.getModel();e.getGraphicGroup().addShape("circle",{attrs:{x:t.x,y:t.y,r:5,fill:"red"}})},drawExpandedButton:function(e){var t=e.getKeyShape().getBBox(),n=e.getGraphicGroup().addGroup(),o=n.addShape("path",{attrs:r({path:a.getRectPath(0,0,16,7,3)},s)}),i=o.getBBox(),c=a.getMindNodeSide(e),u=this.getButtonPositon(t,i,c),l={fill:"white",r:1};n.addShape("circle",{attrs:r({},l,{x:4,y:3.5}),capture:!1}),n.addShape("circle",{attrs:r({},l,{x:8,y:3.5}),capture:!1}),n.addShape("circle",{attrs:r({},l,{x:12,y:3.5}),capture:!1}),o.attr("lineAppendWidth",20),n.translate(u.x,u.y),o.isExpandedButton=!0,o.isButton=!0},drawCollapsedButton:function(e){var t=e.getKeyShape().getBBox(),n=e.getGraphicGroup().addShape("path",{attrs:r({path:a.getCollapsedButtonPath()},u)}),o=n.getBBox(),i=a.getMindNodeSide(e),c=this.getButtonPositon(t,o,i);n.translate(c.x,c.y),n.isCollapsedButton=!0,n.isButton=!0},getButtonPositon:function(e,t,n){return"right"===n?{x:e.maxX+2,y:e.maxY-(t.maxY-t.minY)/2}:{x:e.minX-(t.maxX-t.minX)-2,y:e.maxY-(t.maxY-t.minY)/2}},getLabel:function(e){return e.getModel().label},getPadding:function(){return[4,8,4,8]},getSize:function(e){var t=e.getModel(),n=e.getGraphicGroup(),r=t.size;if(t.size){if(a.isArray(r))return r;if(a.isNumber(r))return[r,r]}var o=n.findByClass("label")[0],i=this.getPadding(e),c=o.getBBox();return[c.width+i[1]+i[3],c.height+i[0]+i[2]]},getPath:function(e){var t=this.getSize(e),n=this.getStyle(e);return a.getRectPath(-t[0]/2,-t[1]/2+this.dy,t[0],t[1],n.radius)},drawLabel:function(e){var t=e.getGraphicGroup(),n=this.getLabel(e),r=this.getLabelStyle(e);n||(n=" ");var o=a.mix(!0,{},c,r,{x:0,y:0});a.isObject(n)?a.mix(o,n):o.text=n;var i=t.addShape("text",{class:"label",attrs:o});return this.adjustLabelText(i),this.adjustLabelPosition(e,i),i},adjustLabelText:function(e){var t=e.attr("text"),n=e.getBBox();if(n.maxX-n.minX>400){var r=e.attr("font");t=a.getLabelTextByTextLineWidth(t,r),e.attr("text",t)}},adjustLabelPosition:function(e,t){var n=this.getSize(e),r=this.getPadding(),o=n[0],i=t.getBBox();t.attr({x:-o/2+r[3],y:-i.height/2+this.dy})},getLabelStyle:function(){return{fill:"rgba(38,38,38,0.85)",lineHeight:18,fontSize:12}},getStyle:function(){return{fill:"#ccc",fillOpacity:0,radius:4,lineWidth:2}},getActivedStyle:function(){return{stroke:"#44C0FF",lineWidth:2}},getSelectedStyle:function(){return{stroke:"#1AA7EE",lineWidth:2}},anchor:[[0,1],[1,1]]})},function(e,t,n){n(8).registerNode("mind-first-sub",{dy:0,getPadding:function(){return[6,12,8,12]},getLabelStyle:function(){return{fill:"rgba(38,38,38,0.85)",fontWeight:500,fontSize:14,lineHeight:20}}})},function(e,t,n){n(8).registerNode("mind-second-sub",{dy:0,getPadding:function(){return[8,4,8,4]},getLabelStyle:function(){return{fill:"rgba(38,38,38,0.85)",fontSize:12,lineHeight:20}}})},function(e,t,n){var r=n(8),o=n(10);r.registerNode("mind-root",{adjustLabelPosition:function(e,t){var n=t.getBBox();t.attr({x:-n.width/2,y:-n.height/2-1})},getPath:function(e){var t=this.getSize(e),n=this.getStyle(e);return o.getRectPath(-t[0]/2,-t[1]/2,t[0],t[1],n.radius)},getButtonPositon:function(e,t,n){return"right"===n?{x:e.maxX+2,y:(e.maxY+e.minY)/2-(t.maxY-t.minY)/2}:{x:e.minX-(t.maxX-t.minX)-2,y:(e.maxY+e.minY)/2-(t.maxY-t.minY)/2}},getPadding:function(){return o.toAllPadding([12,24])},getStyle:function(){return{fill:"#587EF7",stroke:"#587EF7",fillOpacity:1,radius:4}},getLabelStyle:function(){return{fontSize:20,fill:"white",lineHeight:28}},drawExpandedButton:function(){},drawCollapsedButton:function(){},panAble:!1,anchor:[[.45,.5],[.55,.5]]},"mind-first-sub")},function(e,t,n){var r=n(8),o=n(10);r.registerNode("mind-placeholder",{afterDraw:function(e){e.getKeyShape().isPlaceholder=!0},getPath:function(e){var t,n=e.getModel().parentModel,r=this.getStyle(e),i=0;return n.hierarchy<=2?t=28:(t=20,i=4),o.getRectPath(-27.5,-t/2+i,55,t,r.radius)},getStyle:function(){return{fill:"#91D5FF",radius:4,lineWidth:3}},drawExpandedButton:function(){},drawCollapsedButton:function(){},anchor:function(){return[[0,1],[1,1]]}})},function(e,t,n){n(8).registerEdge("mind-edge",{getEdetal:function(e){return e.children&&e.children.length>0&&!e.collapsed?2===e.hierarchy?24:18:0},getPath:function(e){var t=e.getPoints(),n=e.getSource(),r=e.getTarget(),o=n.getBBox(),i=r.getBBox(),a=r.getModel(),c=14,s=4;if(2===a.hierarchy&&(c=66,s=30),t[0].y===t[1].y){var u=3===a.hierarchy?24:18,l=this.getEdetal(a);return o.centerX<i.centerX?[["M",t[0].x+u,t[0].y],["L",i.maxX+l,i.maxY]]:[["M",t[0].x+2,t[0].y],["L",i.minX-l,i.maxY]]}if(a.hierarchy>=3){var f=3===a.hierarchy?24:18,h=this.getEdetal(a);if(o.centerX<i.centerX){var p=t[0].x+f;return[["M",t[0].x,t[0].y],["M",p,t[0].y],["C",p+s,t[0].y,i.minX-c,i.maxY,i.minX,i.maxY],["L",i.maxX+h,i.maxY]]}var d=t[0].x-f;return[["M",t[0].x,t[0].y],["M",d,t[0].y],["C",d-s,t[0].y,i.maxX+c,i.maxY,i.maxX,i.maxY],["L",i.minX-h,i.maxY]]}var g=this.getEdetal(a);return o.centerX<i.centerX?[["M",t[0].x,t[0].y],["C",t[0].x+s,t[0].y,i.minX-c,i.maxY,i.minX,i.maxY],["L",i.maxX+g,i.maxY]]:[["M",t[0].x,t[0].y],["C",t[0].x-s,t[0].y,i.maxX+c,i.maxY,i.maxX,i.maxY],["L",i.minX-g,i.maxY]]},getStyle:function(e){var t=e.getTarget(),n=1;if(t){var r=t.getModel();n=r.hierarchy<=3?3:r.hierarchy<=5?2:1}return{stroke:"#959EA6",lineWidth:n}}})},function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(8).registerEdge("mind-placeholder-edge",{getOriginShapeObject:function(e){return e.getGraph().getShapeObj("edge",{shape:"mind-edge"})},getPath:function(e){return this.getOriginShapeObject(e).getPath(e)},getStyle:function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}({},this.getOriginShapeObject(e).getStyle(e),{stroke:"#91D5FF"})}})},function(e,t,n){var r=n(15),o=n(10);function i(e,t,n){var r=e.getGraph(),o=t.getModel(),i=e.getFirstChildrenBySide("left"),a=i[0]&&r.find(i[0].id);return r.add("node",{id:n,parent:t.id,label:"\u65b0\u5efa\u8282\u70b9",side:o.children.length>2?"left":"right",nth:a?r.getNth(a):void 0})}r.registerCommand("append",{enable:function(e){var t=e.getCurrentPage(),n=t.getSelected();return t.isMind&&1===n.length},getItem:function(e){var t=e.getCurrentPage(),n=t.getGraph();return this.selectedItemId?n.find(this.selectedItemId):t.getSelected()[0]},execute:function(e){var t,n=e.getCurrentPage(),r=n.getGraph(),o=n.getRoot(),a=this.getItem(e),c=a.getModel(),s=c.hierarchy,u=a.getParent();if(a.isRoot)t=i(n,a,this.addItemId);else{var l=r.getNth(a);t=r.add("node",{id:this.addItemId,parent:u.id,side:2===s&&3===o.children.length?"left":c.side,label:"\u65b0\u5efa\u8282\u70b9",nth:"left"===c.side&&2===s?l:l+1})}n.clearSelected(),n.clearActived(),n.setSelected(t,!0),1===this.executeTimes&&(this.selectedItemId=a.id,this.addItemId=t.id,n.beginEditLabel(t))},back:function(e){var t=e.getCurrentPage();t.getGraph().remove(this.addItemId),t.clearSelected(),t.clearActived(),t.setSelected(this.selectedItemId,!0)},shortcutCodes:["Enter"]}),r.registerCommand("appendChild",{enable:function(e){var t=e.getCurrentPage(),n=t.getSelected();return t.isMind&&n.length>0},getItem:function(e){var t=e.getCurrentPage(),n=t.getGraph();return this.selectedItemId?n.find(this.selectedItemId):t.getSelected()[0]},execute:function(e){var t,n=e.getCurrentPage(),r=n.getGraph(),o=this.getItem(e);t=o.isRoot?i(n,o,this.addItemId):r.add("node",{id:this.addItemId,parent:o.id,label:"\u65b0\u5efa\u8282\u70b9"}),n.clearSelected(),n.clearActived(),n.setSelected(t,!0),1===this.executeTimes&&(this.selectedItemId=o.id,this.addItemId=t.id,n.beginEditLabel(t))},back:function(e){var t=e.getCurrentPage();t.getGraph().remove(this.addItemId),t.clearSelected(),t.clearActived(),t.setSelected(this.selectedItemId,!0)},shortcutCodes:["Tab"]}),r.registerCommand("moveMindNode",{enable:function(e){var t=e.getCurrentPage(),n=t.get("panItems");return t.isMind&&n&&n.length>0},execute:function(e){var t=e.getCurrentPage(),n=t.getGraph(),r=this.newParentId,i=this.newNth,a=this.newSide,c=o.clone(this.model);delete c.shape,delete c.side,n.remove(c.id),o.mix(c,{parent:r,nth:i,side:a});var s=n.add("node",c);t.clearSelected(),t.setSelected(s,!0)},back:function(e){var t=e.getCurrentPage(),n=t.getGraph(),r=this.originParentId,i=this.originNth,a=this.originSide,c=o.clone(this.model);delete c.shape,delete c.side,n.remove(c.id),o.mix(c,{parent:r,nth:i,side:a});var s=n.add("node",c);t.clearSelected(),t.setSelected(s,!0)}})},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=n(6),u=n(9),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,a(t).apply(this,arguments))}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,u),n=t,(r=[{key:"getDefaultCfg",value:function(){return{type:"toolbar",container:null}}},{key:"init",value:function(){this._initContainer()}},{key:"_initContainer",value:function(){var e=this.container;if(!e)throw new Error("please set the container for the toolbar !");s.isString(e)&&(e=document.getElementById(e));var t=e.getElementsByClassName("command");this.commands=t}},{key:"getCommandDoms",value:function(){return this.commands}}])&&o(n.prototype,r),t}();e.exports=l},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var s=n(6),u=n(9),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,a(t).apply(this,arguments))}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,u),n=t,(r=[{key:"getDefaultCfg",value:function(){return{type:"contextmenu",container:null}}},{key:"init",value:function(){this._initContainer()}},{key:"_initContainer",value:function(){var e=this.container;if(!e)throw new Error("please set the container for the tontextmenu !");s.isString(e)&&(e=document.getElementById(e));var t=e.getElementsByClassName("command");e.style.position="absolute",e.style["z-index"]=2,e.style.top="0px",e.style.left="0px",this.commands=t,this.containerDom=e}},{key:"bindEvent",value:function(){var e=this,t=this.commands;s.each(t,function(t){s.addEventListener(t,"click",function(){-1===t.className.indexOf("disable")&&e.hide()})})}},{key:"switch",value:function(e){var t=this.containerDom.getElementsByClassName("menu");s.each(t,function(t){t.dataset.status===e?t.style.display="block":t.style.display="none"})}},{key:"getCommandDoms",value:function(){return this.commands}},{key:"show",value:function(){var e=this.containerDom;this.editor.getCurrentPage().setSignal("preventWheelPan",!0),e.style.display="block"}},{key:"hide",value:function(){var e=this.containerDom;this.editor.getCurrentPage().setSignal("preventWheelPan",!1),e.style.display="none"}},{key:"move",value:function(e,t){var n=this.containerDom,r=s.getBoundingClientRect(n),o=parseFloat(s.getStyle(n,"top")),i=parseFloat(s.getStyle(n,"left"));n.style.left=i+(e-r.left)+"px",n.style.top=o+(t-r.top)+"px"}}])&&o(n.prototype,r),t}();e.exports=l},function(e,t,n){var r=n(12);n(124),n(127),e.exports=r},function(e,t,n){n(125),n(126)},function(e,t,n){function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i,a,c=n(20),s=c.mouseEnterEdge,u=c.startMove,l=c.mouseLeaveEdge,f=c.mouseMoveEdge,h=c.endMove;n(12).registerBehaviour("bpmnMoveEdgeController",function(e){var t,n=e.getGraph(),o=n.getRootGroup();function c(){e.set("panItemDelegation",void 0),e.set("panItemStartBox",void 0),e.set("panItemStartPoint",void 0),t=void 0}n.behaviourOn("edge:mouseenter",function(t){!i&&t.item&&(a=t.item,s({graph:n,bpmn:e,ev:t,backUpCursor:!0}))}),n.behaviourOn("edge:mousedown",function(e){var t=e.item;u(n,e),i=t}),n.behaviourOn("mouseup",function(){i&&(h({graph:n,item:i}),i=void 0)}),n.behaviourOn("mousemove",function(t){i?f(n,i,t):a&&s({graph:n,bpmn:e,ev:r({},t,{item:a}),backUpCursor:!1})}),n.behaviourOn("edge:mouseleave",function(){i||a&&(l({graph:n,bpmn:e,item:a}),a=void 0)}),n.behaviourOn("node:dragstart",function(n){var r=n.item.getBBox();t=e.getDelegation([r],o),e.set("bpmnNodePanDelegation",t),e.set("bpmnNodePanStartBox",r),e.set("bpmnNodePanStartPoint",{x:n.x,y:n.y}),e.set("bpmnNodePanStartItem",n.item)}),n.behaviourOn("node:dragend",function(t){var r=e.get("bpmnNodePanDelegation"),o=e.get("bpmnNodePanStartPoint"),i=e.get("bpmnNodePanStartItem");i&&i.getEdges().forEach(function(e){n.update(e,{nodeMoved:{item:i.id,start:o,delta:{x:t.x-o.x,y:t.y-o.y}}})}),r.remove(),c()})},["startPanItem","processPanItem","endPanItem"])},function(e,t,n){n(12).registerBehaviour("hoverNodeShowArrowController",function(e){var t,n=e.getGraph(),r=e.get("arrowController"),o=r.long,i=r.thickness;n.on("node:mouseenter",function(a){if(!e.getSignal("panningItem")&&!e.getSignal("dragEdge")){var c=r.topArrow,s=r.bottomArrow,u=r.leftArrow,l=r.rightArrow,f=(t=a.item).getBBox(),h=n.getDomPoint({x:f.centerX,y:f.minY}),p=n.getDomPoint({x:f.minX,y:f.centerY}),d=n.getDomPoint({x:f.centerX,y:f.maxY}),g=n.getDomPoint({x:f.maxX,y:f.centerY});c.css({top:h.y-(o+10)+"px",left:h.x-i/2+"px",transform:"rotate(-90deg)"}),s.css({top:d.y+10+"px",left:d.x-i/2+"px",transform:"rotate(90deg)"}),u.css({top:p.y-i/2+"px",left:p.x-(o+10)+"px",transform:"rotate(180deg)"}),l.css({top:g.y-i/2+"px",left:g.x+10+"px"}),c.setAttribute("anchorIndex",0),s.setAttribute("anchorIndex",2),u.setAttribute("anchorIndex",3),l.setAttribute("anchorIndex",1),e.showArrowController(t)}}),n.behaviourOn("mousemove",function(n){var r=n.x,i=n.y;if(t){var a=t.getBBox(),c=o+10,s=a.minX-c,u=a.minY-c,l=a.maxX+c,f=a.maxY+c;(r<s||i<u||r>l||i>f)&&(e.hideArrowController(),t=void 0)}})})},function(e,t,n){n(128),n(12).registerNode("bpmn-base",{anchor:null})},function(e,t,n){"use strict";n.r(t);var r=n(12),o=n.n(r),i=n(0);function a(e){var t=e.bbox,n=e.shape,r=void 0===n?"ROUNDED_RECT":n,o=e.point,i=e.vertical;i=!!i;var a={true:"x",false:"y"},c={true:"minX",false:"minY"},s={true:"maxX",false:"maxY"};switch(r){case"ROUNDED_RECT":if(o[a[i]]>=t[c[i]]+4&&o[a[i]]<=t[s[i]]-4)return{added:void 0,joint:{x:i?o.x:o.x>t.centerX?t.maxX:t.minX,y:i?o.y>t.centerY?t.maxY:t.minY:o.y}};if(o[a[i]]>=t[c[i]]&&o[a[i]]<t[c[i]]+4)return{added:void 0,joint:{x:i?o.x:o.x>t.centerX?t.maxX-4+Math.sqrt(16-Math.pow(t.minY+4-o.y,2)):t.minX+4-Math.sqrt(16-Math.pow(t.minY+4-o.y,2)),y:i?o.y>t.centerY?t.maxY-4+Math.sqrt(16-Math.pow(t.minX+4-o.x,2)):t.minY+4-Math.sqrt(16-Math.pow(t.minX+4-o.x,2)):o.y}};if(o[a[i]]>=t[s[i]]-4&&o[a[i]]<=t[s[i]])return{added:void 0,joint:{x:i?o.x:o.x>t.centerX?t.maxX-4+Math.sqrt(16-Math.pow(o.y-t.maxY+4,2)):t.minX+4-Math.sqrt(16-Math.pow(o.y-t.maxY+4,2)),y:i?o.y>t.centerY?t.maxY-4+Math.sqrt(16-Math.pow(o.x-t.maxX+4,2)):t.minY+4-Math.sqrt(16-Math.pow(o.x-t.maxX+4,2)):o.y}};break;case"CIRCLE":if(o[a[i]]>=t[c[i]]&&o[a[i]]<=t[s[i]])return{added:void 0,joint:{x:i?o.x:o.x>t.centerX?t.centerX+Math.sqrt(16-Math.pow(t.centerY-o.y)):t.centerX-Math.sqrt(16-Math.pow(t.centerY-o.y)),y:i?o.y>t.centerY?t.centerY+Math.sqrt(16-Math.pow(t.centerX-o.x)):t.centerY-Math.sqrt(16-Math.pow(t.centerX-o.x)):o.y}};break;case"RHOMEBUS":if(o[a[i]]>=t[c[i]]&&o[a[i]]<=t[s[i]])return{added:void 0,joint:{x:i?o.x:o.x>t.centerX?o.y<t.centerY?(o.y-t.minY)*(t.maxX-t.centerX)/(t.centerY-t.minY)+t.centerX:(t.maxY-o.y)*(t.maxX-t.centerX)/(t.maxY-t.centerY)+t.centerX:o.y<t.centerY?t.centerX-(o.y-t.minY)*(t.centerX-t.minX)/(t.centerY-t.minY):t.centerX-(t.maxY-o.y)*(t.centerX-t.minX)/(t.maxY-t.centerY),y:i?o.y>t.centerY?o.x<t.centerX?(o.x-t.minX)*(t.maxY-t.centerY)/(t.centerX-t.minX)+t.centerY:(t.maxX-o.x)*(t.maxY-t.centerY)/(t.maxX-t.centerX)+t.centerY:o.x<t.centerX?t.centerY-(o.x-t.minX)*(t.centerY-t.minY)/(t.centerX-t.minX):t.centerY-(t.maxX-o.x)*(t.centerY-t.minY)/(t.maxX-t.centerX):o.y}};break;case"RECT":default:if(o[a[i]]>=t[c[i]]&&o[a[i]]<=t[s[i]])return{added:void 0,joint:{x:i?o.x:o.x>t.centerX?t.maxX:t.minX,y:i?o.y>t.centerY?t.maxY:t.minY:o.y}}}return i?o.x<t.centerX?{added:{x:o.x,y:t.centerY},joint:{x:t.minX,y:t.centerY}}:{added:{x:o.x,y:t.centerY},joint:{x:t.maxX,y:t.centerY}}:o.y<t.centerY?{added:{x:t.centerX,y:o.y},joint:{x:t.centerX,y:t.minY}}:{added:{x:t.centerX,y:o.y},joint:{x:t.centerX,y:t.maxY}}}var c=n(20);o.a.registerEdge("bpmn-base",{getPath:function(e){var t,n=e.getSource(),r=e.getTarget(),o=e.model;if(o.edgeMoved&&o.lastMouse){var s,u,l,f,h,p=o.controlPoints,d=o.hold.index,g=[{x:p[d].x+o.edgeMoved.x,y:p[d].y+o.edgeMoved.y},{x:p[d+1].x+o.edgeMoved.x,y:p[d+1].y+o.edgeMoved.y}],v=Object(i.j)(g,0);if(n){var m=a({bbox:n.getBBox(),point:v,vertical:o.hold.vertical,shape:n.model.shape});u=m.added,l=m.joint}if(0===d&&n&&(g[0]=l,u&&(g.splice(1,0,u),e.model.hold.index+=1)),r){var y=a({bbox:r.getBBox(),point:v,vertical:o.hold.vertical,shape:r.model.shape});f=y.added,h=y.joint}d===p.length-2&&r&&(u&&0===d?(g[2]=h,f&&g.splice(2,0,f)):(g[1]=h,f&&g.splice(1,0,f))),(s=o.controlPoints).splice.apply(s,[d,2].concat(g)),n&&Object(i.l)(l,p,o.hold.index)&&(p.splice(0,o.hold.index),o.hold.index=0,p[0]=l),r&&Object(i.l)(h,p,o.hold.index)&&(o.controlPoints.splice(o.hold.index+1),p[o.hold.index+1]=h),t=Object(c.mergeLine)(e,d),function(e,t,n){var r=e.controlPoints;if(t){var o=Object(i.f)(r[0],t.getBBox()),a=o.point,c=o.index;e.sourceJoint={index:c,delta:{x:r[0].x-a.x,y:r[0].y-a.y}}}if(n){var s=Object(i.f)(r[r.length-1],n.getBBox()),u=s.point,l=s.index;e.targetJoint={index:l,delta:{x:r[r.length-1].x-u.x,y:r[r.length-1].y-u.y}}}}(o,n,r),o.lastMouse={x:o.lastMouse.x+o.edgeMoved.x,y:o.lastMouse.y+o.edgeMoved.y}}else if(o.modifiedByMouse&&o.nodeMoved)!function(e,t,n){if(e.nodeMoved){var r=e.nodeMoved.item===t.id,o=e.nodeMoved.item===n.id,a=r?t.getBBox():n.getBBox(),c=e.nodeMoved.delta,s={minX:a.minX-c.x,maxX:a.maxX-c.x,centerX:a.centerX-c.x,minY:a.minY-c.y,maxY:a.maxY-c.y,centerY:a.centerY+c.y,height:a.height,width:a.width},u=e.controlPoints;if(2===u.length){var l=Object(i.d)(t,n),f=l.sourcePoint,h=l.targetPoint;e.sourceJoint&&f.index===e.sourceJoint.index&&(f.point=Object(i.c)(t.getBBox())[f.index],f.point.x+=e.sourceJoint.delta.x,f.point.y+=e.sourceJoint.delta.y),e.targetJoint&&h.index===e.targetJoint.index&&(h.point=Object(i.c)(n.getBBox())[h.index],h.point.x+=e.targetJoint.delta.x,h.point.y+=e.targetJoint.delta.y);var p=Object(i.h)(f,h);e.controlPoints=p}else{var d;d=r?1:u.length-3;var g=Object(i.i)(u,d),v=Object(i.a)(s,u,d),m=Object(i.a)(a,u,d),y=r?e.sourceJoint:e.targetJoint;if(v===m){var b=Object(i.c)(a)[y.index],x={x:b.x+y.delta.x,y:b.y+y.delta.y},w=Object(i.g)(x,u,d);r?e.controlPoints.splice(0,2,x,w):o&&e.controlPoints.splice(d+1,2,w,x)}else if(0===m)if(3===u.length){var O=Object(i.d)(t,n),S=O.sourcePoint,E=O.targetPoint,_=Object(i.h)(S,E);e.controlPoints=_}else{var P,C=Object(i.j)(u,d);P=g?C.y<a.centerY?0:2:C.x<a.centerX?3:1;var M=Object(i.c)(a)[P];if(r){var k=Object(i.g)(M,u,d+1);e.controlPoints.splice(0,3,M,k),e.sourceJoint={index:P,delta:{x:0,y:0}}}else if(o){var A=Object(i.g)(M,u,d-1);e.controlPoints.splice(d,3,A,M),e.targetJoint={index:P,delta:{x:0,y:0}}}}else{var j=Object(i.k)(y.index),T=Object(i.c)(a)[j],N=Object(i.g)(T,u,d);r?(e.controlPoints.splice(0,2,T,N),e.sourceJoint={index:j,delta:{x:0,y:0}}):o&&(e.controlPoints.splice(d+1,2,N,T),e.targetJoint={index:j,delta:{x:0,y:0}})}}}}(o,n,r);else if(!o.modifiedByMouse){var b=o.anchorIndex,x=Object(i.d)(n,r,!o.initialed&&b),w=x.sourcePoint,O=x.targetPoint,S=Object(i.h)(w,O);e.model.controlPoints=S}return o.nodeMoved=void 0,{path:this.getPathByPoints({points:o.controlPoints}),helpLine:t}},draw:function(e){var t=e.getGraphicGroup(),n=e.model,r=this.getPath(e),o=r.path,a=r.helpLine,c=this.getStyle(e),s=Object(i.b)(t,o,c);if(null!=n.hold){var u=Object(i.j)(n.controlPoints,n.hold.index);t.addShape("circle",{attrs:{x:u.x,y:u.y,r:3,fill:"rgb(0,182,239)"}})}return a&&(n.helpLine=a,n.helpLineTime=(new Date).getTime()),!a&&(new Date).getTime()-n.helpLineTime>=150&&(n.helpLine=void 0,n.helpLineTime=void 0),n.helpLine&&t.addShape("path",{attrs:{path:[["M",n.helpLine[0].x,n.helpLine[0].y],["L",n.helpLine[1].x,n.helpLine[1].y]],lineAppendWidth:8,lineWidth:1,strokeOpacity:.92,stroke:"rgba(255,139,48)"}}),s}})}]))},975:function(e,t,n){var r=n(913),o=n(915);e.exports=Object.keys||function(e){return r(e,o)}},976:function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},977:function(e,t,n){"use strict";var r=n(805),o=n(878),i=n(859),a=n(924),c=[].join,s=o!=Object,u=a("join",",");r({target:"Array",proto:!0,forced:s||u},{join:function(e){return c.call(i(this),void 0===e?",":e)}})},978:function(e,t,n){var r=n(979);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},979:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},980:function(e,t,n){var r=n(981),o=n(796);e.exports=function(e,t){return r(e,t,function(t,n){return o(e,n)})}},981:function(e,t,n){var r=n(717),o=n(742),i=n(704);e.exports=function(e,t,n){for(var a=-1,c=t.length,s={};++a<c;){var u=t[a],l=r(e,u);n(l,u)&&o(s,i(u,e),l)}return s}},982:function(e,t,n){var r=n(983),o=n(649),i=n(650);e.exports=function(e){return i(o(e,void 0,r),e+"")}},983:function(e,t,n){var r=n(984);e.exports=function(e){return null!=e&&e.length?r(e,1):[]}},984:function(e,t,n){var r=n(795),o=n(985);e.exports=function e(t,n,i,a,c){var s=-1,u=t.length;for(i||(i=o),c||(c=[]);++s<u;){var l=t[s];n>0&&i(l)?n>1?e(l,n-1,i,a,c):r(c,l):a||(c[c.length]=l)}return c}},985:function(e,t,n){var r=n(749),o=n(667),i=n(614),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},986:function(e,t,n){var r=n(987),o=n(929),i=n(989),a=n(901);e.exports=function(e){return function(t){t=a(t);var n=o(t)?i(t):void 0,c=n?n[0]:t.charAt(0),s=n?r(n,1).join(""):t.slice(1);return c[e]()+s}}},987:function(e,t,n){var r=n(988);e.exports=function(e,t,n){var o=e.length;return n=void 0===n?o:n,!t&&n>=o?e:r(e,t,n)}},988:function(e,t){e.exports=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}},989:function(e,t,n){var r=n(990),o=n(929),i=n(991);e.exports=function(e){return o(e)?i(e):r(e)}},990:function(e,t){e.exports=function(e){return e.split("")}},991:function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+r+"|"+o+")"+"?",u="[\\ufe0e\\ufe0f]?"+s+("(?:\\u200d(?:"+[i,a,c].join("|")+")[\\ufe0e\\ufe0f]?"+s+")*"),l="(?:"+[i+r+"?",r,a,c,n].join("|")+")",f=RegExp(o+"(?="+o+")|"+l+u,"g");e.exports=function(e){return e.match(f)||[]}},992:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},993:function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}},994:function(e,t,n){var r=n(995);function o(t,n,i){return"undefined"!==typeof Reflect&&Reflect.get?e.exports=o=Reflect.get:e.exports=o=function(e,t,n){var o=r(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}},o(t,n,i||t)}e.exports=o},995:function(e,t,n){var r=n(626);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}},996:function(e,t,n){var r=n(997),o=n(998),i=n(999);e.exports=function(e){return r(e)||o(e)||i()}},997:function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},998:function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},999:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}}}]);
//# sourceMappingURL=18.09643c52.chunk.js.map
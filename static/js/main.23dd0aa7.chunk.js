(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{292:function(e,t,n){e.exports=n.p+"static/media/bg.6301245d.png"},307:function(e,t,n){e.exports=n(604)},314:function(e,t,n){},35:function(e,t,n){e.exports={otherPageContainer:"src-pages-index-module__otherPageContainer--j22Fp",leftMenu:"src-pages-index-module__leftMenu--IOCFj",logo:"src-pages-index-module__logo--L7Msy",collapsed:"src-pages-index-module__collapsed--1dj4n",menuList:"src-pages-index-module__menuList--rCJnC",rightContent:"src-pages-index-module__rightContent--30wl_",TopBread:"src-pages-index-module__TopBread--XI3Ni",fold:"src-pages-index-module__fold--3ADlF",userInfo:"src-pages-index-module__userInfo--3rg-R",content:"src-pages-index-module__content--1SlHV"}},41:function(e,t,n){e.exports={box:"src-login-login-module__box--1xvLn",top:"src-login-login-module__top--2xnfa",logo:"src-login-login-module__logo--1h4dZ",title:"src-login-login-module__title--2FBsd",bottom:"src-login-login-module__bottom--1RNUN",left:"src-login-login-module__left--AYJGx",loginBox:"src-login-login-module__loginBox--1xE5l",loginTitle:"src-login-login-module__loginTitle--2qlb2",form:"src-login-login-module__form--3o1OR",submit:"src-login-login-module__submit--1RlUs",right:"src-login-login-module__right--2i5JV",copyRight:"src-login-login-module__copyRight--2f51A"}},603:function(e,t,n){},604:function(e,t,n){"use strict";n.r(t);n(308);var a,l=n(19),o=n(30),r=n(31),s=n(33),c=n(32),i=n(34),u=n(0),m=n.n(u),d=n(4),p=n.n(d),h=n(101),g=(n(314),n(293)),f=(n(315),n(517),n(80)),b=(n(265),n(73)),y=(n(219),n(7)),w=n(35),E=n.n(w),v=y.a.createFromIconfontCN({scriptUrl:"//at.alicdn.com/t/font_1331187_p4pmcd99vne.js"}),x=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(c.a)(t).call(this,e))).handleClick=function(e){e.item;var t=e.key;n.props.history.push(t)},n.renderTree=function(e){return e.map(function(e){return 1===Number(e.type)?e.subMenus&&e.subMenus.length>0?2===Number(e.subMenus[0].type)?m.a.createElement(b.a.Item,{key:e.url},e.icon?m.a.createElement(v,{type:e.icon}):null,m.a.createElement("span",null,e.name)):m.a.createElement(b.a.SubMenu,{key:e.url,title:m.a.createElement("span",null,e.icon?m.a.createElement(v,{type:e.icon}):null,m.a.createElement("span",null,e.name))},n.renderTree(e.subMenus)):m.a.createElement(b.a.Item,{key:e.url},e.icon?m.a.createElement(v,{type:e.icon}):null,m.a.createElement("span",null,e.name)):null})},n.state={selectedKeys:[],menuList:[]},n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){try{var e=JSON.parse(window.localStorage.getItem("leftMenuList")).menus||[];this.setState({menuList:e});var t=this.props.location.pathname.indexOf("?");-1===t?this.setState({selectedKeys:[this.props.location.pathname]}):this.setState({selectedKeys:[this.props.location.pathname.substr(0,t)]})}catch(n){console.log(n)}}},{key:"componentDidUpdate",value:function(e,t){try{if(e.location.pathname!==this.props.location.pathname){var n=this.props.location.pathname.indexOf("?");-1===n?this.setState({selectedKeys:[this.props.location.pathname]}):this.setState({selectedKeys:[this.props.location.pathname.substr(0,n)]})}}catch(a){console.log(a)}}},{key:"render",value:function(){var e=this;return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"".concat(E.a.logo," ").concat(this.props.collapsed?E.a.collapsed:""," logo")},m.a.createElement("img",{src:"/logo.png",alt:"logo",style:{cursor:"pointer"},onClick:function(){e.props.history.push("/homePage")}}),this.props.collapsed?null:m.a.createElement("span",null,"\u4e00\u8868\u901a\u7cfb\u7edf")),m.a.createElement("div",{className:"".concat(E.a.menuList," ").concat(this.props.collapsed?E.a.collapsed:"")},m.a.createElement(b.a,{mode:"inline",theme:"dark",inlineCollapsed:this.props.collapsed,onClick:this.handleClick,selectedKeys:this.state.selectedKeys},this.renderTree(this.state.menuList))))}}]),t}(u.Component),S=Object(f.g)(x),P=(n(296),n(206)),k=(n(295),n(125)),M=(n(302),n(221)),j=(n(124),n(42)),O=(n(305),n(152)),_=(n(154),n(25)),C=n(63),N=[{url:"/fillPlan",text:"\u586b\u62a5\u8ba1\u5212"},{url:"/myFillingTask",text:"\u6211\u7684\u586b\u62a5\u4efb\u52a1"},{url:"/dataCenter",text:"\u4e2a\u4eba\u6570\u636e\u4e2d\u5fc3"},{url:"/auditManagement",text:"\u5ba1\u6838\u7ba1\u7406"},{url:"/formManagement",text:"\u8868\u5355\u7ba1\u7406"},{url:"/defectManagement",text:"\u7ea0\u9519\u7ba1\u7406"},{url:"/dataManagement",text:"\u6570\u636e\u7ba1\u7406"},{url:"/systemSettings",text:"\u7cfb\u7edf\u8bbe\u7f6e"},{url:"/newscenter",text:"\u6d88\u606f\u4e2d\u5fc3"},{url:"/items",text:"\u4e2a\u4eba\u4e8b\u9879"},{url:"/homePage",text:"\u4e2a\u4eba\u4e2d\u5fc3"}],z=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(c.a)(t).call(this,e))).changePassWord=function(){n.setState({status:!0})},n.logout=function(){Object(C.a)("/ybt/auth/logout").then(function(e){e.success?"true"===window.localStorage.getItem("isSsoAuth")?(localStorage.clear(),Object(C.a)("/ybt/sso/casServerLogOutUrl").then(function(e){e.success&&(_.a.success("\u9000\u51fa\u6210\u529f"),window.location.href=e.obj)})):(localStorage.clear(),_.a.success("\u9000\u51fa\u6210\u529f"),window.location.href=window.location.origin):_.a.error("\u9000\u51fa\u5931\u8d25")})},n.handleCancel=function(){n.setState({status:!1})},n.handleOk=function(){return n.state.oldPassWord?n.state.newPassWord?n.state.confirmPassWord?n.state.newPassWord!==n.state.confirmPassWord?(_.a.error("\u4e24\u6b21\u5bc6\u7801\u8f93\u5165\u4e0d\u4e00\u81f4\uff01\uff01\uff01",5),!1):void Object(C.b)("/ybt/system/setting/user/editPassword",{userIds:[n.state.userId],oldPassword:n.state.oldPassWord,password:n.state.newPassWord}).then(function(e){e.success?(_.a.success("\u5bc6\u7801\u4fee\u6539\u6210\u529f\uff0c \u8bf7\u91cd\u65b0\u767b\u5f55\uff01\uff01\uff01"),setTimeout(function(){localStorage.clear(),window.location.reload(window.location.host)},2e3)):_.a.error(e.obj)}):(_.a.warn("\u8bf7\u8f93\u5165\u786e\u8ba4\u5bc6\u7801\uff01\uff01\uff01",5),!1):(_.a.warn("\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801\uff01\uff01\uff01",5),!1):(_.a.warn("\u8bf7\u8f93\u5165\u65e7\u5bc6\u7801\uff01\uff01\uff01",5),!1)},n.oldPassWord=function(e){n.setState({oldPassWord:e.target.value})},n.newPassWord=function(e){n.setState({newPassWord:e.target.value})},n.confirmPassWord=function(e){n.setState({confirmPassWord:e.target.value})},n._toggleMenu=function(){n.props.toggleMenu()},n.viewHelp=function(){window.open("http://".concat(window.location.host,"/help.pdf"),"_blank")},n.state={currentModule:{url:"/homePage",text:"\u4e2a\u4eba\u4e2d\u5fc3"},status:!1,oldPassWord:"",newPassWord:"",confirmPassWord:"",departName:"",name:"",userId:""},n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("leftMenuList");e&&(e=JSON.parse(e),this.setState({departName:e.departName,name:e.name,userId:e.userId}));try{var t=this.props.location.pathname,n=N.find(function(e){return-1!==t.indexOf(e.url)});n?this.setState({currentModule:{url:n.url,text:n.text}}):this.setState({currentModule:{url:"",text:""}})}catch(a){console.log(a)}}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(e.location.pathname!==this.props.location.pathname){var a=N.find(function(e){return-1!==n.props.location.pathname.indexOf(e.url)});a?this.setState({currentModule:{url:a.url,text:a.text}}):this.setState({currentModule:{url:"",text:""}})}}},{key:"render",value:function(){var e="true"===window.localStorage.getItem("isSsoAuth");return m.a.createElement("div",{className:E.a.TopBread},m.a.createElement(y.a,{type:this.props.collapsed?"menu-unfold":"menu-fold",onClick:this._toggleMenu,className:E.a.fold}),m.a.createElement(O.a,null,m.a.createElement(O.a.Item,null,m.a.createElement(h.b,{to:"/homePage"},"\u4e00\u8868\u901a\u7cfb\u7edf")),m.a.createElement(O.a.Item,null,this.state.currentModule.text)),m.a.createElement("div",{className:E.a.userInfo},this.state.departName,m.a.createElement("span",null,this.state.name),m.a.createElement(M.a,{placement:"topLeft",trigger:"click",content:m.a.createElement("div",{style:{width:"120px"}},e?null:m.a.createElement(j.a,{type:"link",block:!0,onClick:this.changePassWord},"\u4fee\u6539\u5bc6\u7801"),m.a.createElement(j.a,{type:"link",block:!0,onClick:this.logout},"\u9000\u51fa\u767b\u5f55"),m.a.createElement(j.a,{type:"link",block:!0,onClick:this.viewHelp},"\u5e2e\u52a9\u6587\u6863"))},m.a.createElement(y.a,{type:"setting"}))),m.a.createElement(P.a,{title:"\u4fee\u6539\u5bc6\u7801",visible:this.state.status,onOk:this.handleOk,onCancel:this.handleCancel},m.a.createElement("p",null,m.a.createElement("span",{style:{width:"100px",float:"left",lineHeight:"34px"}},"\u65e7\u5bc6\u7801\uff1a"),m.a.createElement(k.a,{style:{width:"200px"},type:"password",onChange:this.oldPassWord})),m.a.createElement("p",null,m.a.createElement("span",{style:{width:"100px",float:"left",lineHeight:"34px"}},"\u65b0\u5bc6\u7801\uff1a"),m.a.createElement(k.a,{style:{width:"200px"},type:"password",onChange:this.newPassWord})),m.a.createElement("p",null,m.a.createElement("span",{style:{width:"100px",float:"left",lineHeight:"34px"}},"\u5bc6\u7801\u786e\u8ba4\uff1a"),m.a.createElement(k.a,{style:{width:"200px"},type:"password",onChange:this.confirmPassWord}))))}}]),t}(u.Component),I=Object(f.g)(z),T=m.a.lazy(function(){return Promise.all([n.e(0),n.e(2),n.e(3),n.e(4),n.e(37)]).then(n.bind(null,1240))}),W=m.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(33)]).then(n.bind(null,1243))}),F=m.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(17)]).then(n.bind(null,1258))}),L=m.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(5),n.e(6),n.e(45)]).then(n.bind(null,1259))}),D=m.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(35)]).then(n.bind(null,1242))}),U=m.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(19)]).then(n.bind(null,1249))}),B=m.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(44),n.e(51)]).then(n.bind(null,1225))}),A=m.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(27)]).then(n.bind(null,1250))}),J=m.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(32)]).then(n.bind(null,1245))}),R=m.a.lazy(function(){return Promise.all([n.e(2),n.e(3),n.e(4),n.e(39),n.e(53)]).then(n.bind(null,1226))}),K=m.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(13)]).then(n.bind(null,1238))}),H=m.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(46)]).then(n.bind(null,1227))}),q=m.a.lazy(function(){return Promise.all([n.e(0),n.e(2),n.e(3),n.e(4),n.e(38)]).then(n.bind(null,1246))}),V=m.a.lazy(function(){return n.e(50).then(n.bind(null,1228))}),G=m.a.lazy(function(){return Promise.all([n.e(1),n.e(2),n.e(3),n.e(4),n.e(24)]).then(n.bind(null,1244))}),X=m.a.lazy(function(){return Promise.all([n.e(1),n.e(2),n.e(3),n.e(4),n.e(25)]).then(n.bind(null,1260))}),Y=m.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(12)]).then(n.bind(null,1229))}),Z=m.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(36)]).then(n.bind(null,1230))}),Q=m.a.lazy(function(){return Promise.all([n.e(1),n.e(2),n.e(3),n.e(4),n.e(16)]).then(n.bind(null,1104))}),$=m.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(20)]).then(n.bind(null,1247))}),ee=m.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(5),n.e(41)]).then(n.bind(null,1231))}),te=m.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(18)]).then(n.bind(null,1262))}),ne=m.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(10)]).then(n.bind(null,1237))}),ae=m.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(14)]).then(n.bind(null,1239))}),le=m.a.lazy(function(){return Promise.all([n.e(2),n.e(3),n.e(22),n.e(49)]).then(n.bind(null,1232))}),oe=m.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(40),n.e(48)]).then(n.bind(null,1233))}),re=m.a.lazy(function(){return n.e(52).then(n.bind(null,1234))}),se=m.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(42),n.e(47)]).then(n.bind(null,1248))}),ce=m.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(29)]).then(n.bind(null,1251))}),ie=m.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(28)]).then(n.bind(null,1252))}),ue=m.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(23)]).then(n.bind(null,1253))}),me=m.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(26)]).then(n.bind(null,1254))}),de=m.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(5),n.e(6),n.e(34)]).then(n.bind(null,1255))}),pe=m.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(5),n.e(6),n.e(43)]).then(n.bind(null,1261))}),he=m.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(15)]).then(n.bind(null,1256))}),ge=m.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(21)]).then(n.bind(null,1257))}),fe=m.a.lazy(function(){return Promise.all([n.e(0),n.e(2),n.e(3),n.e(4),n.e(30)]).then(n.bind(null,1235))}),be=m.a.lazy(function(){return Promise.all([n.e(0),n.e(2),n.e(3),n.e(4),n.e(31)]).then(n.bind(null,1236))}),ye=m.a.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(11)]).then(n.bind(null,1241))}),we=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(c.a)(t).call(this,e)))._toggleMenu=function(){n.setState({collapsed:!n.state.collapsed})},n.state={collapsed:!0},n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("onbeforeunload",function(){window.localStorage.removeItem("leftMenuList"),window.localStorage.removeItem("loginStatus")})}},{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:E.a.otherPageContainer},m.a.createElement("div",{className:"".concat(E.a.leftMenu," costom-menu-theme")},m.a.createElement(S,{collapsed:this.state.collapsed})),m.a.createElement("div",{className:E.a.rightContent},"/homePage"===this.props.history.location.pathname?null:m.a.createElement(I,{toggleMenu:this._toggleMenu,collapsed:this.state.collapsed}),m.a.createElement("div",{className:E.a.content},m.a.createElement(u.Suspense,{fallback:m.a.createElement("div",null,"Loading...")},m.a.createElement(f.d,null,m.a.createElement(f.b,{path:"/homePage",exact:!0,render:function(){return m.a.createElement(T,{toggleMenu:e._toggleMenu,collapsed:e.state.collapsed})}}),m.a.createElement(f.b,{path:"/fillPlan",exact:!0,component:W}),m.a.createElement(f.b,{path:"/fillPlan/step1",component:F}),m.a.createElement(f.b,{path:"/fillPlan/step2",component:L}),m.a.createElement(f.b,{path:"/fillPlan/step3",component:D}),m.a.createElement(f.b,{path:"/fillPlan/step4",component:U}),m.a.createElement(f.b,{path:"/fillPlan/step5",component:B}),m.a.createElement(f.b,{path:"/myFillingTask",exact:!0,component:J}),m.a.createElement(f.b,{path:"/myFillingTask/step1",component:R}),m.a.createElement(f.b,{path:"/myFillingTask/step2",component:K}),m.a.createElement(f.b,{path:"/myFillingTask/step3",component:H}),m.a.createElement(f.b,{path:"/dataCenter",exact:!0,component:V}),m.a.createElement(f.b,{path:"/summaryRecordManagement",exact:!0,component:G}),m.a.createElement(f.b,{path:"/auditManagement",exact:!0,component:X}),m.a.createElement(f.b,{path:"/auditManagement/audit",exact:!0,component:Y}),m.a.createElement(f.b,{path:"/auditManagement/lookUp",exact:!0,component:Z}),m.a.createElement(f.b,{path:"/auditManagement/preview",exact:!0,component:Q}),m.a.createElement(f.b,{path:"/formManagement",exact:!0,component:$}),m.a.createElement(f.b,{path:"/formManagement/createForm",exact:!0,component:ee}),m.a.createElement(f.b,{path:"/formManagement/setWorkFlow",exact:!0,component:te}),m.a.createElement(f.b,{path:"/formManagement/designForm",exact:!0,component:ne}),m.a.createElement(f.b,{path:"/formManagement/previewForm",exact:!0,component:ae}),m.a.createElement(f.b,{path:"/formManagement/uploadTemplate",exact:!0,component:oe}),m.a.createElement(f.b,{path:"/formManagement/previewWorkFlowContainer",exact:!0,component:le}),m.a.createElement(f.b,{path:"/defectManagement",exact:!0,component:re}),m.a.createElement(f.b,{path:"/dataManagement",exact:!0,render:function(e){return m.a.createElement(f.a,{to:"/dataManagement/dataSourceManagement"})}}),m.a.createElement(f.b,{path:"/dataManagement/dataSourceManagement",exact:!0,component:se}),m.a.createElement(f.b,{path:"/dataManagement/dataSetManagement",exact:!0,component:ce}),m.a.createElement(f.b,{path:"/systemSettings",exact:!0,render:function(e){return m.a.createElement(f.a,{to:"/systemSettings/workFlowManagement"})}}),m.a.createElement(f.b,{path:"/systemSettings/workFlowManagement",exact:!0,component:ie}),m.a.createElement(f.b,{path:"/systemSettings/userManagement",exact:!0,component:ue}),m.a.createElement(f.b,{path:"/systemSettings/menuManagement",exact:!0,component:me}),m.a.createElement(f.b,{path:"/systemSettings/departmentManagement",exact:!0,component:de}),m.a.createElement(f.b,{path:"/systemSettings/roleManagement",exact:!0,component:pe}),m.a.createElement(f.b,{path:"/systemSettings/groupManagement",exact:!0,component:he}),m.a.createElement(f.b,{path:"/systemSettings/summaryTemplateManagement",exact:!0,component:ge}),m.a.createElement(f.b,{path:"/systemSettings/summaryTemplateManagement/add",exact:!0,component:fe}),m.a.createElement(f.b,{path:"/systemSettings/summaryTemplateManagement/edit",exact:!0,component:be}),m.a.createElement(f.b,{path:"/newscenter",component:A}),m.a.createElement(f.b,{path:"/items",component:q}),m.a.createElement(f.b,{path:"/workFlowDesign",component:ye}),m.a.createElement(f.b,{path:"/otherpage",render:function(e){return m.a.createElement(f.a,{to:"/fillPlan"})}}),m.a.createElement(f.b,{path:"/",render:function(e){return m.a.createElement(f.a,{to:"/homePage"})}}))))))}}]),t}(u.Component),Ee=Object(f.g)(we),ve=n(41),xe=n.n(ve),Se=n(292),Pe=n.n(Se),ke=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(l)))).state={username:"",password:"",isSSo:!0},n.keyDown=function(e){13===e.keyCode&&n.loginIn()},n.loginIn=function(){var e=n.state,t=e.username,a=e.password;return""===t?(_.a.warning("\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7a7a"),!1):""===a?(_.a.warning("\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"),!1):void Object(C.b)("/ybt/auth/login",{username:t,password:a,rememberMe:"0"},1,1).then(function(e){e.success?(window.localStorage.setItem("loginStatus","true"),window.localStorage.setItem("leftMenuList",JSON.stringify(e.obj)),window.location.reload()):_.a.error(e.obj)})},n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(-1!==window.location.href.indexOf("sso=1")){var t=window.location.href.split("ticket=")[1];localStorage.setItem("ticket",t),window.localStorage.setItem("isSsoAuth","true"),Object(C.a)("/ybt/auth/user/info").then(function(e){e.success?(window.localStorage.setItem("loginStatus","true"),window.localStorage.setItem("leftMenuList",JSON.stringify(e.obj)),window.location.reload()):_.a.error(e.obj)})}else Object(C.a)("/ybt/sso/isSsoAuth").then(function(t){t.success&&(1===t.obj?(window.localStorage.setItem("isSsoAuth","true"),e.setState({isSSo:!0}),Object(C.a)("/ybt/sso/casServerLoginUrl").then(function(e){e.success&&(window.location.href=e.obj)})):0===t.obj&&(e.setState({isSSo:!1}),window.addEventListener("keydown",e.keyDown,!1)))})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.keyDown,!1)}},{key:"render",value:function(){var e=this;return this.state.isSSo?"\u8df3\u8f6c\u4e2d...":m.a.createElement("div",{className:xe.a.box},m.a.createElement("div",{className:xe.a.top},m.a.createElement("img",{className:xe.a.logo,src:"/logo.png",alt:""}),m.a.createElement("div",{className:xe.a.title},window.choolNameConfig,"\u4e00\u8868\u901a\u7cfb\u7edf")),m.a.createElement("div",{className:xe.a.bottom},m.a.createElement("div",{className:xe.a.left},m.a.createElement("div",{className:xe.a.loginBox},m.a.createElement("div",{className:xe.a.loginTitle},"\u8bf7\u767b\u5f55\u60a8\u7684\u8d26\u6237"),m.a.createElement("div",{className:xe.a.form},m.a.createElement("p",null,"\u8d26\u53f7"),m.a.createElement("input",{placeholder:"\u8bf7\u8f93\u5165\u8d26\u53f7",autoComplete:"new-password",onChange:function(t){e.setState({username:t.target.value})}}),m.a.createElement("p",{style:{marginTop:20}},"\u5bc6\u7801"),m.a.createElement("input",{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",type:"password",autoComplete:"new-password",onChange:function(t){e.setState({password:t.target.value})}})),m.a.createElement("div",{style:{textAlign:"center"}},m.a.createElement("div",{onClick:this.loginIn,className:xe.a.submit},"\u767b\u5f55")))),m.a.createElement("div",{className:xe.a.right},m.a.createElement("img",{src:Pe.a,alt:""}),m.a.createElement("p",{className:xe.a.copyRight},"\u7248\u6743\u6240\u6709 Copyright \xa9 2019 ",window.choolNameConfig))))}}]),t}(m.a.Component),Me=document.getElementById("root"),je=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(c.a)(t).call(this,e))).el=document.createElement("div"),n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){Me.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){Me.removeChild(this.el)}},{key:"render",value:function(){return p.a.createPortal(this.props.children,this.el)}}]),t}(m.a.Component),Oe=(n(603),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return m.a.createElement(je,null,m.a.createElement("div",{className:"shield",id:"loadingDom",style:{display:"none"}},m.a.createElement("span",{className:"item-1"}),m.a.createElement("span",{className:"item-2"}),m.a.createElement("span",{className:"item-3"}),m.a.createElement("span",{className:"item-4"}),m.a.createElement("span",{className:"item-5"}),m.a.createElement("span",{className:"item-6"}),m.a.createElement("span",{className:"item-7"})))}}]),t}(m.a.Component)),_e=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=window.localStorage.getItem("loginStatus");return m.a.createElement(l.b,{locale:g.a},m.a.createElement(h.a,null,m.a.createElement(m.a.Fragment,null,"true"===e?m.a.createElement(Ee,null):m.a.createElement(ke,null),m.a.createElement(Oe,null))))}}]),t}(m.a.Component);a=_e,p.a.render(m.a.createElement(a,null),document.getElementById("root"))},63:function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return b});n(154);var a=n(25),l=n(289),o=n.n(l),r=n(290),s=n.n(r),c=function(){var e=window.document.getElementById("loadingDom");e&&(e.style.display="none")},i=function(){var e=window.document.getElementById("loadingDom");e&&(e.style.display="flex")},u=["application/json","application/x-www-form-urlencoded;charset=UTF-8","multipart/form-data"],m={baseURL:"",timeout:0,headers:{post:{"Content-Type":u[0]}}},d=o.a.create(m),p=0,h=!0,g=u[0];d.interceptors.request.use(function(e){return h&&p++,p>0&&i(),e},function(e){return Promise.reject(e)}),d.interceptors.response.use(function(e){h&&p--,p<=0?(p=0,c()):i();var t=e.data;return t.success?{success:!0,obj:t.obj}:5===t.errorCode?(window.localStorage.clear(),window.location.href="http://".concat(window.location.host),c(),{success:!1}):{success:!1,obj:t.msg}},function(e){if(e&&e.response){if(a.a.warn(e.response.statusText),!(e.response.status>=300&&e.response.status<400))return--p<=0&&c(),Promise.reject(e);setTimeout(function(){window.localStorage.clear(),window.location.href="http://".concat(window.location.host)},1e3)}else setTimeout(function(){window.localStorage.clear(),window.location.href="http://".concat(window.location.host)},1e3)});var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,a=localStorage.getItem("ticket");if(a){var l=e.indexOf("?");e=-1===l?e+"?ticket="+a:e+"&ticket="+a}return h=!n||1!==n,d.get(e,{params:t})},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,l=localStorage.getItem("ticket");if(l){var o=e.indexOf("?");e=-1===o?e+"?ticket="+l:e+"&ticket="+l}h=!n||1!==n;var r,c=u[a]||g;return c===u[1]?r=s.a.stringify(t):c===u[0]?r=JSON.stringify(t):c===u[2]&&(r=t),d.post(e,r,{headers:{"Content-Type":c}})}}},[[307,8,9]]]);
//# sourceMappingURL=main.23dd0aa7.chunk.js.map
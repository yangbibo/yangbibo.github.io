{"version":3,"sources":["pages/myFillingTask/step1/index.js"],"names":["index","props","_this","Object","_Users_bobo_Documents_sunmnet_font_project_YBT_PRODUCT_FRONT_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_9__","this","_Users_bobo_Documents_sunmnet_font_project_YBT_PRODUCT_FRONT_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_11__","_Users_bobo_Documents_sunmnet_font_project_YBT_PRODUCT_FRONT_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_12__","call","getData","postAction","concat","state","pagination","current","pageSize","condition","then","res","success","_Users_bobo_Documents_sunmnet_font_project_YBT_PRODUCT_FRONT_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_8__","obj","page","total","setState","dataSource","rows","handleTableChange","nextStep","radioValue","length","antd_es_message__WEBPACK_IMPORTED_MODULE_7__","warning","getAction","formId","window","localStorage","setItem","formTaskId","history","push","error","_search","value","columns","title","dataIndex","align","showTotal","range","showQuickJumper","showSizeChanger","_this2","rowSelection","onChange","selectedRowKeys","selectedRows","type","react__WEBPACK_IMPORTED_MODULE_14___default","a","createElement","style","padding","boxShadow","minHeight","antd_es_input__WEBPACK_IMPORTED_MODULE_5__","Search","placeholder","width","onSearch","antd_es_table__WEBPACK_IMPORTED_MODULE_3__","rowKey","record","textAlign","antd_es_button__WEBPACK_IMPORTED_MODULE_1__","onClick","marginRight","Component"],"mappings":"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","file":"static/js/53.aac40058.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport { Table, Button, message, Input } from 'antd';\nimport {getAction,postAction } from '@/axios';\nexport default class index extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            radioValue:[],\n            columns:[\n                {\n                    title:\"表单编号\",\n                    dataIndex:\"formId\",\n                    align:\"center\"\n                },{\n                    title:\"表单名称\",\n                    dataIndex:\"formName\",\n                    align:\"center\"\n                }\n            ],\n            dataSource:[],\n            pagination:{\n                total:0,         //总数\n                current:1,\n                pageSize:10,\n                showTotal:(total, range)=> `总共 ${total} 条`,//显示总条数\n                showQuickJumper:true,//是否可以快速跳转至某页\n                showSizeChanger:false,//页长设置\n            },\n            condition:\"\"\n        }\n    }\n    getData=()=>{\n        postAction(`/ybt/form/inUsing/list?pageNum=${this.state.pagination.current}&pageSize=${this.state.pagination.pageSize}&condition=${this.state.condition}`).then(res=>{\n            if(res.success){\n                let pagination={\n                    ...this.state.pagination,\n                    current:res.obj.page,\n                    total:res.obj.total\n                }\n                this.setState({\n                    dataSource:res.obj.rows,\n                    pagination\n                })\n            }\n        })\n    }\n    componentDidMount() {\n        this.getData()\n    }\n    handleTableChange=(pagination)=>{\n        this.setState({\n            pagination:pagination\n        },()=>{\n            this.getData()\n        })\n    }\n   \n    nextStep = () => {\n        if(this.state.radioValue.length<=0){\n            return message.warning('请选择表单')\n        }\n        getAction(`/ybt/form/task/self/lauch`,{\n            formId:this.state.radioValue[0]\n        }).then(res=>{\n            if(res.success){\n                message.success('操作成功');\n                window.localStorage.setItem(\"formIdStep2\",this.state.radioValue[0])\n                this.setState({\n                    radioValue:[res.obj.formTaskId]\n                },()=>{\n                    this.props.history.push(`/myFillingTask/step2/fill?id=${this.state.radioValue[0]}&type=fill`)\n                })\n            }else{\n                message.error(res.obj)\n            }\n        })\n       \n    }\n    _search = (value) => {\n        this.setState({\n            condition:value\n        },this.getData)\n    }\n    render() {\n        const rowSelection = {\n            onChange: (selectedRowKeys, selectedRows) => {\n                this.setState({\n                    radioValue:selectedRowKeys\n                })\n            },\n            type:'radio',\n            selectedRowKeys:this.state.radioValue\n            \n        };\n        return (\n            <div style={{padding:20}}>\n                <div style={{boxShadow:\"0px 0px 13px 0px rgba(0,0,0,0.05)\",padding:\"20px\",minHeight:\"300px\"}}>\n                    表单名称/编号：<Input.Search placeholder=\"请输入表单或编号\" style={{width:280}} onSearch={this._search}/>\n                    <Table\n                        rowSelection={rowSelection}\n                        rowKey={record=>record.formId}\n                        columns={this.state.columns}\n                        dataSource={this.state.dataSource}\n                        pagination={this.state.pagination}\n                        onChange={this.handleTableChange}\n                    />\n                    <div style={{textAlign:\"right\"}}>\n                        <Button type=\"primary\" onClick={this.nextStep} style={{marginRight:\"20px\"}}>下一步</Button>\n                        <Button onClick={() => {this.props.history.push(\"/myFillingTask\")}}>取 消</Button>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n"],"sourceRoot":""}